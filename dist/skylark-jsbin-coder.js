/**
 * skylark-jsbin-coder - A version of jsbin-editor  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-coder/
 * @license MIT
 */
!function(e,t){var r=t.define,require=t.require,n="function"==typeof r&&r.amd,o=!n&&"undefined"!=typeof exports;if(!n&&!r){var i={};r=t.define=function(e,t,r){"function"==typeof r?(i[e]={factory:r,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var r=t.split("/"),n=e.split("/");r.pop();for(var o=0;o<n.length;o++)"."!=n[o]&&(".."==n[o]?r.pop():r.push(n[o]));return r.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):i[e]={factory:null,resolved:!0,exports:r}},require=t.require=function(e){if(!i.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=i[e];if(!module.resolved){var r=[];module.deps.forEach(function(e){r.push(require(e))}),module.exports=module.factory.apply(t,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-jsbin-coder/jsbin",["skylark-jsbin-base"],function(e){return e}),e("skylark-jsbin-coder/coder",["./jsbin"],function(e){return e.coder={editors:{},render:{}}}),e("skylark-codemirror/mode/xml/xml",["../../CodeMirror"],function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(n,o){var i,a,s=n.indentUnit,l={},c=o.htmlMode?t:r;for(var u in c)l[u]=c[u];for(var u in o)l[u]=o[u];function d(e,t){function r(r){return t.tokenize=r,r(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?r(f("atom","]]>")):null:e.match("--")?r(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(function e(t){return function(r,n){for(var o;null!=(o=r.next());){if("<"==o)return n.tokenize=e(t+1),n.tokenize(r,n);if(">"==o){if(1==t){n.tokenize=d;break}return n.tokenize=e(t-1),n.tokenize(r,n)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(i=e.eat("/")?"closeTag":"openTag",t.tokenize=p,"tag bracket"):"&"==n?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function p(e,t){var r,n,o=e.next();if(">"==o||"/"==o&&e.eat(">"))return t.tokenize=d,i=">"==o?"endTag":"selfcloseTag","tag bracket";if("="==o)return i="equals",null;if("<"==o){t.tokenize=d,t.state=g,t.tagName=t.tagStart=null;var a=t.tokenize(e,t);return a?a+" tag error":"tag error"}return/[\'\"]/.test(o)?(t.tokenize=(r=o,(n=function(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=p;break}return"string"}).isInAttribute=!0,n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e,t){return function(r,n){for(;!r.eol();){if(r.match(t)){n.tokenize=d;break}r.next()}return e}}function m(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!l.contextGrabbers.hasOwnProperty(r)||!l.contextGrabbers[r].hasOwnProperty(t))return;m(e)}}function g(e,t,r){return"openTag"==e?(r.tagStart=t.column(),b):"closeTag"==e?v:g}function b(e,t,r){return"word"==e?(r.tagName=t.current(),a="tag",k):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",k(e,t,r)):(a="error",b)}function v(e,t,r){if("word"==e){var n=t.current();return r.context&&r.context.tagName!=n&&l.implicitlyClosed.hasOwnProperty(r.context.tagName)&&m(r),r.context&&r.context.tagName==n||!1===l.matchClosing?(a="tag",y):(a="tag error",j)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",y(e,t,r)):(a="error",j)}function y(e,t,r){return"endTag"!=e?(a="error",y):(m(r),g)}function j(e,t,r){return a="error",y(e,t,r)}function k(e,t,r){if("word"==e)return a="attribute",x;if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,o=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(n)?h(r,n):(h(r,n),r.context=new function(e,t,r){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=r,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(r,n,o==r.indented)),g}return a="error",k}function x(e,t,r){return"equals"==e?w:(l.allowMissing||(a="error"),k(e,t,r))}function w(e,t,r){return"string"==e?C:"word"==e&&l.allowUnquoted?(a="string",k):(a="error",k(e,t,r))}function C(e,t,r){return"string"==e?C:k(e,t,r)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:g,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var r=t.tokenize(e,t);return(r||i)&&"comment"!=r&&(a=null,t.state=t.state(i||r,e,t),a&&(r="error"==a?r+" error":a)),r},indent:function(t,r,n){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=p&&t.tokenize!=d)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(r))return 0;var i=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(i&&i[1])for(;o;){if(o.tagName==i[2]){o=o.prev;break}if(!l.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(i)for(;o;){var a=l.contextGrabbers[o.tagName];if(!a||!a.hasOwnProperty(i[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=k)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),e("skylark-codemirror/mode/css/css",["../../CodeMirror"],function(e){"use strict";function t(e){for(var t={},r=0;r<e.length;++r)t[e[r].toLowerCase()]=!0;return t}e.defineMode("css",function(t,r){var n=r.inline;r.propertyKeywords||(r=e.resolveMode("text/css"));var o,i,a=t.indentUnit,s=r.tokenHooks,l=r.documentTypes||{},c=r.mediaTypes||{},u=r.mediaFeatures||{},d=r.mediaValueKeywords||{},p=r.propertyKeywords||{},f=r.nonStandardPropertyKeywords||{},m=r.fontProperties||{},h=r.counterDescriptors||{},g=r.colorKeywords||{},b=r.valueKeywords||{},v=r.allowNested,y=r.lineComment,j=!0===r.supportsAtComponent;function k(e,t){return o=t,e}function x(e){return function(t,r){for(var n,o=!1;null!=(n=t.next());){if(n==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==n}return(n==e||!o&&")"!=e)&&(r.tokenize=null),k("string","string")}}function w(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=x(")"),k(null,"(")}function C(e,t,r){this.type=e,this.indent=t,this.prev=r}function M(e,t,r,n){return e.context=new C(r,t.indentation()+(!1===n?0:a),e.context),r}function T(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function S(e,t,r){return A[r.context.type](e,t,r)}function O(e,t,r,n){for(var o=n||1;o>0;o--)r.context=r.context.prev;return S(e,t,r)}function q(e){var t=e.current().toLowerCase();i=b.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var A={top:function(e,t,r){if("{"==e)return M(r,t,"block");if("}"==e&&r.context.prev)return T(r);if(j&&/@component/i.test(e))return M(r,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return M(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return M(r,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return M(r,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return M(r,t,"interpolation");if(":"==e)return"pseudo";if(v&&"("==e)return M(r,t,"parens")}return r.context.type},block:function(e,t,r){if("word"==e){var n=t.current().toLowerCase();return p.hasOwnProperty(n)?(i="property","maybeprop"):f.hasOwnProperty(n)?(i="string-2","maybeprop"):v?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")}return"meta"==e?"block":v||"hash"!=e&&"qualifier"!=e?A.top(e,t,r):(i="error","block")},maybeprop:function(e,t,r){return":"==e?M(r,t,"prop"):S(e,t,r)},prop:function(e,t,r){if(";"==e)return T(r);if("{"==e&&v)return M(r,t,"propBlock");if("}"==e||"{"==e)return O(e,t,r);if("("==e)return M(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)q(t);else if("interpolation"==e)return M(r,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?T(r):"word"==e?(i="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?O(e,t,r):")"==e?T(r):"("==e?M(r,t,"parens"):"interpolation"==e?M(r,t,"interpolation"):("word"==e&&q(t),"parens")},pseudo:function(e,t,r){return"meta"==e?"pseudo":"word"==e?(i="variable-3",r.context.type):S(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&l.hasOwnProperty(t.current())?(i="tag",r.context.type):A.atBlock(e,t,r)},atBlock:function(e,t,r){if("("==e)return M(r,t,"atBlock_parens");if("}"==e||";"==e)return O(e,t,r);if("{"==e)return T(r)&&M(r,t,v?"block":"top");if("interpolation"==e)return M(r,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();i="only"==n||"not"==n||"and"==n||"or"==n?"keyword":c.hasOwnProperty(n)?"attribute":u.hasOwnProperty(n)?"property":d.hasOwnProperty(n)?"keyword":p.hasOwnProperty(n)?"property":f.hasOwnProperty(n)?"string-2":b.hasOwnProperty(n)?"atom":g.hasOwnProperty(n)?"keyword":"error"}return r.context.type},atComponentBlock:function(e,t,r){return"}"==e?O(e,t,r):"{"==e?T(r)&&M(r,t,v?"block":"top",!1):("word"==e&&(i="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?T(r):"{"==e||"}"==e?O(e,t,r,2):A.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?M(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(i="variable","restricted_atBlock_before"):S(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,T(r)):"word"==e?(i="@font-face"==r.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(i="variable","keyframes"):"{"==e?M(r,t,"top"):S(e,t,r)},at:function(e,t,r){return";"==e?T(r):"{"==e||"}"==e?O(e,t,r):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?T(r):"{"==e||";"==e?O(e,t,r):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new C(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var r=(t.tokenize||function(e,t){var r=e.next();if(s[r]){var n=s[r](e,t);if(!1!==n)return n}if("@"==r)return e.eatWhile(/[\w\\\-]/),k("def",e.current());if("="==r||("~"==r||"|"==r)&&e.eat("="))return k(null,"compare");if('"'==r||"'"==r)return t.tokenize=x(r),t.tokenize(e,t);if("#"==r)return e.eatWhile(/[\w\\\-]/),k("atom","hash");if("!"==r)return e.match(/^\s*\w*/),k("keyword","important");if(/\d/.test(r)||"."==r&&e.eat(/\d/))return e.eatWhile(/[\w.%]/),k("number","unit");if("-"!==r)return/[,+>*\/]/.test(r)?k(null,"select-op"):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?k("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(r)?k(null,r):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=w),k("variable callee","variable")):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),k("property","word")):k(null,null);if(/[\d.]/.test(e.peek()))return e.eatWhile(/[\w.%]/),k("number","unit");if(e.match(/^-[\w\\\-]*/))return e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?k("variable-2","variable-definition"):k("variable-2","variable");if(e.match(/^\w+-/))return k("meta","meta")})(e,t);return r&&"object"==typeof r&&(o=r[1],r=r[0]),i=r,"comment"!=o&&(t.state=A[t.state](o,e,t)),i},indent:function(e,t){var r=e.context,n=t&&t.charAt(0),o=r.indent;return"prop"!=r.type||"}"!=n&&")"!=n||(r=r.prev),r.prev&&("}"!=n||"block"!=r.type&&"top"!=r.type&&"interpolation"!=r.type&&"restricted_atBlock"!=r.type?(")"!=n||"parens"!=r.type&&"atBlock_parens"!=r.type)&&("{"!=n||"at"!=r.type&&"atBlock"!=r.type)||(o=Math.max(0,r.indent-a)):(r=r.prev,o=r.indent)),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:y,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],n=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),p=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(p),m=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),h=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=t(g),v=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=t(v),j=r.concat(o).concat(a).concat(l).concat(u).concat(p).concat(g).concat(v);function k(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}e.registerHelper("hintWords","css",j),e.defineMIME("text/css",{documentTypes:n,mediaTypes:i,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:m,counterDescriptors:h,colorKeywords:b,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:b,valueKeywords:y,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:b,valueKeywords:y,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:i,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:m,counterDescriptors:h,colorKeywords:b,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css",helperType:"gss"})}),e("skylark-codemirror/mode/javascript/javascript",["../../CodeMirror"],function(e){"use strict";e.defineMode("javascript",function(t,r){var n,o,i=t.indentUnit,a=r.statementIndent,s=r.jsonld,l=r.json||s,c=r.typescript,u=r.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),o=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:o,break:o,continue:o,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),p=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e,t,r){return n=e,o=r,t}function h(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,o=!1;if(s&&"@"==e.peek()&&e.match(f))return t.tokenize=h,m("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||o);)o=!o&&"\\"==n;return o||(t.tokenize=h),m("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return m("number","number");if(/\d/.test(n))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):Fe(e,t,1)?(function(e){var t,r=!1,n=!1;for(;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=b,b(e,t);if("#"==n)return e.skipToEnd(),m("error","error");if(p.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),m("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var o=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(o)){var i=d[o];return m(i.type,i.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",o)}return m("variable","variable",o)}}function g(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=h;break}n="*"==r}return m("comment","comment")}function b(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=h;break}n=!n&&"\\"==r}return m("quasi","string-2",e.current())}var v="([{}])";function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var o=0,i=!1,a=r-1;a>=0;--a){var s=e.string.charAt(a),l=v.indexOf(s);if(l>=0&&l<3){if(!o){++a;break}if(0==--o){"("==s&&(i=!0);break}}else if(l>=3&&l<6)++o;else if(u.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!o){++a;break}}}i&&!o&&(t.fatArrowAt=a)}}var j={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(e,t,r,n,o,i){this.indented=e,this.column=t,this.type=r,this.prev=o,this.info=i,null!=n&&(this.align=n)}function x(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}var w={state:null,column:null,marked:null,cc:null};function C(){for(var e=arguments.length-1;e>=0;e--)w.cc.push(arguments[e])}function M(){return C.apply(null,arguments),!0}function T(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function S(e){var t=w.state;if(w.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new q(n,r.vars,!0):null}return T(t,r.vars)?r:new q(r.prev,new A(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!T(e,t.localVars))return void(t.localVars=new A(e,t.localVars));r.globalVars&&!T(e,t.globalVars)&&(t.globalVars=new A(e,t.globalVars))}function O(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function q(e,t,r){this.prev=e,this.vars=t,this.block=r}function A(e,t){this.name=e,this.next=t}var L=new A("this",new A("arguments",null));function I(){w.state.context=new q(w.state.context,w.state.localVars,!1),w.state.localVars=L}function P(){w.state.context=new q(w.state.context,w.state.localVars,!0),w.state.localVars=null}function z(){w.state.localVars=w.state.context.vars,w.state.context=w.state.context.prev}function E(e,t){var r=function(){var r=w.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var o=r.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;r.lexical=new k(n,w.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function $(){var e=w.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function N(e){return function t(r){return r==e?M():";"==e||"}"==r||")"==r||"]"==r?C():M(t)}}function R(e,t){return"var"==e?M(E("vardef",t),ve,N(";"),$):"keyword a"==e?M(E("form"),B,R,$):"keyword b"==e?M(E("form"),R,$):"keyword d"==e?w.stream.match(/^\s*$/,!1)?M():M(E("stat"),Q,N(";"),$):"debugger"==e?M(N(";")):"{"==e?M(E("}"),P,ae,$,z):";"==e?M():"if"==e?("else"==w.state.lexical.info&&w.state.cc[w.state.cc.length-1]==$&&w.state.cc.pop()(),M(E("form"),B,R,$,Ce)):"function"==e?M(Oe):"for"==e?M(E("form"),Me,R,$):"class"==e||c&&"interface"==t?(w.marked="keyword",M(E("form","class"==e?e:t),Pe,$)):"variable"==e?c&&"declare"==t?(w.marked="keyword",M(R)):c&&("module"==t||"enum"==t||"type"==t)&&w.stream.match(/^\s*\w/,!1)?(w.marked="keyword","enum"==t?M(Ue):"type"==t?M(Ae,N("operator"),ue,N(";")):M(E("form"),ye,N("{"),E("}"),ae,$,$)):c&&"namespace"==t?(w.marked="keyword",M(E("form"),K,R,$)):c&&"abstract"==t?(w.marked="keyword",M(R)):M(E("stat"),X):"switch"==e?M(E("form"),B,N("{"),E("}","switch"),P,ae,$,$,z):"case"==e?M(K,N(":")):"default"==e?M(N(":")):"catch"==e?M(E("form"),I,D,R,$,z):"export"==e?M(E("stat"),Ne,$):"import"==e?M(E("stat"),De,$):"async"==e?M(R):"@"==t?M(K,R):C(E("stat"),K,N(";"),$)}function D(e){if("("==e)return M(Le,N(")"))}function K(e,t){return _(e,t,!1)}function H(e,t){return _(e,t,!0)}function B(e){return"("!=e?C():M(E(")"),K,N(")"),$)}function _(e,t,r){if(w.state.fatArrowAt==w.stream.start){var n=r?G:J;if("("==e)return M(I,E(")"),oe(Le,")"),$,N("=>"),n,z);if("variable"==e)return C(I,ye,N("=>"),n,z)}var o=r?V:U;return j.hasOwnProperty(e)?M(o):"function"==e?M(Oe,o):"class"==e||c&&"interface"==t?(w.marked="keyword",M(E("form"),Ie,$)):"keyword c"==e||"async"==e?M(r?H:K):"("==e?M(E(")"),Q,N(")"),$,o):"operator"==e||"spread"==e?M(r?H:K):"["==e?M(E("]"),Qe,$,o):"{"==e?ie(te,"}",null,o):"quasi"==e?C(F,o):"new"==e?M(function(e){return function(t){return"."==t?M(e?Z:Y):"variable"==t&&c?M(he,e?V:U):C(e?H:K)}}(r)):"import"==e?M(K):M()}function Q(e){return e.match(/[;\}\)\],]/)?C():C(K)}function U(e,t){return","==e?M(K):V(e,t,!1)}function V(e,t,r){var n=0==r?U:V,o=0==r?K:H;return"=>"==e?M(I,r?G:J,z):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?M(n):c&&"<"==t&&w.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?M(E(">"),oe(ue,">"),$,n):"?"==t?M(K,N(":"),o):M(o):"quasi"==e?C(F,n):";"!=e?"("==e?ie(H,")","call",n):"."==e?M(ee,n):"["==e?M(E("]"),Q,N("]"),$,n):c&&"as"==t?(w.marked="keyword",M(ue,n)):"regexp"==e?(w.state.lastType=w.marked="operator",w.stream.backUp(w.stream.pos-w.stream.start-1),M(o)):void 0:void 0}function F(e,t){return"quasi"!=e?C():"${"!=t.slice(t.length-2)?M(F):M(K,W)}function W(e){if("}"==e)return w.marked="string-2",w.state.tokenize=b,M(F)}function J(e){return y(w.stream,w.state),C("{"==e?R:K)}function G(e){return y(w.stream,w.state),C("{"==e?R:H)}function Y(e,t){if("target"==t)return w.marked="keyword",M(U)}function Z(e,t){if("target"==t)return w.marked="keyword",M(V)}function X(e){return":"==e?M($,R):C(U,N(";"),$)}function ee(e){if("variable"==e)return w.marked="property",M()}function te(e,t){if("async"==e)return w.marked="property",M(te);if("variable"==e||"keyword"==w.style){return w.marked="property","get"==t||"set"==t?M(re):(c&&w.state.fatArrowAt==w.stream.start&&(r=w.stream.match(/^\s*:\s*/,!1))&&(w.state.fatArrowAt=w.stream.pos+r[0].length),M(ne));var r}else{if("number"==e||"string"==e)return w.marked=s?"property":w.style+" property",M(ne);if("jsonld-keyword"==e)return M(ne);if(c&&O(t))return w.marked="keyword",M(te);if("["==e)return M(K,se,N("]"),ne);if("spread"==e)return M(H,ne);if("*"==t)return w.marked="keyword",M(te);if(":"==e)return C(ne)}}function re(e){return"variable"!=e?C(ne):(w.marked="property",M(Oe))}function ne(e){return":"==e?M(H):"("==e?C(Oe):void 0}function oe(e,t,r){function n(o,i){if(r?r.indexOf(o)>-1:","==o){var a=w.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),M(function(r,n){return r==t||n==t?C():C(e)},n)}return o==t||i==t?M():r&&r.indexOf(";")>-1?C(e):M(N(t))}return function(r,o){return r==t||o==t?M():C(e,n)}}function ie(e,t,r){for(var n=3;n<arguments.length;n++)w.cc.push(arguments[n]);return M(E(t,r),oe(e,t),$)}function ae(e){return"}"==e?M():C(R,ae)}function se(e,t){if(c){if(":"==e||"in"==t)return M(ue);if("?"==t)return M(se)}}function le(e){if(c&&":"==e)return w.stream.match(/^\s*\w+\s+is\b/,!1)?M(K,ce,ue):M(ue)}function ce(e,t){if("is"==t)return w.marked="keyword",M()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(w.marked="keyword",M("typeof"==t?H:ue)):"variable"==e||"void"==t?(w.marked="type",M(me)):"|"==t||"&"==t?M(ue):"string"==e||"number"==e||"atom"==e?M(me):"["==e?M(E("]"),oe(ue,"]",","),$,me):"{"==e?M(E("}"),oe(pe,"}",",;"),$,me):"("==e?M(oe(fe,")"),de,me):"<"==e?M(oe(ue,">"),ue):void 0}function de(e){if("=>"==e)return M(ue)}function pe(e,t){return"variable"==e||"keyword"==w.style?(w.marked="property",M(pe)):"?"==t||"number"==e||"string"==e?M(pe):":"==e?M(ue):"["==e?M(N("variable"),se,N("]"),pe):"("==e?C(qe,pe):void 0}function fe(e,t){return"variable"==e&&w.stream.match(/^\s*[?:]/,!1)||"?"==t?M(fe):":"==e?M(ue):"spread"==e?M(fe):C(ue)}function me(e,t){return"<"==t?M(E(">"),oe(ue,">"),$,me):"|"==t||"."==e||"&"==t?M(ue):"["==e?M(ue,N("]"),me):"extends"==t||"implements"==t?(w.marked="keyword",M(ue)):"?"==t?M(ue,N(":"),ue):void 0}function he(e,t){if("<"==t)return M(E(">"),oe(ue,">"),$,me)}function ge(){return C(ue,be)}function be(e,t){if("="==t)return M(ue)}function ve(e,t){return"enum"==t?(w.marked="keyword",M(Ue)):C(ye,se,xe,we)}function ye(e,t){return c&&O(t)?(w.marked="keyword",M(ye)):"variable"==e?(S(t),M()):"spread"==e?M(ye):"["==e?ie(ke,"]"):"{"==e?ie(je,"}"):void 0}function je(e,t){return"variable"!=e||w.stream.match(/^\s*:/,!1)?("variable"==e&&(w.marked="property"),"spread"==e?M(ye):"}"==e?C():"["==e?M(K,N("]"),N(":"),je):M(N(":"),ye,xe)):(S(t),M(xe))}function ke(){return C(ye,xe)}function xe(e,t){if("="==t)return M(H)}function we(e){if(","==e)return M(ve)}function Ce(e,t){if("keyword b"==e&&"else"==t)return M(E("form","else"),R,$)}function Me(e,t){return"await"==t?M(Me):"("==e?M(E(")"),Te,$):void 0}function Te(e){return"var"==e?M(ve,Se):"variable"==e?M(Se):C(Se)}function Se(e,t){return")"==e?M():";"==e?M(Se):"in"==t||"of"==t?(w.marked="keyword",M(K,Se)):C(K,Se)}function Oe(e,t){return"*"==t?(w.marked="keyword",M(Oe)):"variable"==e?(S(t),M(Oe)):"("==e?M(I,E(")"),oe(Le,")"),$,le,R,z):c&&"<"==t?M(E(">"),oe(ge,">"),$,Oe):void 0}function qe(e,t){return"*"==t?(w.marked="keyword",M(qe)):"variable"==e?(S(t),M(qe)):"("==e?M(I,E(")"),oe(Le,")"),$,le,z):c&&"<"==t?M(E(">"),oe(ge,">"),$,qe):void 0}function Ae(e,t){return"keyword"==e||"variable"==e?(w.marked="type",M(Ae)):"<"==t?M(E(">"),oe(ge,">"),$):void 0}function Le(e,t){return"@"==t&&M(K,Le),"spread"==e?M(Le):c&&O(t)?(w.marked="keyword",M(Le)):c&&"this"==e?M(se,xe):C(ye,se,xe)}function Ie(e,t){return"variable"==e?Pe(e,t):ze(e,t)}function Pe(e,t){if("variable"==e)return S(t),M(ze)}function ze(e,t){return"<"==t?M(E(">"),oe(ge,">"),$,ze):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(w.marked="keyword"),M(c?ue:K,ze)):"{"==e?M(E("}"),Ee,$):void 0}function Ee(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&O(t))&&w.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(w.marked="keyword",M(Ee)):"variable"==e||"keyword"==w.style?(w.marked="property",M(c?$e:Oe,Ee)):"number"==e||"string"==e?M(c?$e:Oe,Ee):"["==e?M(K,se,N("]"),c?$e:Oe,Ee):"*"==t?(w.marked="keyword",M(Ee)):c&&"("==e?C(qe,Ee):";"==e||","==e?M(Ee):"}"==e?M():"@"==t?M(K,Ee):void 0}function $e(e,t){if("?"==t)return M($e);if(":"==e)return M(ue,xe);if("="==t)return M(H);var r=w.state.lexical.prev,n=r&&"interface"==r.info;return C(n?qe:Oe)}function Ne(e,t){return"*"==t?(w.marked="keyword",M(_e,N(";"))):"default"==t?(w.marked="keyword",M(K,N(";"))):"{"==e?M(oe(Re,"}"),_e,N(";")):C(R)}function Re(e,t){return"as"==t?(w.marked="keyword",M(N("variable"))):"variable"==e?C(H,Re):void 0}function De(e){return"string"==e?M():"("==e?C(K):C(Ke,He,_e)}function Ke(e,t){return"{"==e?ie(Ke,"}"):("variable"==e&&S(t),"*"==t&&(w.marked="keyword"),M(Be))}function He(e){if(","==e)return M(Ke,He)}function Be(e,t){if("as"==t)return w.marked="keyword",M(Ke)}function _e(e,t){if("from"==t)return w.marked="keyword",M(K)}function Qe(e){return"]"==e?M():C(oe(H,"]"))}function Ue(){return C(E("form"),ye,N("{"),E("}"),oe(Ve,"}"),$,$)}function Ve(){return C(ye,xe)}function Fe(e,t,r){return t.tokenize==h&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return z.lex=!0,$.lex=!0,{startState:function(e){var t={tokenize:h,lastType:"sof",cc:[],lexical:new k((e||0)-i,0,"block",!1),localVars:r.localVars,context:r.localVars&&new q(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=g&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",function(e,t,r,n,o){var i=e.cc;w.state=e,w.stream=o,w.marked=null,w.cc=i,w.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var a=i.length?i.pop():l?K:R;if(a(r,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return w.marked?w.marked:"variable"==r&&x(e,n)?"variable-2":t}}}(t,r,n,o,e))},indent:function(t,n){if(t.tokenize==g)return e.Pass;if(t.tokenize!=h)return 0;var o,s=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==$)l=l.prev;else if(u!=Ce)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(o=t.cc[t.cc.length-1])&&(o==U||o==V)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,f=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+i:"stat"==d?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?a||i:0):"switch"!=l.info||f||0==r.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:i):l.indented+(/^(?:case|default)\b/.test(n)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Fe,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=K&&t!=H||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),e("skylark-codemirror/mode/htmlmixed/htmlmixed",["../../CodeMirror","../xml/xml","../javascript/javascript","../css/css"],function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var r={};function n(e,t){var n=e.match(function(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function o(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function i(e,t){for(var r in e)for(var n=t[r]||(t[r]=[]),o=e[r],i=o.length-1;i>=0;i--)n.unshift(o[i])}e.defineMode("htmlmixed",function(r,a){var s=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:a.multilineTagIndentFactor,multilineTagIndentPastTag:a.multilineTagIndentPastTag}),l={},c=a&&a.tags,u=a&&a.scriptTypes;if(i(t,l),c&&i(c,l),u)for(var d=u.length-1;d>=0;d--)l.script.unshift(["type",u[d].matches,u[d].mode]);function p(t,i){var a,c=s.token(t,i.htmlState),u=/\btag\b/.test(c);if(u&&!/[<>\s\/]/.test(t.current())&&(a=i.htmlState.tagName&&i.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(a))i.inTag=a+" ";else if(i.inTag&&u&&/>$/.test(t.current())){var d=/^([\S]+) (.*)/.exec(i.inTag);i.inTag=null;var f=">"==t.current()&&function(e,t){for(var r=0;r<e.length;r++){var o=e[r];if(!o[0]||o[1].test(n(t,o[0])))return o[2]}}(l[d[1]],d[2]),m=e.getMode(r,f),h=o(d[1],!0),g=o(d[1],!1);i.token=function(e,t){return e.match(h,!1)?(t.token=p,t.localState=t.localMode=null,null):function(e,t,r){var n=e.current(),o=n.search(t);o>-1?e.backUp(n.length-o):n.match(/<\/?$/)&&(e.backUp(n.length),e.match(t,!1)||e.match(n));return r}(e,g,t.localMode.token(e,t.localState))},i.localMode=m,i.localState=e.startState(m,s.indent(i.htmlState,"",""))}else i.inTag&&(i.inTag+=t.current(),t.eol()&&(i.inTag+=" "));return c}return{startState:function(){var t=e.startState(s);return{token:p,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var r;return t.localState&&(r=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:r,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,r,n){return!t.localMode||/^\s*<\//.test(r)?s.indent(t.htmlState,r,n):t.localMode.indent?t.localMode.indent(t.localState,r,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),e("skylark-codemirror/addon/dialog/dialog",["../../CodeMirror"],function(e){function t(t,r,n){var o,i=t.getWrapperElement();return(o=i.appendChild(document.createElement("div"))).className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof r?o.innerHTML=r:o.appendChild(r),e.addClass(i,"dialog-opened"),o}function r(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(n,o,i){i||(i={}),r(this,null);var a=t(this,n,i.bottom),s=!1,l=this;function c(t){if("string"==typeof t)d.value=t;else{if(s)return;s=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),l.focus(),i.onClose&&i.onClose(a)}}var u,d=a.getElementsByTagName("input")[0];return d?(d.focus(),i.value&&(d.value=i.value,!1!==i.selectValueOnOpen&&d.select()),i.onInput&&e.on(d,"input",function(e){i.onInput(e,d.value,c)}),i.onKeyUp&&e.on(d,"keyup",function(e){i.onKeyUp(e,d.value,c)}),e.on(d,"keydown",function(t){i&&i.onKeyDown&&i.onKeyDown(t,d.value,c)||((27==t.keyCode||!1!==i.closeOnEnter&&13==t.keyCode)&&(d.blur(),e.e_stop(t),c()),13==t.keyCode&&o(d.value,t))}),!1!==i.closeOnBlur&&e.on(d,"blur",c)):(u=a.getElementsByTagName("button")[0])&&(e.on(u,"click",function(){c(),l.focus()}),!1!==i.closeOnBlur&&e.on(u,"blur",c),u.focus()),c}),e.defineExtension("openConfirm",function(n,o,i){r(this,null);var a=t(this,n,i&&i.bottom),s=a.getElementsByTagName("button"),l=!1,c=this,u=1;function d(){l||(l=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),c.focus())}s[0].focus();for(var p=0;p<s.length;++p){var f=s[p];!function(t){e.on(f,"click",function(r){e.e_preventDefault(r),d(),t&&t(c)})}(o[p]),e.on(f,"blur",function(){--u,setTimeout(function(){u<=0&&d()},200)}),e.on(f,"focus",function(){++u})}}),e.defineExtension("openNotification",function(n,o){r(this,c);var i,a=t(this,n,o&&o.bottom),s=!1,l=o&&void 0!==o.duration?o.duration:5e3;function c(){s||(s=!0,clearTimeout(i),e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a))}return e.on(a,"click",function(t){e.e_preventDefault(t),c()}),l&&(i=setTimeout(c,l)),c})}),e("skylark-codemirror/addon/search/searchcursor",["../../CodeMirror"],function(e){"use strict";var t,r,n=e.Pos;function o(e,t){for(var r=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),n=r,o=0;o<t.length;o++)-1==n.indexOf(t.charAt(o))&&(n+=t.charAt(o));return r==n?e:new RegExp(e.source,n)}function i(e,t,r){t=o(t,"g");for(var i=r.line,a=r.ch,s=e.lastLine();i<=s;i++,a=0){t.lastIndex=a;var l=e.getLine(i),c=t.exec(l);if(c)return{from:n(i,c.index),to:n(i,c.index+c[0].length),match:c}}}function a(e,t){for(var r,n=0;;){t.lastIndex=n;var o=t.exec(e);if(!o)return r;if((n=(r=o).index+(r[0].length||1))==e.length)return r}}function s(e,t,r,n){if(e.length==t.length)return r;for(var o=0,i=r+Math.max(0,e.length-t.length);;){if(o==i)return o;var a=o+i>>1,s=n(e.slice(0,a)).length;if(s==r)return a;s>r?i=a:o=a+1}}function l(e,l,c,u){var d;this.atOccurrence=!1,this.doc=e,c=c?e.clipPos(c):n(0,0),this.pos={from:c,to:c},"object"==typeof u?d=u.caseFold:(d=u,u=null),"string"==typeof l?(null==d&&(d=!1),this.matches=function(o,i){return(o?function(e,o,i,a){if(!o.length)return null;var l=a?t:r,c=l(o).split(/\r|\n\r?/);e:for(var u=i.line,d=i.ch,p=e.firstLine()-1+c.length;u>=p;u--,d=-1){var f=e.getLine(u);d>-1&&(f=f.slice(0,d));var m=l(f);if(1==c.length){var h=m.lastIndexOf(c[0]);if(-1==h)continue e;return{from:n(u,s(f,m,h,l)),to:n(u,s(f,m,h+c[0].length,l))}}var g=c[c.length-1];if(m.slice(0,g.length)==g){for(var b=1,i=u-c.length+1;b<c.length-1;b++)if(l(e.getLine(i+b))!=c[b])continue e;var v=e.getLine(u+1-c.length),y=l(v);if(y.slice(y.length-c[0].length)==c[0])return{from:n(u+1-c.length,s(v,y,v.length-c[0].length,l)),to:n(u,s(f,m,g.length,l))}}}}:function(e,o,i,a){if(!o.length)return null;var l=a?t:r,c=l(o).split(/\r|\n\r?/);e:for(var u=i.line,d=i.ch,p=e.lastLine()+1-c.length;u<=p;u++,d=0){var f=e.getLine(u).slice(d),m=l(f);if(1==c.length){var h=m.indexOf(c[0]);if(-1==h)continue e;var i=s(f,m,h,l)+d;return{from:n(u,s(f,m,h,l)+d),to:n(u,s(f,m,h+c[0].length,l)+d)}}var g=m.length-c[0].length;if(m.slice(g)==c[0]){for(var b=1;b<c.length-1;b++)if(l(e.getLine(u+b))!=c[b])continue e;var v=e.getLine(u+c.length-1),y=l(v),j=c[c.length-1];if(y.slice(0,j.length)==j)return{from:n(u,s(f,m,g,l)+d),to:n(u+c.length-1,s(v,y,j.length,l))}}}})(e,l,i,d)}):(l=o(l,"gm"),u&&!1===u.multiline?this.matches=function(t,r){return(t?function(e,t,r){t=o(t,"g");for(var i=r.line,s=r.ch,l=e.firstLine();i>=l;i--,s=-1){var c=e.getLine(i);s>-1&&(c=c.slice(0,s));var u=a(c,t);if(u)return{from:n(i,u.index),to:n(i,u.index+u[0].length),match:u}}}:i)(e,l,r)}:this.matches=function(t,r){return(t?function(e,t,r){t=o(t,"gm");for(var i,s=1,l=r.line,c=e.firstLine();l>=c;){for(var u=0;u<s;u++){var d=e.getLine(l--);i=null==i?d.slice(0,r.ch):d+"\n"+i}s*=2;var p=a(i,t);if(p){var f=i.slice(0,p.index).split("\n"),m=p[0].split("\n"),h=l+f.length,g=f[f.length-1].length;return{from:n(h,g),to:n(h+m.length-1,1==m.length?g+m[0].length:m[m.length-1].length),match:p}}}}:function(e,t,r){if(!function(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}(t))return i(e,t,r);t=o(t,"gm");for(var a,s=1,l=r.line,c=e.lastLine();l<=c;){for(var u=0;u<s&&!(l>c);u++){var d=e.getLine(l++);a=null==a?d:a+"\n"+d}s*=2,t.lastIndex=r.ch;var p=t.exec(a);if(p){var f=a.slice(0,p.index).split("\n"),m=p[0].split("\n"),h=r.line+f.length-1,g=f[f.length-1].length;return{from:n(h,g),to:n(h+m.length-1,1==m.length?g+m[0].length:m[m.length-1].length),match:p}}}})(e,l,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},r=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},r=function(e){return e}),l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var r=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));r&&0==e.cmpPos(r.from,r.to);)t?r.from.ch?r.from=n(r.from.line,r.from.ch-1):r=r.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(n(r.from.line-1))):r.to.ch<this.doc.getLine(r.to.line).length?r.to=n(r.to.line,r.to.ch+1):r=r.to.line==this.doc.lastLine()?null:this.matches(t,n(r.to.line+1,0));if(r)return this.pos=r,this.atOccurrence=!0,this.pos.match||!0;var o=n(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:o,to:o},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,r){if(this.atOccurrence){var o=e.splitLines(t);this.doc.replaceRange(o,this.pos.from,this.pos.to,r),this.pos.to=n(this.pos.from.line+o.length-1,o[o.length-1].length+(1==o.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,r){return new l(this.doc,e,t,r)}),e.defineDocExtension("getSearchCursor",function(e,t,r){return new l(this,e,t,r)}),e.defineExtension("selectMatches",function(t,r){for(var n=[],o=this.getSearchCursor(t,this.getCursor("from"),r);o.findNext()&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)n.push({anchor:o.from(),head:o.to()});n.length&&this.setSelections(n,0)})}),e("skylark-codemirror/addon/search/search",["../../CodeMirror","./searchcursor","../dialog/dialog"],function(e){"use strict";function t(e){return e.state.search||(e.state.search=new function(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null})}function r(e){return"string"==typeof e&&e==e.toLowerCase()}function n(e,t,n){return e.getSearchCursor(t,n,{caseFold:r(t),multiline:!0})}function o(e,t,r,n,o){e.openDialog?e.openDialog(t,o,{value:n,selectValueOnOpen:!0}):o(prompt(r,n))}function i(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function a(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=i(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function s(e,t,n){t.queryText=n,t.query=a(n),e.removeOverlay(t.overlay,r(t.query)),t.overlay=function(e,t){"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g"));return{token:function(t){e.lastIndex=t.pos;var r=e.exec(t.string);if(r&&r.index==t.pos)return t.pos+=r[0].length||1,"searching";r?t.pos=r.index:t.skipToEnd()}}}(t.query,r(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,r(t.query)))}function l(r,n,i,a){var l=t(r);if(l.query)return c(r,n);var p=r.getSelection()||l.lastQuery;if(p instanceof RegExp&&"x^"==p.source&&(p=null),i&&r.openDialog){var f=null,m=function(t,n){e.e_stop(n),t&&(t!=l.queryText&&(s(r,l,t),l.posFrom=l.posTo=r.getCursor()),f&&(f.style.opacity=1),c(r,n.shiftKey,function(e,t){var n;t.line<3&&document.querySelector&&(n=r.display.wrapper.querySelector(".CodeMirror-dialog"))&&n.getBoundingClientRect().bottom-4>r.cursorCoords(t,"window").top&&((f=n).style.opacity=.4)}))};!function(e,t,r,n,o){e.openDialog(t,n,{value:r,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){u(e)},onKeyDown:o})}(r,d(r),p,m,function(n,o){var i=e.keyName(n),a=r.getOption("extraKeys"),l=a&&a[i]||e.keyMap[r.getOption("keyMap")][i];"findNext"==l||"findPrev"==l||"findPersistentNext"==l||"findPersistentPrev"==l?(e.e_stop(n),s(r,t(r),o),r.execCommand(l)):"find"!=l&&"findPersistent"!=l||(e.e_stop(n),m(o,n))}),a&&p&&(s(r,l,p),c(r,n))}else o(r,d(r),"Search for:",p,function(e){e&&!l.query&&r.operation(function(){s(r,l,e),l.posFrom=l.posTo=r.getCursor(),c(r,n)})})}function c(r,o,i){r.operation(function(){var a=t(r),s=n(r,a.query,o?a.posFrom:a.posTo);(s.find(o)||(s=n(r,a.query,o?e.Pos(r.lastLine()):e.Pos(r.firstLine(),0))).find(o))&&(r.setSelection(s.from(),s.to()),r.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),i&&i(s.from(),s.to()))})}function u(e){e.operation(function(){var r=t(e);r.lastQuery=r.query,r.query&&(r.query=r.queryText=null,e.removeOverlay(r.overlay),r.annotate&&(r.annotate.clear(),r.annotate=null))})}function d(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function p(e,t,r){e.operation(function(){for(var o=n(e,t);o.findNext();)if("string"!=typeof t){var i=e.getRange(o.from(),o.to()).match(t);o.replace(r.replace(/\$(\d)/g,function(e,t){return i[t]}))}else o.replace(r)})}function f(e,r){if(!e.getOption("readOnly")){var s=e.getSelection()||t(e).lastQuery,l='<span class="CodeMirror-search-label">'+(r?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";o(e,l+function(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(e),l,s,function(t){t&&(t=a(t),o(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(e),e.phrase("Replace with:"),"",function(o){if(o=i(o),r)p(e,t,o);else{u(e);var a=n(e,t,e.getCursor("from")),s=function(){var r,i=a.from();!(r=a.findNext())&&(a=n(e,t),!(r=a.findNext())||i&&a.from().line==i.line&&a.from().ch==i.ch)||(e.setSelection(a.from(),a.to()),e.scrollIntoView({from:a.from(),to:a.to()}),function(e,t,r,n){e.openConfirm?e.openConfirm(t,n):confirm(r)&&n[0]()}(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}(e),e.phrase("Replace?"),[function(){l(r)},s,function(){p(e,t,o)}]))},l=function(e){a.replace("string"==typeof t?o:o.replace(/\$(\d)/g,function(t,r){return e[r]})),s()};s()}}))})}}e.commands.find=function(e){u(e),l(e)},e.commands.findPersistent=function(e){u(e),l(e,!1,!0)},e.commands.findPersistentNext=function(e){l(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){l(e,!0,!0,!0)},e.commands.findNext=l,e.commands.findPrev=function(e){l(e,!0)},e.commands.clearSearch=u,e.commands.replace=f,e.commands.replaceAll=function(e){f(e,!0)}}),e("skylark-codemirror/addon/hint/anyword-hint",["../../CodeMirror"],function(e){"use strict";var t=/[\w$]+/;e.registerHelper("hint","anyword",function(r,n){for(var o=n&&n.word||t,i=n&&n.range||500,a=r.getCursor(),s=r.getLine(a.line),l=a.ch,c=l;c&&o.test(s.charAt(c-1));)--c;for(var u=c!=l&&s.slice(c,l),d=n&&n.list||[],p={},f=new RegExp(o.source,"g"),m=-1;m<=1;m+=2)for(var h=a.line,g=Math.min(Math.max(h+m*i,r.firstLine()),r.lastLine())+m;h!=g;h+=m)for(var b,v=r.getLine(h);b=f.exec(v);)h==a.line&&b[0]===u||u&&0!=b[0].lastIndexOf(u,0)||Object.prototype.hasOwnProperty.call(p,b[0])||(p[b[0]]=!0,d.push(b[0]));return{list:d,from:e.Pos(a.line,c),to:e.Pos(a.line,l)}})}),e("skylark-codemirror/addon/hint/javascript-hint",["../../CodeMirror"],function(e){var t=e.Pos;function r(e,t){for(var r=0,n=e.length;r<n;++r)t(e[r])}function n(n,o,l,c){var u=n.getCursor(),d=l(n,u);if(!/\b(?:string|comment)\b/.test(d.type)){var p=e.innerMode(n.getMode(),d.state);if("json"!==p.mode.helperType){d.state=p.state,/^[\w$_]*$/.test(d.string)?d.end>u.ch&&(d.end=u.ch,d.string=d.string.slice(0,u.ch-d.start)):d={start:u.ch,end:u.ch,string:"",state:d.state,type:"."==d.string?"property":null};for(var f=d;"property"==f.type;){if("."!=(f=l(n,t(u.line,f.start))).string)return;if(f=l(n,t(u.line,f.start)),!m)var m=[];m.push(f)}return{list:function(e,t,n,o){var l=[],c=e.string,u=o&&o.globalScope||window;function d(e){0!=e.lastIndexOf(c,0)||function(e,t){if(!Array.prototype.indexOf){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}return-1!=e.indexOf(t)}(l,e)||l.push(e)}function p(e){"string"==typeof e?r(i,d):e instanceof Array?r(a,d):e instanceof Function&&r(s,d),function(e,t){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var r=e;r;r=Object.getPrototypeOf(r))Object.getOwnPropertyNames(r).forEach(t);else for(var n in e)t(n)}(e,d)}if(t&&t.length){var f,m=t.pop();for(m.type&&0===m.type.indexOf("variable")?(o&&o.additionalContext&&(f=o.additionalContext[m.string]),o&&!1===o.useGlobalScope||(f=f||u[m.string])):"string"==m.type?f="":"atom"==m.type?f=1:"function"==m.type&&(null==u.jQuery||"$"!=m.string&&"jQuery"!=m.string||"function"!=typeof u.jQuery?null!=u._&&"_"==m.string&&"function"==typeof u._&&(f=u._()):f=u.jQuery());null!=f&&t.length;)f=f[t.pop().string];null!=f&&p(f)}else{for(var h=e.state.localVars;h;h=h.next)d(h.name);for(var h=e.state.globalVars;h;h=h.next)d(h.name);o&&!1===o.useGlobalScope||p(u),r(n,d)}return l}(d,m,o,c),from:t(u.line,d.start),to:t(u.line,d.end)}}}}function o(e,t){var r=e.getTokenAt(t);return t.ch==r.start+1&&"."==r.string.charAt(0)?(r.end=r.start,r.string=".",r.type="property"):/^\.[\w$_]*$/.test(r.string)&&(r.type="property",r.start++,r.string=r.string.replace(/\./,"")),r}e.registerHelper("hint","javascript",function(e,t){return n(e,l,function(e,t){return e.getTokenAt(t)},t)}),e.registerHelper("hint","coffeescript",function(e,t){return n(e,c,o,t)});var i="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),a="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),s="prototype apply call bind".split(" "),l="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),c="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}),e("skylark-codemirror/addon/edit/matchbrackets",["../../CodeMirror"],function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),r=e.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function o(e){return e&&e.bracketRegex||/[(){}[\]]/}function i(e,t,i){var s=e.getLineHandle(t.line),l=t.ch-1,c=i&&i.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=o(i),d=!c&&l>=0&&u.test(s.text.charAt(l))&&n[s.text.charAt(l)]||u.test(s.text.charAt(l+1))&&n[s.text.charAt(++l)];if(!d)return null;var p=">"==d.charAt(1)?1:-1;if(i&&i.strict&&p>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(r(t.line,l+1)),m=a(e,r(t.line,l+(p>0?1:0)),p,f||null,i);return null==m?null:{from:r(t.line,l),to:m&&m.pos,match:m&&m.ch==d.charAt(0),forward:p>0}}function a(e,t,i,a,s){for(var l=s&&s.maxScanLineLength||1e4,c=s&&s.maxScanLines||1e3,u=[],d=o(s),p=i>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),f=t.line;f!=p;f+=i){var m=e.getLine(f);if(m){var h=i>0?0:m.length-1,g=i>0?m.length:-1;if(!(m.length>l))for(f==t.line&&(h=t.ch-(i<0?1:0));h!=g;h+=i){var b=m.charAt(h);if(d.test(b)&&(void 0===a||e.getTokenTypeAt(r(f,h+1))==a)){var v=n[b];if(v&&">"==v.charAt(1)==i>0)u.push(b);else{if(!u.length)return{pos:r(f,h),ch:b};u.pop()}}}}}return f-i!=(i>0?e.lastLine():e.firstLine())&&null}function s(e,n,o){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&i(e,l[c].head,o);if(u&&e.getLine(u.from.line).length<=a){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,r(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=a&&s.push(e.markText(u.to,r(u.to.line,u.to.ch+1),{className:d}))}}if(s.length){t&&e.state.focused&&e.focus();var p=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!n)return p;setTimeout(p,800)}}function l(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)})}e.defineOption("matchBrackets",!1,function(t,r,n){n&&n!=e.Init&&(t.off("cursorActivity",l),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),r&&(t.state.matchBrackets="object"==typeof r?r:{},t.on("cursorActivity",l))}),e.defineExtension("matchBrackets",function(){s(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,r){return(r||"boolean"==typeof t)&&(r?(r.strict=t,t=r):t=t?{strict:!0}:null),i(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,r,n){return a(this,e,t,r,n)})}),e("skylark-codemirror/addon/comment/comment",["../../CodeMirror"],function(e){"use strict";var t={},r=/[^\s\u00a0]/,n=e.Pos;function o(e){var t=e.search(r);return-1==t?0:t}function i(e,t){var r=e.getMode();return!1!==r.useInnerComments&&r.innerMode?e.getModeAt(t):r}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=t);for(var r=1/0,o=this.listSelections(),i=null,a=o.length-1;a>=0;a--){var s=o[a].from(),l=o[a].to();s.line>=r||(l.line>=r&&(l=n(r,0)),r=s.line,null==i?this.uncomment(s,l,e)?i="un":(this.lineComment(s,l,e),i="line"):"un"==i?this.uncomment(s,l,e):this.lineComment(s,l,e))}}),e.defineExtension("lineComment",function(e,a,s){s||(s=t);var l=this,c=i(l,e),u=l.getLine(e.line);if(null!=u&&(d=e,p=u,!/\bstring\b/.test(l.getTokenTypeAt(n(d.line,0)))||/^[\'\"\`]/.test(p))){var d,p,f=s.lineComment||c.lineComment;if(f){var m=Math.min(0!=a.ch||a.line==e.line?a.line+1:a.line,l.lastLine()+1),h=null==s.padding?" ":s.padding,g=s.commentBlankLines||e.line==a.line;l.operation(function(){if(s.indent){for(var t=null,i=e.line;i<m;++i){var a=l.getLine(i),c=a.slice(0,o(a));(null==t||t.length>c.length)&&(t=c)}for(var i=e.line;i<m;++i){var a=l.getLine(i),u=t.length;(g||r.test(a))&&(a.slice(0,u)!=t&&(u=o(a)),l.replaceRange(t+f+h,n(i,0),n(i,u)))}}else for(var i=e.line;i<m;++i)(g||r.test(l.getLine(i)))&&l.replaceRange(f+h,n(i,0))})}else(s.blockCommentStart||c.blockCommentStart)&&(s.fullLines=!0,l.blockComment(e,a,s))}}),e.defineExtension("blockComment",function(e,o,a){a||(a=t);var s=this,l=i(s,e),c=a.blockCommentStart||l.blockCommentStart,u=a.blockCommentEnd||l.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(s.getTokenTypeAt(n(e.line,0)))){var d=Math.min(o.line,s.lastLine());d!=e.line&&0==o.ch&&r.test(s.getLine(d))&&--d;var p=null==a.padding?" ":a.padding;e.line>d||s.operation(function(){if(0!=a.fullLines){var t=r.test(s.getLine(d));s.replaceRange(p+u,n(d)),s.replaceRange(c+p,n(e.line,0));var i=a.blockCommentLead||l.blockCommentLead;if(null!=i)for(var f=e.line+1;f<=d;++f)(f!=d||t)&&s.replaceRange(i+p,n(f,0))}else s.replaceRange(u,o),s.replaceRange(c,e)})}}else(a.lineComment||l.lineComment)&&0!=a.fullLines&&s.lineComment(e,o,a)}),e.defineExtension("uncomment",function(e,o,a){a||(a=t);var s,l=this,c=i(l,e),u=Math.min(0!=o.ch||o.line==e.line?o.line:o.line-1,l.lastLine()),d=Math.min(e.line,u),p=a.lineComment||c.lineComment,f=[],m=null==a.padding?" ":a.padding;e:if(p){for(var h=d;h<=u;++h){var g=l.getLine(h),b=g.indexOf(p);if(b>-1&&!/comment/.test(l.getTokenTypeAt(n(h,b+1)))&&(b=-1),-1==b&&r.test(g))break e;if(b>-1&&r.test(g.slice(0,b)))break e;f.push(g)}if(l.operation(function(){for(var e=d;e<=u;++e){var t=f[e-d],r=t.indexOf(p),o=r+p.length;r<0||(t.slice(o,o+m.length)==m&&(o+=m.length),s=!0,l.replaceRange("",n(e,r),n(e,o)))}}),s)return!0}var v=a.blockCommentStart||c.blockCommentStart,y=a.blockCommentEnd||c.blockCommentEnd;if(!v||!y)return!1;var j=a.blockCommentLead||c.blockCommentLead,k=l.getLine(d),x=k.indexOf(v);if(-1==x)return!1;var w=u==d?k:l.getLine(u),C=w.indexOf(y,u==d?x+v.length:0),M=n(d,x+1),T=n(u,C+1);if(-1==C||!/comment/.test(l.getTokenTypeAt(M))||!/comment/.test(l.getTokenTypeAt(T))||l.getRange(M,T,"\n").indexOf(y)>-1)return!1;var S=k.lastIndexOf(v,e.ch),O=-1==S?-1:k.slice(0,e.ch).indexOf(y,S+v.length);if(-1!=S&&-1!=O&&O+y.length!=e.ch)return!1;O=w.indexOf(y,o.ch);var q=w.slice(o.ch).lastIndexOf(v,O-o.ch);return S=-1==O||-1==q?-1:o.ch+q,(-1==O||-1==S||S==o.ch)&&(l.operation(function(){l.replaceRange("",n(u,C-(m&&w.slice(C-m.length,C)==m?m.length:0)),n(u,C+y.length));var e=x+v.length;if(m&&k.slice(e,e+m.length)==m&&(e+=m.length),l.replaceRange("",n(d,x),n(d,e)),j)for(var t=d+1;t<=u;++t){var o=l.getLine(t),i=o.indexOf(j);if(-1!=i&&!r.test(o.slice(0,i))){var a=i+j.length;m&&o.slice(a,a+m.length)==m&&(a+=m.length),l.replaceRange("",n(t,i),n(t,a))}}}),!0)})}),e("skylark-codemirror/addon/lint/javascript-lint",["../../CodeMirror"],function(e){"use strict";e.registerHelper("lint","javascript",function(t,r){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];r.indent||(r.indent=1);JSHINT(t,r,r.globals);var n=JSHINT.data().errors,o=[];n&&function(t,r){for(var n=0;n<t.length;n++){var o=t[n];if(o){if(o.line<=0){window.console&&window.console.warn("Cannot display JSHint error (invalid line "+o.line+")",o);continue}var i=o.character-1,a=i+1;if(o.evidence){var s=o.evidence.substring(i).search(/.\b/);s>-1&&(a+=s)}var l={message:o.reason,severity:o.code&&o.code.startsWith("W")?"warning":"error",from:e.Pos(o.line-1,i),to:e.Pos(o.line-1,a)};r.push(l)}}}(n,o);return o})}),e("skylark-codemirror/addon/lint/lint",["../../CodeMirror"],function(e){"use strict";var t="CodeMirror-lint-markers";function r(e){e.parentNode&&e.parentNode.removeChild(e)}function n(t,n,o){var i=function(t,r){var n=document.createElement("div");function o(t){if(!n.parentNode)return e.off(document,"mousemove",o);n.style.top=Math.max(0,t.clientY-n.offsetHeight-5)+"px",n.style.left=t.clientX+5+"px"}n.className="CodeMirror-lint-tooltip",n.appendChild(r.cloneNode(!0)),document.body.appendChild(n),e.on(document,"mousemove",o),o(t),null!=n.style.opacity&&(n.style.opacity=1);return n}(t,n);function a(){e.off(o,"mouseout",a),i&&(!function(e){if(!e.parentNode)return;null==e.style.opacity&&r(e);e.style.opacity=0,setTimeout(function(){r(e)},600)}(i),i=null)}var s=setInterval(function(){if(i)for(var e=o;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){a();break}}if(!i)return clearInterval(s)},400);e.on(o,"mouseout",a)}function o(e,t,r){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=r,this.onMouseOver=function(t){!function(e,t){var r=t.target||t.srcElement;if(!/\bCodeMirror-lint-mark-/.test(r.className))return;for(var o=r.getBoundingClientRect(),i=(o.left+o.right)/2,a=(o.top+o.bottom)/2,s=e.findMarksAt(e.coordsChar({left:i,top:a},"client")),c=[],u=0;u<s.length;++u){var d=s[u].__annotation;d&&c.push(d)}c.length&&function(e,t){for(var r=t.target||t.srcElement,o=document.createDocumentFragment(),i=0;i<e.length;i++){var a=e[i];o.appendChild(l(a))}n(t,o,r)}(c,t)}(e,t)},this.waitingFor=0}function i(e){var r=e.state.lint;r.hasGutter&&e.clearGutter(t);for(var n=0;n<r.marked.length;++n)r.marked[n].clear();r.marked.length=0}function a(t,r,o,i){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+r,o&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=i&&e.on(s,"mouseover",function(e){n(e,t,s)}),a}function s(e,t){return"error"==e?e:t}function l(e){var t=e.severity;t||(t="error");var r=document.createElement("div");return r.className="CodeMirror-lint-message-"+t,void 0!==e.messageHTML?r.innerHTML=e.messageHTML:r.appendChild(document.createTextNode(e.message)),r}function c(t){var r=t.state.lint,n=r.options,o=n.options||n,i=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(i)if(n.async||i.async)!function(t,r,n){var o=t.state.lint,i=++o.waitingFor;function a(){i=-1,t.off("change",a)}t.on("change",a),r(t.getValue(),function(r,n){t.off("change",a),o.waitingFor==i&&(n&&r instanceof e&&(r=n),t.operation(function(){u(t,r)}))},n,t)}(t,i,o);else{var a=i(t.getValue(),o,t);if(!a)return;a.then?a.then(function(e){t.operation(function(){u(t,e)})}):t.operation(function(){u(t,a)})}}function u(e,r){i(e);for(var n=e.state.lint,o=n.options,c=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],o=n.from.line;(t[o]||(t[o]=[])).push(n)}return t}(r),u=0;u<c.length;++u){var d=c[u];if(d){for(var p=null,f=n.hasGutter&&document.createDocumentFragment(),m=0;m<d.length;++m){var h=d[m],g=h.severity;g||(g="error"),p=s(p,g),o.formatAnnotation&&(h=o.formatAnnotation(h)),n.hasGutter&&f.appendChild(l(h)),h.to&&n.marked.push(e.markText(h.from,h.to,{className:"CodeMirror-lint-mark-"+g,__annotation:h}))}n.hasGutter&&e.setGutterMarker(u,t,a(f,p,d.length>1,n.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(r,c,e)}function d(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){c(e)},t.options.delay||500))}e.defineOption("lint",!1,function(r,n,a){if(a&&a!=e.Init&&(i(r),!1!==r.state.lint.options.lintOnChange&&r.off("change",d),e.off(r.getWrapperElement(),"mouseover",r.state.lint.onMouseOver),clearTimeout(r.state.lint.timeout),delete r.state.lint),n){for(var s=r.getOption("gutters"),l=!1,u=0;u<s.length;++u)s[u]==t&&(l=!0);var p=r.state.lint=new o(r,function(e,t){if(t instanceof Function)return{getAnnotations:t};t&&!0!==t||(t={});return t}(0,n),l);!1!==p.options.lintOnChange&&r.on("change",d),0!=p.options.tooltips&&"gutter"!=p.options.tooltips&&e.on(r.getWrapperElement(),"mouseover",p.onMouseOver),c(r)}}),e.defineExtension("performLint",function(){this.state.lint&&c(this)})}),e("skylark-codemirror/addon/tern/tern",["../../CodeMirror"],function(e){"use strict";e.TernServer=function(a){var c=this;this.options=a||{};var u=this.options.plugins||(this.options.plugins={});u.doc_comment||(u.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new function(e){var t=e.worker=new Worker(e.options.workerScript);t.postMessage({type:"init",defs:e.options.defs,plugins:e.options.plugins,scripts:e.options.workerDeps});var r=0,n={};function i(e,o){o&&(e.id=++r,n[r]=o),t.postMessage(e)}t.onmessage=function(t){var r=t.data;"getFile"==r.type?o(e,r.name,function(e,t){i({type:"getFile",err:String(e),text:t,id:r.id})}):"debug"==r.type?window.console.log(r.message):r.id&&n[r.id]&&(n[r.id](r.err,r.body),delete n[r.id])},t.onerror=function(e){for(var t in n)n[t](e);n={}},this.addFile=function(e,t){i({type:"add",name:e,text:t})},this.delFile=function(e){i({type:"del",name:e})},this.request=function(e,t){i({type:"req",body:e},t)}}(this):this.server=new tern.Server({getFile:function(e,t){return o(c,e,t)},async:!0,defs:this.options.defs||[],plugins:u}),this.trackChange=function(e,t){!function(e,t,r){var o=i(e,t),a=e.cachedArgHints;a&&a.doc==t&&m(a.start,r.to)>=0&&(e.cachedArgHints=null);var l=o.changed;null==l&&(o.changed=l={from:r.from.line,to:r.from.line});var c=r.from.line+(r.text.length-1);r.from.line<l.to&&(l.to=l.to-(r.to.line-c));c>=l.to&&(l.to=c+1);l.from>r.from.line&&(l.from=r.from.line);t.lineCount()>n&&r.to-l.from>100&&setTimeout(function(){o.changed&&o.changed.to-o.changed.from>100&&s(e,o)},200)}(c,e,t)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(n,o){return function(n,o,i){n.request(o,{type:"completions",types:!0,docs:!0,urls:!0},function(a,s){if(a)return k(n,o,a);var c=[],u="",d=s.start,p=s.end;'["'==o.getRange(t(d.line,d.ch-2),d)&&'"]'!=o.getRange(p,t(p.line,p.ch+2))&&(u='"]');for(var f=0;f<s.completions.length;++f){var m=s.completions[f],h=l(m.type);s.guess&&(h+=" "+r+"guess"),c.push({text:m.name+u,displayText:m.displayName||m.name,className:h,data:m})}var g={from:d,to:p,list:c},b=null;e.on(g,"close",function(){j(b)}),e.on(g,"update",function(){j(b)}),e.on(g,"select",function(e,t){j(b);var o=n.options.completionTip?n.options.completionTip(e.data):e.data.doc;o&&((b=y(t.parentNode.getBoundingClientRect().right+window.pageXOffset,t.getBoundingClientRect().top+window.pageYOffset,o)).className+=" "+r+"hint-doc")}),i(g)})}(c,n,o)},this.getHint.async=!0},e.TernServer.prototype={addDoc:function(t,r){var n={doc:r,name:t,changed:null};return this.server.addFile(t,w(this,n)),e.on(r,"change",this.trackChange),this.docs[t]=n},delDoc:function(t){var r=a(this,t);r&&(e.off(r.doc,"change",this.trackChange),delete this.docs[r.name],this.server.delFile(r.name))},hideDoc:function(e){x(this);var t=a(this,e);t&&t.changed&&s(this,t)},complete:function(e){e.showHint({hint:this.getHint})},showType:function(e,t,r){c(this,e,t,"type",r)},showDocs:function(e,t,r){c(this,e,t,"documentation",r)},updateArgHints:function(r){!function(r,n){if(x(r),n.somethingSelected())return;var o=n.getTokenAt(n.getCursor()).state,i=e.innerMode(n.getMode(),o);if("javascript"!=i.mode.name)return;var a=i.state.lexical;if("call"!=a.info)return;for(var s,l=a.pos||0,c=n.getOption("tabSize"),d=n.getCursor().line,p=Math.max(0,d-9),f=!1;d>=p;--d){for(var h=n.getLine(d),g=0,b=0;;){var v=h.indexOf("\t",b);if(-1==v)break;g+=c-(v+g)%c-1,b=v+1}if(s=a.column-g,"("==h.charAt(s)){f=!0;break}}if(!f)return;var y=t(d,s),j=r.cachedArgHints;if(j&&j.doc==n.getDoc()&&0==m(y,j.start))return u(r,n,l);r.request(n,{type:"type",preferFunction:!0,end:y},function(e,t){!e&&t.type&&/^fn\(/.test(t.type)&&(r.cachedArgHints={start:y,type:function(e){var t=[],r=3;function n(t){for(var n=0,o=r;;){var i=e.charAt(r);if(t.test(i)&&!n)return e.slice(o,r);/[{\[\(]/.test(i)?++n:/[}\]\)]/.test(i)&&--n,++r}}if(")"!=e.charAt(r))for(;;){var o=e.slice(r).match(/^([^, \(\[\{]+): /);if(o&&(r+=o[0].length,o=o[1]),t.push({name:o,type:n(/[\),]/)}),")"==e.charAt(r))break;r+=2}var i=e.slice(r).match(/^\) -> (.*)$/);return{args:t,rettype:i&&i[1]}}(t.type),name:t.exprName||t.name||"fn",guess:t.guess,doc:n.getDoc()},u(r,n,l))})}(this,r)},jumpToDef:function(e){!function(e,r){function n(n){var o={type:"definition",variable:n||null},a=i(e,r.getDoc());e.server.request(f(e,a,o),function(n,o){if(n)return k(e,r,n);if(o.file||!o.url){if(o.file){var i,s=e.docs[o.file];if(s&&(i=function(e,r){for(var n=r.context.slice(0,r.contextOffset).split("\n"),o=r.start.line-(n.length-1),i=t(o,(1==n.length?r.start.ch:e.getLine(o).length)-n[0].length),a=e.getLine(o).slice(i.ch),s=o+1;s<e.lineCount()&&a.length<r.context.length;++s)a+="\n"+e.getLine(s);if(a.slice(0,r.context.length)==r.context)return r;var l,c=e.getSearchCursor(r.context,0,!1),u=1/0;for(;c.findNext();){var d=c.from(),p=1e4*Math.abs(d.line-i.line);p||(p=Math.abs(d.ch-i.ch)),p<u&&(l=d,u=p)}if(!l)return null;1==n.length?l.ch+=n[0].length:l=t(l.line+(n.length-1),n[n.length-1].length);if(r.start.line==r.end.line)var f=t(l.line,l.ch+(r.end.ch-r.start.ch));else var f=t(l.line+(r.end.line-r.start.line),r.end.ch);return{start:l,end:f}}(s.doc,o)))return e.jumpStack.push({file:a.name,start:r.getCursor("from"),end:r.getCursor("to")}),void d(e,a,s,i.start,i.end)}k(e,r,"Could not find a definition.")}else window.open(o.url)})}!function(e){var t=e.getCursor("end"),r=e.getTokenAt(t);return!(r.start<t.ch&&"comment"==r.type)&&/[\w)\]]/.test(e.getLine(t.line).slice(Math.max(t.ch-1,0),t.ch+1))}(r)?g(r,"Jump to variable",function(e){e&&n(e)}):n()}(this,e)},jumpBack:function(e){!function(e,t){var r=e.jumpStack.pop(),n=r&&e.docs[r.file];if(!n)return;d(e,i(e,t.getDoc()),n,r.start,r.end)}(this,e)},rename:function(e){!function(e,t){var r=t.getTokenAt(t.getCursor());if(!/\w/.test(r.string))return k(e,t,"Not at a variable");g(t,"New name for "+r.string,function(r){e.request(t,{type:"rename",newName:r,fullDocs:!0},function(r,n){if(r)return k(e,t,r);!function(e,t){for(var r=Object.create(null),n=0;n<t.length;++n){var o=t[n];(r[o.file]||(r[o.file]=[])).push(o)}for(var i in r){var a=e.docs[i],s=r[i];if(a){s.sort(function(e,t){return m(t.start,e.start)});for(var l="*rename"+ ++p,n=0;n<s.length;++n){var o=s[n];a.doc.replaceRange(o.text,o.start,o.end,l)}}}}(e,n.changes)})})}(this,e)},selectName:function(e){!function(e,t){var r=i(e,t.doc).name;e.request(t,{type:"refs"},function(n,o){if(n)return k(e,t,n);for(var i=[],a=0,s=t.getCursor(),l=0;l<o.refs.length;l++){var c=o.refs[l];c.file==r&&(i.push({anchor:c.start,head:c.end}),m(s,c.start)>=0&&m(s,c.end)<=0&&(a=i.length-1))}t.setSelections(i,a)})}(this,e)},request:function(e,t,r,n){var o=this,a=i(this,e.getDoc()),s=f(this,a,t,n),l=s.query&&this.options.queryOptions&&this.options.queryOptions[s.query.type];if(l)for(var c in l)s.query[c]=l[c];this.server.request(s,function(e,n){!e&&o.options.responseFilter&&(n=o.options.responseFilter(a,t,s,e,n)),r(e,n)})},destroy:function(){x(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var t=e.Pos,r="CodeMirror-Tern-",n=250;function o(e,t,r){var n=e.docs[t];n?r(w(e,n)):e.options.getFile?e.options.getFile(t,r):r(null)}function i(e,t,r){for(var n in e.docs){var o=e.docs[n];if(o.doc==t)return o}if(!r)for(var i=0;;++i)if(n="[doc"+(i||"")+"]",!e.docs[n]){r=n;break}return e.addDoc(r,t)}function a(t,r){return"string"==typeof r?t.docs[r]:(r instanceof e&&(r=r.getDoc()),r instanceof e.Doc?i(t,r):void 0)}function s(e,t){e.server.request({files:[{type:"full",name:t.name,text:w(e,t)}]},function(e){e?window.console.error(e):t.changed=null})}function l(e){var t;return t="?"==e?"unknown":"number"==e||"string"==e||"bool"==e?e:/^fn\(/.test(e)?"fn":/^\[/.test(e)?"array":"object",r+"completion "+r+"completion-"+t}function c(e,t,r,n,o){e.request(t,n,function(r,n){if(r)return k(e,t,r);if(e.options.typeTip)var i=e.options.typeTip(n);else{var i=h("span",null,h("strong",null,n.type||"not found"));if(n.doc&&i.appendChild(document.createTextNode("  "+n.doc)),n.url){i.appendChild(document.createTextNode(" "));var a=i.appendChild(h("a",null,"[docs]"));a.href=n.url,a.target="_blank"}}b(t,i,e),o&&o()},r)}function u(e,t,n){x(e);for(var o=e.cachedArgHints,i=o.type,a=h("span",o.guess?r+"fhint-guess":null,h("span",r+"fname",o.name),"("),s=0;s<i.args.length;++s){s&&a.appendChild(document.createTextNode(", "));var l=i.args[s];a.appendChild(h("span",r+"farg"+(s==n?" "+r+"farg-current":""),l.name||"?")),"?"!=l.type&&(a.appendChild(document.createTextNode(":")),a.appendChild(h("span",r+"type",l.type)))}a.appendChild(document.createTextNode(i.rettype?") ->":")")),i.rettype&&a.appendChild(h("span",r+"type",i.rettype));var c=t.cursorCoords(null,"page"),u=e.activeArgHints=y(c.right+1,c.bottom,a);setTimeout(function(){u.clear=v(t,function(){e.activeArgHints==u&&x(e)})},20)}function d(e,t,r,n,o){r.doc.setSelection(n,o),t!=r&&e.options.switchToDoc&&(x(e),e.options.switchToDoc(r.name,r.doc))}var p=0;function f(r,o,i,a){var s=[],l=0,c=!i.fullDocs;c||delete i.fullDocs,"string"==typeof i&&(i={type:i}),i.lineCharPositions=!0,null==i.end&&(i.end=a||o.doc.getCursor("end"),o.doc.somethingSelected()&&(i.start=o.doc.getCursor("start")));var u=i.start||i.end;if(o.changed)if(o.doc.lineCount()>n&&!1!==c&&o.changed.to-o.changed.from<100&&o.changed.from<=u.line&&o.changed.to>i.end.line){s.push(function(r,n,o){for(var i,a=r.doc,s=null,l=null,c=n.line-1,u=Math.max(0,c-50);c>=u;--c){var d=a.getLine(c),p=d.search(/\bfunction\b/);if(!(p<0)){var f=e.countColumn(d,null,4);null!=s&&s<=f||(s=f,l=c)}}null==l&&(l=u);var m=Math.min(a.lastLine(),o.line+20);if(null==s||s==e.countColumn(a.getLine(n.line),null,4))i=m;else for(i=o.line+1;i<m;++i){var f=e.countColumn(a.getLine(i),null,4);if(f<=s)break}var h=t(l,0);return{type:"part",name:r.name,offsetLines:h.line,text:a.getRange(h,t(i,o.line==i?null:0))}}(o,u,i.end)),i.file="#0";var l=s[0].offsetLines;null!=i.start&&(i.start=t(i.start.line- -l,i.start.ch)),i.end=t(i.end.line-l,i.end.ch)}else s.push({type:"full",name:o.name,text:w(r,o)}),i.file=o.name,o.changed=null;else i.file=o.name;for(var d in r.docs){var p=r.docs[d];p.changed&&p!=o&&(s.push({type:"full",name:p.name,text:w(r,p)}),p.changed=null)}return{query:i,files:s}}var m=e.cmpPos;function h(e,t){var r=document.createElement(e);t&&(r.className=t);for(var n=2;n<arguments.length;++n){var o=arguments[n];"string"==typeof o&&(o=document.createTextNode(o)),r.appendChild(o)}return r}function g(e,t,r){e.openDialog?e.openDialog(t+": <input type=text>",r):r(prompt(t,""))}function b(t,r,n){t.state.ternTooltip&&j(t.state.ternTooltip);var o=t.cursorCoords(),i=t.state.ternTooltip=y(o.right+1,o.bottom,r);function a(){var e;t.state.ternTooltip=null,i.parentNode&&((e=i).style.opacity="0",setTimeout(function(){j(e)},1100)),c()}var s=!1,l=!1;e.on(i,"mousemove",function(){s=!0}),e.on(i,"mouseout",function(t){var r=t.relatedTarget||t.toElement;r&&e.contains(i,r)||(l?a():s=!1)}),setTimeout(function(){l=!0,s||a()},n.options.hintDelay?n.options.hintDelay:1700);var c=v(t,a)}function v(e,t){return e.on("cursorActivity",t),e.on("blur",t),e.on("scroll",t),e.on("setDoc",t),function(){e.off("cursorActivity",t),e.off("blur",t),e.off("scroll",t),e.off("setDoc",t)}}function y(e,t,n){var o=h("div",r+"tooltip",n);return o.style.left=e+"px",o.style.top=t+"px",document.body.appendChild(o),o}function j(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function k(e,t,r){e.options.showError?e.options.showError(t,r):b(t,String(r),e)}function x(e){e.activeArgHints&&(e.activeArgHints.clear&&e.activeArgHints.clear(),j(e.activeArgHints),e.activeArgHints=null)}function w(e,t){var r=t.doc.getValue();return e.options.fileFilter&&(r=e.options.fileFilter(r,t.name,t.doc)),r}}),e("skylark-jsbin-coder/editors/codemirror",["skylark-codemirror/CodeMirror","../coder","skylark-codemirror/mode/xml/xml","skylark-codemirror/mode/css/css","skylark-codemirror/mode/javascript/javascript","skylark-codemirror/mode/htmlmixed/htmlmixed","skylark-codemirror/addon/dialog/dialog","skylark-codemirror/addon/search/searchcursor","skylark-codemirror/addon/search/search","skylark-codemirror/addon/hint/anyword-hint","skylark-codemirror/addon/hint/javascript-hint","skylark-codemirror/addon/edit/matchbrackets","skylark-codemirror/addon/comment/comment","skylark-codemirror/addon/lint/javascript-lint","skylark-codemirror/addon/lint/lint","skylark-codemirror/addon/tern/tern"],function(e,t){return t.editors.CodeMirror=e}),e("skylark-jsbin-coder/editors/mobileCodeMirror",["skylark-jquery","../jsbin","./codemirror"],function(e,t,r){var n=function(){},o=document.body.className,i=null,a=t.settings.editor&&t.settings.editor.simple;(a||t.mobile||t.tablet||-1!==o.indexOf("ie6")||-1!==o.indexOf("ie7"))&&(e("body").addClass("mobile"),function(){var o=/\b./g;t.lameEditor=!0;var a=function(e,t){t||(t=e);var r=this.textarea,n=r.value;if(r.value="",r.value=n,r.setSelectionRange)r.setSelectionRange(e,t);else if(r.createTextRange){var o=r.createTextRange();o.collapse(!0),e<0&&(e=r.value.length+e),o.moveEnd("character",t),o.moveStart("character",e),o.select()}},s=function(e,t,r){var n=this.textarea;void 0!==e&&null!==e||(e=""),t||(t=this.getCursor()),r||(r=t,this.textarea.selectionEnd!==this.textarea.selectionStart&&(r=this.posFromIndex(this.textarea.selectionEnd)));n.value;var o=n.value.split("\n"),i=o[t.line];i=i.substring(0,t.ch)+e+i.substring(r.ch),o[t.line]=i,n.value=o.join("\n");var s=o.slice(0,t.line).join("\n").length+1+t.ch+e.length;a.call({textarea:n},s)},l=function(r,n){this.textarea=r,this.win={document:this.textarea},this.ready=!0,this.wrapping=document.createElement("div");var o=this.textarea.parentNode;this.wrapping.appendChild(this.textarea),o.appendChild(this.wrapping),this.textarea.style.opacity=1;var i=t.mobile||t.tablet?"blur":"keyup",a=null,s=function(){a!==r.value&&(a=r.value,$document.trigger("codeChange",{panelId:r.id}))};$document.on("jsbinReady",function(){a=r.value}),e(this.textarea).on(i,throttle(function(){s(),$body.removeClass("editor-focus")},200)).on("focus",function(){hideOpen(),$body.addClass("editor-focus")}).on("touchstart",function(){c=-1}).on("keypress",function(){c=-1}),n.initCallback&&e(n.initCallback),this.commands={},this.options=n,this.__update=s},c=-1,u=[],d=null;for(var p in l.prototype={_hasCompletions:function(){return-1!==c},_completionIndex:c,_showCompletion:function(e,t){-1===c&&(console.log(e),u=e,d=t,console.log(t)),++c>=u.length&&(c=0);var r=this.getCursor(),n=this.indexFromPos(r),o=u[c].substr(d.string.length);s.call(this,o),this.setCursor(n,n+o.length)},cursorCoords:function(e){var t=getCaretCoordinates(this.textarea,this.textarea.selectionEnd);return t.bottom=t.top,t},replaceRange:function(){return this._completionIndex=-1,s.apply(this,arguments)},getMode:function(){return this.options.mode},Pos:function(e,t){return{line:e,ch:t}},getWrapperElement:function(){return this.wrapping},getScrollerElement:function(){return this.textarea},setOption:function(t,r){"onChange"===t&&e(this.textarea).change(r)},setCode:function(e){this.textarea.value=e},getOption:n,getCode:function(){return this.textarea.value},getLine:function(e){return this.textarea.value.split("\n")[e-1]},getValue:function(){return this.textarea.value},setValue:function(e){this.textarea.value=e},focus:function(){this.textarea.focus()},getCursor:function(){var e=this.cursorPosition().character,t=this.textarea.value.substring(0,e).split("\n"),r=t.length-1,n=t[r].length;return{line:r,char:n,ch:n}},getTokenAt:function(e){var t=this.textarea.value.split("\n")[e.line],r=(t.substr(0,e.char),-1);t.replace(o,function(e,n){t.substr(n).trim()&&(r=n)});var n=(o.exec(t.substr(e.char))||{index:t.length}).index,i=t.substr(r,n);return/^\w+$/g.test(i)||(i=""),{start:r,end:n,string:i.trim(),type:"variable",state:{mode:this.options.mode}}},setCursor:a,currentLine:function(){return 0},defaultTextHeight:function(){return 16},highlightLines:function(){return{string:""}},removeKeyMap:n,addKeyMap:n,indentLine:n,cursorPosition:function(){var e=0;return this.textarea.selectionStart?e=this.textarea.selectionStart:this.textarea.createTextRange&&(e=this.textarea.createTextRange().startOffset),{character:e}},nthLine:n,refresh:n,selectLines:n,on:n,somethingSelected:n,indexFromPos:function(e){return this.textarea.value.split("\n").slice(0,e.line).join("").length+e.ch+e.line},posFromIndex:function(e){var t=this.textarea.value.substr(0,e).split("\n"),r=t.length-1;return{line:r,ch:t[r].length}},getRange:function(e,t){return this.textarea.value.substring(this.indexFromPos(e),this.indexFromPos(t))},getModeAt:function(){var e=this.options.mode;return"htmlmixed"===e&&(e="html"),{name:e}},setSelections:function(e){a.call(this,this.indexFromPos(e[0].anchor),this.indexFromPos(e[0].head))},listSelections:function(){return[{head:this.getCursor(),anchor:this.getCursor()}]},operation:function(e){e()}},i=r,r=n,i)r[p]=n;["Pass","hint","snippets","execCommand","simpleHint","commands"].forEach(function(e){r[e]=i[e]}),r.fromTextArea=function(e,t){return new l(e,t)},r.keyMap={basic:{}}}())}),e("skylark-jsbin-coder/editors/mobile-command-maps",["skylark-jquery","../jsbin"],function(e,t){return t.commandMaps=[{value:"",callback:function(){return this.complete()}},{value:"fn",callback:function(){return"function $0() {\n  \n}"},panel:["js","console"]},{value:"($0)",panel:["js","console"]},{value:"{$0}",panel:["css","js"],callback:function(){return"{\n  $0\n}"}},{value:"log",callback:function(){return"console.log($0)"},panel:"js"},{value:"<$0",panel:"html"},{value:">$0",panel:"html"},{value:"</>",callback:function(){return this.close(">")},panel:"html"},{value:'="$0"',panel:"html"},{value:"&rarr;|",callback:function(){return"  $0"}},{value:': "$0";',panel:"css"}]}),e("skylark-jsbin-coder/editors/snippets.cm",["skylark-jquery","../jsbin","../coder","./codemirror"],function(e,t,r,n){"use strict";var o={cl:"console.log('$0');",fn:"function $0() {\n\t\n}"};return n.snippets=function(e){var r=e.getCursor(),i=e.getTokenAt(r),a=-1,s="",l=i.string,c=t.settings.snippets||o;i.end>r.ch&&(l=l.slice(0,l.length-i.end+r.ch));var u=l.toLowerCase();return c[u]?(a=c[u].indexOf("$0"),s=c[u].replace(/\$0/,""),e.replaceRange(s,{line:r.line,ch:r.ch-u.length},{line:r.line,ch:r.ch+u.length}),void(-1!==a&&e.setCursor({line:r.line,ch:r.ch-u.length+a}))):n.Pass},r.editors.snippets=n.snippets}),e("skylark-jsbin-coder/editors/panel",["skylark-jquery","skylark-jsbin-base/storage","../jsbin","../coder","./codemirror","./snippets.cm"],function(e,t,r,n,o){var i=e(document),a=e("#source"),s=!e("html").hasClass("layout"),l={html:"htmlmixed",javascript:"javascript",css:"css",typescript:"javascript",markdown:"markdown",coffeescript:"coffeescript",livescript:"text/x-livescript",jsx:"javascript",less:"text/x-less",sass:"text/x-sass",scss:"text/x-scss",processing:"text/x-csrc",jade:"text/x-jade",clojurescript:"clojure"},c=new RegExp("[-]","g");"default"===r.settings.editor.tabMode?o.keyMap.basic.Tab=void 0:"classic"!==r.settings.editor.tabMode&&(o.keyMap.basic.Tab="indentMore"),o.commands||(o.commands={});o.commands.autocomplete=function(e){if(o.snippets(e)===o.Pass)return o.simpleHint(e,o.hint.javascript)},o.commands.snippets=function(e){"use strict";return-1===["htmlmixed","javascript","css",l.less,l.sass,l.scss].indexOf(e.options.mode)?o.simpleHint(e,o.hint.anyword):oldCodeMirror?oldCodeMirror.snippets(e):r.mobile?void 0:o.snippets(e)};var u=function(t,n){"use strict";var s=this,c=null,d={},p=t,f=e('<div class="stretch panelwrapper"></div>');if(s.settings=n=n||{},s.id=s.name=t,(c=e(".panel."+t)).data("name",t),s.$el=c.detach(),s.$el.appendTo(f),f.appendTo(a),s.$panel=s.$el,s.$el=s.$el.parent().hide(),s.el=document.getElementById(t),s.order=++u.order,s.label=n.label||t,s.$el.data("panel",s),this._eventHandlers={},s.on("show",panels.updateQuery),s.on("hide",panels.updateQuery),1===s.order&&(n.nosplitter=!0),n.editor){if(d={parserfile:[],readOnly:!!r.state.embed&&"nocursor",dragDrop:!1,mode:l[p],lineWrapping:!1,theme:r.settings.theme||"jsbin",highlightLine:!0},e.extend(d,r.settings.editor||{}),d.extraKeys={},d.extraKeys.Tab="javascript"===t?"autocomplete":"snippets","html"===t&&e.extend(d,{syntax:t,profile:t}),"string"==typeof d.tabSize&&(d.tabSize=parseInt(d.tabSize,10)||2),"string"==typeof d.indentUnit&&(d.indentUnit=parseInt(d.indentUnit,10)||2),s.editor=o.fromTextArea(s.el,d),s.editor.on("highlightLines",function(){window.location.hash=panels.getHighlightLines()}),s.editor.on("change",function(e,t){return r.saveDisabled?i.trigger("codeChange.live",[{panelId:s.id,revert:!0,origin:t.origin}]):i.trigger("codeChange",[{panelId:s.id,revert:!0,origin:t.origin}]),!0}),s.editor.on("focus",function(){s.focus()}),"javascript"===t){var m="mac"===e.browser.platform?"Cmd":"Ctrl",h={};h[m+"-D"]="deleteLine",h[m+"-/"]=function(e){o.commands.toggleComment(e)},h.name="noEmmet",s.editor.addKeyMap(h)}s._setupEditor(s.editor,t)}e("html").is(".layout")?(s.splitter=e(),s.$el.removeClass("stretch")):n.nosplitter?s.splitter=e():(s.splitter=s.$el.splitter({}).data("splitter"),s.splitter.hide()),r.state.processors&&r.state.processors[t]?(p=r.state.processors[t],r.processors.set(s,r.state.processors[t])):n.processor?(p=n.processors[n.processor],r.processors.set(s,n.processor)):processors[s.id]?r.processors.set(s,s.id):s.processor=function(e){return new Promise(function(t){t(e)})},n.beforeRender&&i.bind("render",e.proxy(n.beforeRender,s)),n.editor||(s.ready=!0),r.state.embed,this.controlButton=e('<a role="button" class="button group" href="?'+t+'">'+s.label+"</a>"),this.updateAriaState(),this.controlButton.on("click touchstart",function(){return s.toggle(),!1}),this.controlButton.appendTo("#panels"),c.focus(function(){s.focus()}),r.mobile||c.add(this.$el.find(".label")).click(function(){s.focus()})};function d(e,n){if(e.codeSet)l=!0;else{var o=t.sessionStorage.getItem("jsbin.content."+n),a=r.embed?null:t.localStorage.getItem("saved-"+n),s=t.sessionStorage.getItem("url"),l=!1;if(s===r.getURL()||r.state.checksum||(t.sessionStorage.removeItem("checksum"),saveChecksum=!1),template&&o==template[n])e.setCode(o);else if(o&&s==r.getURL()&&s!==r.root)e.setCode(o),l=o!=a&&o!=template[n];else if(template.post||null===a||/(edit|embed)$/.test(window.location)||window.location.search)e.setCode(template[n]);else{e.setCode(a);var c=JSON.parse(t.localStorage.getItem("saved-processors")||"{}")[n];c&&r.processors.set(r.panels.panels[n],c)}e.editor&&e.editor.clearHistory&&e.editor.clearHistory()}l&&i.trigger("codeChange",[{revert:!1,onload:!0}])}u.order=0,u.prototype={virgin:!0,visible:!1,updateAriaState:function(){this.controlButton.attr("aria-label",this.label+" Panel: "+(this.visible?"Active":"Inactive"))},show:function(t){if(hideOpen(),!this.visible){i.trigger("history:close");var n=this,o=n.$el.find(".panel").length;if(analytics.showPanel(n.id),r.mobile&&panels.hideAll(!0),n.splitter.length){if(0===o||o>1){var a=e(".panel."+n.id).show();a.closest(".panelwrapper").show()}else n.$el.show();n.splitter.show()}else n.$el.show();if($body.addClass("panelsVisible"),n.settings.show&&n.settings.show.call(n,!0),n.controlButton.addClass("active"),n.visible=!0,this.updateAriaState(),r.mobile&&window.matchMedia&&window.matchMedia("(max-height: 410px) and (max-width: 640px)").matches&&n.editor&&n.editor.focus(),r.mobile)return n.focus(),void n.trigger("show");setTimeout(function(){if(s&&(void 0!==t?n.splitter.trigger("init",t):n.distribute()),n.editor){if(n.virgin){var o=n.$el.find(".label").outerHeight();o+=8,r.mobile||e(n.editor.scroller).find(".CodeMirror-lines").css("padding-top",o),d(n,n.name)}n.virgin&&!r.panels.ready||(n.editor.focus(),n.focus()),n.virgin&&n.settings.init&&setTimeout(function(){n.settings.init.call(n)},10)}else n.focus();i.trigger("sizeeditors"),n.trigger("show"),n.virgin=!1},0)}},hide:function(t){this.visible=!1,this.updateAriaState(),t?this.editor&&(getRenderedCode[this.id]=getRenderedCode.render(this.id)):analytics.hidePanel(this.id);var n=this.$el.find(".panel").length;if(0===n||n>1){var o=e(".panel."+this.id).hide();o.prev().hide(),0===o.closest(".panelwrapper").find(".panel:visible").length&&o.closest(".panelwrapper").hide()}else this.$el.hide(),this.splitter.hide();this.editor&&this.controlButton.toggleClass("hasContent",!!this.getCode().trim().length),this.controlButton.removeClass("active"),this.settings.hide&&this.settings.hide.call(this,!0);var a=r.panels.getVisible();a.length&&(r.panels.focused=a[0],r.panels.focused.editor?r.panels.focused.editor.focus():r.panels.focused.$el.focus(),r.panels.focused.focus()),!t&&r.mobile&&0===a.length&&(i.trigger("history:load"),e("#history").show(),setTimeout(function(){$body.removeClass("panelsVisible")},100)),this.trigger("hide"),t||(this.distribute(),i.trigger("sizeeditors"),i.trigger("history:open"))},toggle:function(){this[this.visible?"hide":"show"]()},getCode:function(){if(this.editor)return c.lastIndex=0,this.editor.getCode().replace(c,"")},setCode:function(e){this.editor&&(void 0===e&&(e=""),this.controlButton.toggleClass("hasContent",!!e.trim().length),this.codeSet=!0,this.editor.setCode(e.replace(c,"")))},codeSet:!1,blur:function(){this.$panel.addClass("blur")},focus:function(){this.$panel.removeClass("blur"),r.panels.focus(this)},render:function(){"use strict";var e=[].slice.call(arguments),t=this;return new Promise(function(n,o){t.editor?t.processor(t.getCode()).then(n,o):t.visible&&t.settings.render&&(r.panels.ready&&t.settings.render.apply(t,e),n())})},init:function(){this.settings.init&&this.settings.init.call(this)},_setupEditor:function(){var n=t.sessionStorage.getItem("panel")||r.settings.focusedPanel,o=this,s=o.editor;s.setCode=function(e){try{s.setValue(e)}catch(e){}},s.getCode=function(){return s.getValue()},s.currentLine=function(){var e=s.getCursor();return e.line},r.embed&&(s._focus=s.focus,s.focus=function(){}),s.id=o.name,s.win=s.getWrapperElement(),s.scroller=e(s.getScrollerElement());var l=o.$el.find(".label");-1===document.body.className.indexOf("ie6")&&l.length&&s.on("scroll",function(t){var r=s.getScrollInfo();r.top>10?l.stop().animate({opacity:0},20,function(){e(this).hide()}):l.show().stop().animate({opacity:1},150)});var c=null;i.bind("sizeeditors",function(){if(o.visible){var e=o.editor.scroller.closest(".panel").outerHeight(),t=0;c=o.$el.find("details"),t+=c.filter(":visible").height()||0,r.lameEditor||s.scroller.height(e-t);try{s.refresh()}catch(e){}setTimeout(function(){a[0].style.paddingLeft="1px",setTimeout(function(){a[0].style.paddingLeft="0"},0)},0)}}),setTimeout(function(){o.ready=!0,d(o,o.name),n==o.name&&setTimeout(function(){if(o.focus(),o.visible&&!r.mobile&&!r.tablet){s.focus();for(var e=s.getCode().split("\n"),n=null,i=0;i<e.length;i++)if(null===n&&""===e[i].trim()){n=i;break}s.setCursor({line:1*(t.sessionStorage.getItem("line")||n||0),ch:1*(t.sessionStorage.getItem("character")||0)})}},110)},0)},populateEditor:function(){d(this,this.name)},on:function(e,t){return(this._eventHandlers[e]=this._eventHandlers[e]||[]).push(t),this},trigger:function(e){var t=[].slice.call(arguments,1);t.unshift({type:e});for(var r=this._eventHandlers[e],n=0;r&&r[n];)r[n++].apply(this,t);return this}};var p=function(){r.panels.ready&&editors.console.render()},f=e("#panels"),m=e("div.processorSelector").each(function(){var t=this.getAttribute("data-type"),n=e(this),o=n.closest(".label").find("strong a"),i=o.text();n.find("a").click(function(n){var a=r.panels.named[t],s=f.find('a[href$="'+t+'"]');n.preventDefault();var l=this.hash.substring(1),c=e(this).text(),u=e(this).data("label");"convert"!==l?(s.html(u||c),o.html("<span>"+c+"</span>"),l===t?(processors.reset(t),p()):processors.set(t,l,p)):(o.text(i),s.html(i),a.render().then(function(e){processors.reset(t),a.setCode(e)}))}).bind("select",function(r,n){if(n===this.hash.substring(1)){var i=f.find('a[href$="'+t+'"]'),a=e(this);o.html("<span>"+a.text()+"</span>"),i.html(a.data("label")||a.text())}})});return processors.set=function(e,t,n){var o;e instanceof u?e=(o=e).id:o=r.panels.named[e],r.state.processors||(r.state.processors={});var i=t&&l[t]||l[e],a="jsx"!==t;if(o){o.trigger("processor",t||"none"),t&&processors[t]?(r.state.processors[e]=t,o.processor=processors[t](function(){o.editor.setOption("mode",i),o.editor.setOption("smartIndent",a),m.find("a").trigger("select",[t]),n&&n()})):(o.editor.setOption("mode",i),o.editor.setOption("smartIndent",a),o.processor=defaultProcessor,r.state.processors[e]=e,delete o.type);var s=i;"javascript"===i&&(s="js"),"htmlmixed"===i&&(s="html");var c=o.editor.getOption("lint");c&&o.editor.lintStop(),r.settings[s+"hint"]&&(o.editor.setOption("mode",i),"undefined"!=typeof hintingDone&&(o.editor.setOption("mode",i),hintingDone(o.editor)))}},processors.reset=function(e){processors.set(e)},n.editors.Panel=u}),e("skylark-jsbin-coder/editors/panels",["skylark-jquery","skylark-jsbin-base/storage","skylark-jsbin-processors","../jsbin","./panel"],function(e,t,r,n,o){var i={};function a(e){var t=["live","javascript","html","css","console"];return e.split(",").reduce(function(e,r){return"js"===r&&(r="javascript"),"output"===r&&(r="live"),-1!==t.indexOf(r)&&e.push(r),e},[])}i.getVisible=function(){var e=this.named,t=[];for(var r in e)e[r].visible&&t.push(e[r]);return t},i.save=function(){if(!n.embed){for(var r,o=this.getVisible(),i={},a="",s=e(window).width(),l=0;l<o.length;l++)r=o[l],-1===(a=r.$el.css("left")).indexOf("%")&&(a=parseFloat(a)/s*100+"%"),i[r.name]=a;t.sessionStorage.setItem("jsbin.panels",JSON.stringify(i))}},i.restore=function(){"use strict";var r=window.location,o=r.search.substring(1),s=r.hash.substring(1),l=[],u=n.embed?null:JSON.parse(t.sessionStorage.getItem("jsbin.panels")||"null"),d={javascript:c.javascript.getCode().length,css:c.css.getCode().length,html:c.html.getCode().length},p="",f=0,m=null,h=[],g="",b=!1,v=$window.width(),y=!!t.sessionStorage.getItem("panel"),j="live javascript html css console".split(" ");if(history.replaceState&&-1!==r.pathname.indexOf("/edit")||(r.origin,r.pathname,n.getURL()),o||s){var k=o||s;-1!==k.indexOf("&")?(k=function(t){var r={},n=/\+/g,o=(t=t.split("&")).length;o>1e3&&(o=1e3);for(var i=0;i<o;++i){var a,s,l,c,u=t[i].replace(n,"%20"),d=u.indexOf("=");d>=0?(a=u.substr(0,d),s=u.substr(d+1)):(a=u,s="");try{l=decodeURIComponent(a),c=decodeURIComponent(s)}catch(e){l=a,c=s}(window.hasOwnProperty?window.hasOwnProperty(r,l):r.hasOwnProperty(l))?e.isArray(r[l])?r[l].push(c):r[l]=[r[l],c]:r[l]=c}return r}(o||s),l=Object.keys(k).reduce(function(e,t){return-1!==t.indexOf(",")&&""===k[t]?e=a(t):("js"===t&&(k.javascript=k.js,t="javascript"),"output"===t&&(k.live=k.live,t="live"),void 0===k[t]&&(k[t]=""),-1!==j.indexOf(t)&&e.push(t+"="+k[t]),e)},[])):l=a(k)}if(0===l.length&&(l=null!==u?Object.keys(u):n.mobile?[n.settings.panels[0]]:n.settings.panels),0===l.length&&(d.javascript&&l.push("javascript"),d.html&&l.push("html"),d.css&&l.push("css"),l.push("live")),i.saveOnExit=!0,f=0,0===l.length&&(l=["html","live"]),l.length){for(p in u)-1!==l.indexOf(p)&&f++;for(f===l.length&&(b=!0),f=0;f<l.length;f++)g=null,-1!==(p=l[f]).indexOf("=")&&(g=p.substring(p.indexOf("=")+1),p=p.substring(0,p.indexOf("="))),i.named[p]?((m=i.named[p]).editor&&null!==g&&m.setCode(decodeURIComponent(g)),b&&l.length>1?m.show(v*parseFloat(u[p])/100):m.show(),h.push(m)):p&&null!==g&&function(e,t){var r=["html","javascript","css"],n=function(o,a){var s,l,c=i.named[a.panelId]||{};if(a.panelId&&c.editor&&!0===c.ready){r.splice(r.indexOf(a.panelId),1);try{s=c.getCode()}catch(e){}-1!==s.indexOf("%"+e+"%")&&(l=s.split("%"+e+"%"),s=l[0]+decodeURIComponent(t)+l[1],c.setCode(s),$document.unbind("codeChange",n))}0===r.length&&$document.unbind("codeChange",n)};$document.bind("codeChange",n)}(p,g);1===l.length&&"preview"===l[0]&&i.named.live.show(),b||this.distribute()}for(f=0;f<h.length;f++)h[f].init();var x=i.getVisible();x.length&&($body.addClass("panelsVisible"),y||x[0].show())},i.savecontent=function(){var e,r;for(e in this.named)(r=this.named[e]).editor&&t.sessionStorage.setItem("jsbin.content."+e,r.getCode())},i.getHighlightLines=function(){"use strict";var e,t=[],r="";for(name in i.named)(e=i.named[name]).editor&&(r=e.editor.highlightLines().string)&&t.push(name.substr(0,1).toUpperCase()+":L"+r);return t.join(",")},i.focus=function(t){this.focused=t,t&&e(".panel").removeClass("focus").filter("."+t.id).addClass("focus")},i.getQuery=function(){var e={javascript:"js",live:"output"},t=i.getVisible();return t.map(function(t){return e[t.id]||t.id}).join(",")},i.updateQuery=n.throttle(function(){var t=i.getQuery();n.state.code&&n.state.owner&&e.ajax({url:n.getURL({withRevision:!0})+"/settings",type:"PUT",data:{panels:visible.map(function(e){return e.id})},success:function(){}}),history.replaceState&&history.replaceState(null,null,"?"+t)},100);var s=!e("html").hasClass("layout");s||e("#source").removeClass("stretch"),i.distribute=function(){if(s){var t,r=e("#source .panelwrapper:visible"),o=100,a=0,l=$window.width()-(r.length-1),c=e("#source").outerHeight(),u=0,d=0,p=0,f=[];if(r.length){$body.addClass("panelsVisible"),o=100/r.length;for(var m=0;m<r.length;m++)t=e.data(r[m],"panel"),d=100-o*(m+1),t.$el.css({top:0,bottom:0,left:u+"%",right:d+"%"}),t.splitter.trigger("init",l*u/100),t.splitter[0==m?"hide":"show"](),u+=o,(f=e(r[m]).find(".panel")).length>1&&(p=0,f=f.filter(":visible"),a=100/f.length,f.each(function(t){bottom=100-a*(t+1);var r=i.named[e.data(this,"name")];e(this).css("top",p+"%"),e(this).css("bottom",bottom+"%"),r.splitter.hasClass("vertical")&&(r.splitter.trigger("init",c*p/100),r.splitter[0==t?"hide":"show"]()),p+=a}))}else n.embed||(e("#history").show(),setTimeout(function(){$body.removeClass("panelsVisible")},100))}},i.show=function(e){this.named[e].show(),this.named[e].editor&&this.named[e].editor.focus(),this.named[e].focus()},i.hide=function(t){e("#history");var r=this.named;r[t].visible&&r[t].hide();var n=r.getVisible();n.length&&(r.focused=n[0],r.focused.editor?r.focused.editor.focus():r.focused.$el.focus(),r.focused.focus())},i.hideAll=function(e){for(var t=i.getVisible(),r=t.length;r--;)t[r].hide(e)},o.prototype.distribute=function(){i.distribute()};var l={html:function(){return new o("html",{editor:!0,label:"HTML",init:function(){var e=this.editor.getValue().split("\n"),t=-1;e.forEach(function(e,r){-1===t&&0===e.trim().length&&(t=r)}),-1!==t&&(this.editor.setCursor({line:t,ch:2}),0===e[t].length&&this.editor.indentLine(t,"add"))}})},css:function(){return new o("css",{editor:!0,label:"CSS"})},javascript:function(){return new o("javascript",{editor:!0,label:"JavaScript"})},console:function(){return new o("console",{label:"Console"})},live:function(){return new o("live",{label:"Output",show:function(){i.ready&&renderLivePreview()},hide:function(){i.named.console.visible}})}},c=i.named={};c.html=l.html(),c.css=l.css(),c.javascript=l.javascript(),c.console=l.console(),upgradeConsolePanel(c.console),c.live=l.live(),c.live.settings.render=function(e){i.ready&&renderLivePreview(e)},i.allEditors=function(e){var t,r;for(t in i.named)(r=i.named[t]).editor&&e(r)},setTimeout(function(){i.restore()},10),i.focus(i.getVisible()[0]||null);var u=setInterval(function(){var t,r,o=!0,a=null,s=window.location.hash.substring(1);for(r in i.named)if((t=i.named[r]).visible&&!t.ready){o=!1;break}if(i.ready=o,o){i.allEditors(function(e){var t=e.id.substr(0,1).toUpperCase()+":L";if(-1!==s.indexOf(t)){var r=s.match(new RegExp(t+"(\\d+(?:-\\d+)?)"));null!==r&&e.editor.highlightLines(r[1])}});var l=e("li.add-library"),d=e("li.run-with-js");c.live.on("hide",function(){l.show(),d.hide()}),c.live.on("show",function(){l.hide(),d.show()}),i.named.live.visible?c.live.trigger("show"):c.live.trigger("hide"),clearInterval(u),i.named.console.visible?c.console.render():renderLivePreview(),n.mobile||e(window).resize(function(){clearTimeout(a),a=setTimeout(function(){$document.trigger("sizeeditors")},100)}),$document.trigger("sizeeditors"),$document.trigger("jsbinReady")}},100);setTimeout(function(){i.restore()},10),i.focus(i.getVisible()[0]||null);var d=function(){n.panels.ready&&c.console.render()},p=e("#panels"),f=e("div.processorSelector").each(function(){var t=this.getAttribute("data-type"),o=e(this),i=o.closest(".label").find("strong a"),a=i.text();o.find("a").click(function(o){var s=n.panels.named[t],l=p.find('a[href$="'+t+'"]');o.preventDefault();var c=this.hash.substring(1),u=e(this).text(),f=e(this).data("label");"convert"!==c?(l.html(f||u),i.html("<span>"+u+"</span>"),c===t?(r.reset(t),d()):r.set(t,c,d)):(i.text(a),l.html(a),s.render().then(function(e){r.reset(t),s.setCode(e)}))}).bind("select",function(r,n){if(n===this.hash.substring(1)){var o=p.find('a[href$="'+t+'"]'),a=e(this);i.html("<span>"+a.text()+"</span>"),o.html(a.data("label")||a.text())}})});return r.set=function(e,t,i){var a;e instanceof o?e=(a=e).id:a=n.panels.named[e],n.state.processors||(n.state.processors={});var s=t&&editorModes[t]||editorModes[e],l="jsx"!==t;if(a){a.trigger("processor",t||"none"),t&&r[t]?(n.state.processors[e]=t,a.processor=r[t](function(){a.editor.setOption("mode",s),a.editor.setOption("smartIndent",l),f.find("a").trigger("select",[t]),i&&i()})):(a.editor.setOption("mode",s),a.editor.setOption("smartIndent",l),a.processor=defaultProcessor,n.state.processors[e]=e,delete a.type);var c=s;"javascript"===s&&(c="js"),"htmlmixed"===s&&(c="html");var u=a.editor.getOption("lint");u&&a.editor.lintStop(),n.settings[c+"hint"]&&(a.editor.setOption("mode",s),"undefined"!=typeof hintingDone&&(a.editor.setOption("mode",s),hintingDone(a.editor)))}},r.reset=function(e){r.set(e)},n.codepan.panels=i}),e("skylark-jsbin-coder/editors/mobile-keyboard",["skylark-jquery","../jsbin","./mobile-command-maps","./panels"],function(e,t,r,n){if(t.mobile&&!t.embed){var o={next:function(){},close:function(e){var r=t.panels.focused.editor.textarea,n=function(e){if(e.selectionStart)return e.selectionStart;if(e.createTextRange){var t=e.createTextRange();return t.startOffset}}(r),o=r.value.substring(0,n).lastIndexOf(e);if(">"===e){for(var i=0;i>-1;){i=r.value.substring(0,o).lastIndexOf("<")+1;var a=r.value.substr(i,1);if("/"!==a){if("!"===a)return"";if(0===i)return"";break}var s=r.value.substr(i+1,r.value.substr(i).indexOf(">")-1);o=r.value.lastIndexOf("<"+s)}var l=r.value.substr(i,o).indexOf(e);return"</"+r.value.substr(i,l)+">$0"}},complete:function(){var e=t.panels.focused;"html"===e.id||"css"===e.id?CodeMirror.commands["emmet.expand_abbreviation_with_tab"].call(null,e.editor):e.editor._hasCompletions&&e.editor._hasCompletions()?e.editor._showCompletion():CodeMirror.commands.autocomplete(e.editor),e.editor.focus()}},i={html:e(),css:e(),js:e(),console:e(),all:e()},a=e('<div id="strip"><div class="inner-strip"></div></div>');r.map(function(r){var n=e("<button>"),s=r.value,l=r.value.replace(/\$0/,"");r.callback||(r.callback=function(){return s});n.on("click",function(){var e=t.panels.focused;if(e.editor){var n=e.editor.getCursor(),i=r.callback.call(o);if(null==i)return;var a=i.indexOf("$0");-1===a&&(a=0);var s=e.editor.cursorPosition().character+a;-1!==n&&(i=i.replace("$0","")),e.editor.replaceRange(i,n,n),e.editor.setCursor(s),e.editor.textarea.focus()}else"console"===e.id&&(e.setCursorTo(r.callback().replace("$0",""),!0),e.$el.click())}),n.html(escapeHTML(l)),a.find("div").append(n),r.panel&&("string"==typeof r.panel?i[r.panel]=i[r.panel].add(n):r.panel.forEach(function(e){i[e]=i[e].add(n)}),i.all=i.all.add(n))}),e("body").append(a);var s=function(e){return function(){i.all.hide(),i[e]&&i[e].show()}};$document.on("jsbinReady",function(){n.named.html.on("show",s("html")),n.named.css.on("show",s("css")),n.named.javascript.on("show",s("js")),n.named.console.on("show",s("console")),s("javascript"===n.focused.id?"js":n.focused.id)()})}}),e("skylark-jsbin-coder/editors/autocomplete",["skylark-jquery","../jsbin","../coder"],function(e,t,r){"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),"length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),"prototype apply call bind".split(" "),"break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" ");return r.editors.autocomplete={startTagComplete:function(e){if(e.somethingSelected())return;var t=e.getCursor(!1),r=e.getTokenAt(t),n=r;/^[\w$_]*$/.test(r.string)||(r=n={start:t.ch,end:t.ch,string:"",state:r.state,className:"."==r.string?"js-property":null});for(;"js-property"==n.className;){if("."!=(n=e.getTokenAt({line:t.line,ch:n.start})).string)return;if(n=e.getTokenAt({line:t.line,ch:n.start}),!o)var o=[];o.push(n)}return i="<></>",e.replaceRange(i,{line:t.line,ch:r.start},{line:t.line,ch:r.end}),e.focus(),e.setCursor({line:t.line,ch:r.end}),!0;var i}}}),e("skylark-jsbin-coder/editors/keycontrol",["skylark-jquery","../jsbin","../coder","./autocomplete","./panels"],function(e,t,r,n,o){var i=!1,a=objectValue("settings.keys",t)||{};function s(){t.settings.keys||(t.settings.keys={}),t.settings.keys.useAlt=this.checked,settings.save()}e("input.enablealt").attr("checked",!!a.useAlt).change(s),a.disabled?$body.addClass("nokeyboardshortcuts"):$body.keydown(u);var l={start:48},c=navigator.userAgent;-1!==c.indexOf(" Mac ")?e.browser.platform="mac":/windows|win32/.test(c)?e.browser.platform="win":/linux/.test(c)?e.browser.platform="linux":e.browser.platform="",a.disabled||$document.keydown(function(r){var n=a.useAlt?r.altKey:!r.altKey,o=a.closePanel?a.closePanel:48;if(r.ctrlKey&&"mac"!==e.browser.platform&&(r.metaKey=!0),r.metaKey&&79===r.which)e("a.homebtn").trigger("click","keyboard"),r.preventDefault();else if(r.metaKey&&r.shiftKey&&8===r.which)e("a.deletebin:first").trigger("click","keyboard"),r.preventDefault();else if(!t.embed&&r.metaKey&&83===r.which){if(!1===r.shiftKey)saveChecksum?(saveChecksum=!1,$document.trigger("snapshot")):e("a.save:first").click(),r.preventDefault();else if(!0===r.shiftKey){var i=e("#sharemenu");i.hasClass("open"),e("#sharemenu a").trigger("mousedown"),r.preventDefault()}}else r.which===o&&r.metaKey&&n&&t.panels.focused?t.panels.hide(t.panels.focused.id):220===r.which&&(r.metaKey||r.ctrlKey)?(t.settings.hideheader=!t.settings.hideheader,$body[t.settings.hideheader?"addClass":"removeClass"]("hideheader")):76===r.which&&r.ctrlKey&&t.panels.panels.console.visible&&(r.shiftKey?jsconsole.reset():jsconsole.clear())});function u(r){r=function(e){var t={type:e.type,which:e.which,metaKey:e.metaKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,orig:e};null!==e.which||null===e.charCode&&null===e.keyCode||(t.which=null!==e.charCode?e.charCode:e.keyCode);!e.metaKey&&e.ctrlKey&&(t.metaKey=e.ctrlKey);0===e.which&&!0===e.ctrlKey&&!0===e.shiftKey&&"keydown"===e.type&&(t.which=191);var r=e.stop;return t.stop=function(){t.stopping=!0,r&&r.call(e)},t}(r);var c={};t.panels.focused&&t.panels.focused.editor?c=t.panels.focused.editor:t.panels.focused&&(c=t.panels.focused);var u={css:1,javascript:1,html:1}[c.id],d=!1,p=a.useAlt?r.altKey:!r.altKey;if("keydown"===r.type){if(u&&r.metaKey&&13===r.which&&(o.named.console.visible&&!o.named.live.visible?(d=!0,e("#runconsole").trigger("click","keyboard")):(o.named.live.visible,e("#runwithalerts").trigger("click","keyboard"),d=!0),d?r.stop():sendReload()),void 0!==l[r.which]&&r.metaKey&&p)if(t.panels.focused.id===l[r.which])t.panels.hide(l[r.which]),r.stop();else if(t.panels.show(l[r.which]),r.stop(),!(a.useAlt||t.settings.keys&&t.settings.keys.seenWarning)){var f="mac"===e.browser.platform?"cmd":"ctrl";t.settings.keys||(t.settings.keys={}),t.settings.keys.seenWarning=!0,$document.trigger("tip",{type:"notification",content:'<label><input type="checkbox" class="enablealt"> <strong>Turn this off</strong>. Reserve '+f+"+[n] for switching browser tabs and use "+f+"+<u>alt</u>+[n] to switch JS Bin panels. You can access this any time in <strong>Help&rarr;Keyboard</strong></label>"}),e("#tip").delegate("input.enablealt","click",function(){s.call(this),window.location.reload()})}if(191===r.which&&r.metaKey&&r.shiftKey)opendropdown(e("#help").prev()[0]),r.stop();else if(27===r.which&&i)$body.removeClass("keyboardHelp"),i=!1,r.stop();else if(27===r.which&&t.panels.focused&&u);else if(190===r.which&&p&&r.metaKey&&"html"===c.id){if(c.somethingSelected())return;var m=c.getCursor(!1),h=c.getTokenAt(m);/^[\w$_]*$/.test(h.string)||(h={start:m.ch,end:m.ch,string:"",state:h.state,className:"."===h.string?"js-property":null}),c.replaceRange("</"+h.state.htmlState.context.tagName+">",{line:m.line,ch:h.end},{line:m.line,ch:h.end}),r.stop()}else if(188===r.which&&r.ctrlKey&&r.shiftKey&&u)return r.stop(),n.startTagComplete(c)}if(r.stopping)return!1}return r.editors.keycontrol=u}),e("skylark-jsbin-coder/editors/libraries",["skylark-jquery","skylark-jsbin-base/storage","../jsbin","../coder"],function(e,t,r,n){var o=[{url:"https://code.jquery.com/jquery-git.js",label:"jQuery WIP (via git)",group:"jQuery"},{url:"https://code.jquery.com/jquery-3.1.0.js",label:"jQuery 3.1.0",group:"jQuery"},{url:"https://code.jquery.com/jquery-3.0.0.js",label:"jQuery 3.0.0",group:"jQuery"},{url:"https://code.jquery.com/jquery-2.2.4.js",label:"jQuery 2.2.4",group:"jQuery"},{url:"https://code.jquery.com/jquery-2.1.4.js",label:"jQuery 2.1.4",group:"jQuery"},{url:"https://code.jquery.com/jquery-2.0.3.js",label:"jQuery 2.0.3",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.12.4.js",label:"jQuery 1.12.4",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.11.3.js",label:"jQuery 1.11.3",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.10.2.js",label:"jQuery 1.10.2",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.9.1.js",label:"jQuery 1.9.1",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.8.3.js",label:"jQuery 1.8.3",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.7.2.js",label:"jQuery 1.7.2",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.6.4.js",label:"jQuery 1.6.4",group:"jQuery"},{url:["https://code.jquery.com/ui/jquery-ui-git.css","https://code.jquery.com/jquery-git.js","https://code.jquery.com/ui/jquery-ui-git.js"],label:"jQuery UI WIP (via git)",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-3.1.0.js","https://code.jquery.com/ui/1.12.1/jquery-ui.js"],label:"jQuery UI 1.12.1",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-1.12.4.js","https://code.jquery.com/ui/1.11.4/jquery-ui.js"],label:"jQuery UI 1.11.4",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-1.11.3.js","https://code.jquery.com/ui/1.10.4/jquery-ui.js"],label:"jQuery UI 1.10.4",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-1.8.3.js","https://code.jquery.com/ui/1.9.2/jquery-ui.js"],label:"jQuery UI 1.9.2",group:"jQuery UI"},{url:["https://code.jquery.com/mobile/git/jquery.mobile-git.css","https://code.jquery.com/jquery-1.11.3.js","https://code.jquery.com/mobile/git/jquery.mobile-git.js"],label:"jQuery Mobile WIP (via git)",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.css","https://code.jquery.com/jquery-1.11.3.js","https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.js"],label:"jQuery Mobile 1.4.2",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.css","https://code.jquery.com/jquery-1.9.1.js","https://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.js"],label:"jQuery Mobile 1.3.2",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.css","https://code.jquery.com/jquery-1.8.3.js","https://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.js"],label:"jQuery Mobile 1.2.1",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.1.2/jquery.mobile-1.1.2.css","https://code.jquery.com/jquery-1.6.4.js","https://code.jquery.com/mobile/1.1.2/jquery.mobile-1.1.2.js"],label:"jQuery Mobile 1.1.2",group:"jQuery Mobile"},{url:["https://code.jquery.com/jquery.min.js","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"],label:"Bootstrap Latest",group:"Bootstrap"},{url:["https://code.jquery.com/jquery.min.js","https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css","https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"],label:"Bootstrap 2.3.2",group:"Bootstrap"},{url:"https://ajax.googleapis.com/ajax/libs/prototype/1/prototype.js",label:"Prototype latest",group:"Prototype"},{url:"https://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js",label:"Prototype 1.7.1",group:"Prototype"},{url:"https://ajax.googleapis.com/ajax/libs/prototype/1.6.1.0/prototype.js",label:"Prototype 1.6.1.0",group:"Prototype"},{url:["https://ajax.googleapis.com/ajax/libs/prototype/1/prototype.js","https://ajax.googleapis.com/ajax/libs/scriptaculous/1/scriptaculous.js"],label:"script.aculo.us latest",group:"Prototype"},{url:["https://ajax.googleapis.com/ajax/libs/prototype/1/prototype.js","https://ajax.googleapis.com/ajax/libs/scriptaculous/1.8.3/scriptaculous.js"],label:"script.aculo.us 1.8.3",group:"Prototype"},{url:"http://yui.yahooapis.com/3.10.0/build/yui/yui.js",label:"YUI 3.10.0",group:"YUI"},{url:"http://yui.yahooapis.com/2.9.0/build/yuiloader/yuiloader-min.js",label:"YUI 2.9.0",group:"YUI"},{url:"https://ajax.googleapis.com/ajax/libs/mootools/1.5.0/mootools-yui-compressed.js",label:"MooTools 1.5.0",group:"MooTools"},{url:"https://ajax.googleapis.com/ajax/libs/mootools/1.5.0/mootools-nocompat-yui-compressed.js",label:"MooTools 1.5.0 (without 1.2+ compatibility layer)",group:"MooTools"},{url:"https://ajax.googleapis.com/ajax/libs/mootools/1.4.5/mootools-yui-compressed.js",label:"MooTools 1.4.5",group:"MooTools"},{url:"https://ajax.googleapis.com/ajax/libs/dojo/1/dojo/dojo.js",label:"Dojo latest",group:"Dojo"},{url:"https://ajax.googleapis.com/ajax/libs/dojo/1.8/dojo/dojo.js",label:"Dojo 1.8.4",group:"Dojo"},{url:"https://ajax.googleapis.com/ajax/libs/dojo/1.7/dojo/dojo.js",label:"Dojo 1.7.4",group:"Dojo"},{url:["https://ajax.googleapis.com/ajax/libs/dojo/1/dijit/themes/claro/claro.css","https://ajax.googleapis.com/ajax/libs/dojo/1/dojo/dojo.js"],label:"Dijit latest (Claro)",group:"Dojo"},{url:["https://ajax.googleapis.com/ajax/libs/dojo/1.8.4/dijit/themes/claro/claro.css","https://ajax.googleapis.com/ajax/libs/dojo/1.8.4/dojo/dojo.js"],label:"Dijit 1.8.4 (Claro)",group:"Dojo"},{url:["https://ajax.googleapis.com/ajax/libs/dojo/1.7.4/dijit/themes/claro/claro.css","https://ajax.googleapis.com/ajax/libs/dojo/1.7.4/dojo/dojo.xd.js"],label:"Dijit 1.7.4 (Claro)",group:"Dojo"},{url:["https://da7xgjtj801h2.cloudfront.net/2015.2.624/styles/kendo.common.min.css","https://da7xgjtj801h2.cloudfront.net/2015.2.624/styles/kendo.silver.min.css","https://code.jquery.com/jquery-2.1.4.min.js","https://da7xgjtj801h2.cloudfront.net/2015.2.624/js/kendo.ui.core.min.js"],label:"Kendo UI Core 2015.2.624",group:"Kendo UI"},{url:["https://da7xgjtj801h2.cloudfront.net/2014.3.1411/styles/kendo.common.min.css","https://da7xgjtj801h2.cloudfront.net/2014.3.1411/styles/kendo.default.min.css","https://code.jquery.com/jquery-1.9.1.min.js","https://da7xgjtj801h2.cloudfront.net/2014.3.1411/js/kendo.ui.core.min.js"],label:"Kendo UI Core 2014.3.1411",group:"Kendo UI"},{url:["https://code.jquery.com/qunit/qunit-git.css","https://code.jquery.com/qunit/qunit-git.js"],label:"QUnit",group:"Testing"},{url:["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.js"],label:"RequireJS",group:"AMD"},{url:"http://zeptojs.com/zepto.min.js",label:"Zepto latest",group:"Zepto"},{url:"https://cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.min.js",label:"Zepto 1.0",group:"Zepto"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js",label:"Angular 1.4.0 Stable",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.js",label:"Angular 1.4.0 Stable Uncompressed",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js",label:"Angular 1.3.15 Stable",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js",label:"Angular 1.3.15 Stable Uncompressed",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js",label:"Angular 1.2.26 Legacy",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular/master/angular.min.js",label:"Angular Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular/master/angular.js",label:"Angular Latest Uncompressed",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-animate/master/angular-animate.min.js",label:"Angular Animate Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-aria/master/angular-aria.min.js",label:"Angular Aria Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-messages/master/angular-messages.min.js",label:"Angular Messages Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-resource/master/angular-resource.min.js",label:"Angular Resource Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-route/master/angular-route.min.js",label:"Angular Route Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-sanitize/master/angular-sanitize.min.js",label:"Angular Sanitize Latest",group:"Angular"},{url:["https://fb.me/react-15.1.0.js","https://fb.me/react-dom-15.1.0.js"],label:"React + React DOM 15.1.0",group:"React"},{url:["https://fb.me/react-with-addons-15.1.0.js","https://fb.me/react-dom-15.1.0.js"],label:"React with Add-Ons + React DOM 15.1.0",group:"React"},{url:["https://fb.me/react-0.14.7.js","https://fb.me/react-dom-0.14.7.js"],label:"React + React DOM 0.14.7",group:"React"},{url:["https://fb.me/react-with-addons-0.14.7.js","https://fb.me/react-dom-0.14.7.js"],label:"React with Add-Ons + React DOM 0.14.7",group:"React"},{url:"https://fb.me/react-0.13.3.js",label:"React 0.13.3",group:"React"},{url:"https://fb.me/react-with-addons-0.13.3.js",label:"React with Add-Ons 0.13.3",group:"React"},{url:"https://cdn.rawgit.com/zloirock/core-js/master/client/shim.min.js",label:"core-js",group:"shims"},{url:"https://cdnjs.cloudflare.com/ajax/libs/es5-shim/2.0.8/es5-shim.min.js",label:"ES5 shim 2.0.8",group:"shims"},{url:"https://cdnjs.cloudflare.com/ajax/libs/blissfuljs/1.0.2/bliss.min.js",label:"Bliss 1.0.2"},{url:"https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.16/vue.js",label:"Vue.js 1.0.16"},{url:"https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js",label:"Vue.js 2.0.3"},{url:"http://cdn.ractivejs.org/latest/ractive.js",label:"Ractive.js"},{url:["http://nightly.enyojs.com/latest/enyo-nightly/enyo.css","http://nightly.enyojs.com/latest/enyo-nightly/enyo.js","http://nightly.enyojs.com/latest/lib/layout/package.js","http://nightly.enyojs.com/latest/lib/onyx/package.js","http://nightly.enyojs.com/latest/lib/g11n/package.js","http://nightly.enyojs.com/latest/lib/canvas/package.js"],label:"Enyo latest",group:"Enyo"},{url:["http://enyojs.com/enyo-2.2.0/enyo.css","http://enyojs.com/enyo-2.2.0/enyo.js","http://enyojs.com/enyo-2.2.0/lib/layout/package.js","http://enyojs.com/enyo-2.2.0/lib/onyx/package.js","http://enyojs.com/enyo-2.2.0/lib/g11n/package.js","http://enyojs.com/enyo-2.2.0/lib/canvas/package.js"],label:"Enyo 2.2.0",group:"Enyo"},{url:"https://cdnjs.cloudflare.com/ajax/libs/bluebird/1.2.2/bluebird.js",label:"Bluebird 1.2.2",group:"Promises"},{url:"https://www.promisejs.org/polyfills/promise-4.0.0.js",label:"Promise 4.0.0",group:"Promises"},{url:"https://cdnjs.cloudflare.com/ajax/libs/q.js/1.0.1/q.js",label:"Q 1.0.1",group:"Promises"},{url:["https://rawgithub.com/ai/autoprefixer-rails/master/vendor/autoprefixer.js"],label:"Autoprefixer",snippet:'<style type="unprocessed" id="AutoprefixerIn">%css%</style>\n<style id="AutoprefixerOut"></style>\n<script>\nAutoprefixerSettings = ""; //Specify here the browsers you want to target or leave empty\ndocument.getElementById("AutoprefixerOut").innerHTML = autoprefixer(AutoprefixerSettings || null).process(document.getElementById("AutoprefixerIn").innerHTML).css;\n<\/script>'},{url:["https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js","https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"],label:"Backbone 1.1.2"},{url:["https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js","https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js","http://marionettejs.com/downloads/backbone.marionette.min.js"],label:"MarionetteJS latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js",label:"Bonsai 0.4.latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.9.2/coffee-script.min.js",label:"CoffeeScript"},{url:["https://code.jquery.com/jquery-1.11.1.min.js","//builds.emberjs.com/tags/v1.13.5/ember-template-compiler.js","//builds.emberjs.com/tags/v1.13.5/ember.debug.js"],label:"Ember.js 1.13.5",group:"Ember"},{url:"//builds.emberjs.com/tags/v1.13.6/ember-data.js",label:"Ember Data 1.13.6",group:"Ember"},{url:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css",label:"Normalize.css 3.0.2"},{url:["//extjs.cachefly.net/ext-3.1.0/resources/css/ext-all.css","https://cdnjs.cloudflare.com/ajax/libs/ext-core/3.1.0/ext-core.min.js"],label:"ext-core 3.1.0"},{url:["https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/normalize.min.css","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/modernizr.js","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/jquery.js","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"],label:"Foundation 5.5.2"},{url:"https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.js",label:"Handlebars.js 1.0.0"},{url:"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js",label:"Knockout 3.3.0"},{url:"https://cdnjs.cloudflare.com/ajax/libs/less.js/1.3.3/less.min.js",label:"Less 1.3.3"},{url:"https://cdn.jsdelivr.net/lodash/4/lodash.min.js",label:"lodash 4.x",group:"Lodash"},{url:"https://cdn.jsdelivr.net/g/lodash@4(lodash.min.js+lodash.fp.min.js)",label:"lodash fp 4.x",group:"Lodash"},{url:"https://cdn.jsdelivr.net/lodash/3/lodash.min.js",label:"lodash 3.x",group:"Lodash"},{url:"http://modernizr.com/downloads/modernizr-latest.js",label:"Modernizr Development latest"},{url:["https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js","https://cdnjs.cloudflare.com/ajax/libs/detectizr/1.5.0/detectizr.min.js"],label:"Detectizr 1.5.0"},{url:"https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js",label:"Prefixfree 1.0.7"},{url:"https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.1/processing-api.min.js",label:"Processing 1.4.1"},{url:"https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js",label:"D3 4.2.3",group:"D3"},{url:"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js",label:"D3 3.5.6",group:"D3"},{url:"//code.highcharts.com/highcharts.js",label:"Highcharts latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js",label:"Rapha&euml;l 2.1.0"},{url:["//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js","//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css"],label:"Chartist.js latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/sammy.js/0.7.4/sammy.min.js",label:"Sammy 0.7.4"},{url:["http://cdn.sencha.io/touch/1.1.0/resources/css/sencha-touch.css","http://cdn.sencha.io/touch/1.1.0/sencha-touch.js"],label:"Sencha Touch"},{url:[r.static+"/js/vendor/traceur.js"],label:"Traceur"},{url:"//remy.github.io/twitterlib/twitterlib.min.js",label:"TwitterLib"},{url:"//jashkenas.github.io/underscore/underscore-min.js",label:"underscore"},{url:["https://code.jquery.com/jquery.min.js","//canjs.com/release/2.0.3/can.jquery.min.js"],label:"CanJS 2.0.3"},{url:["https://cdnjs.cloudflare.com/ajax/libs/three.js/r82/three.min.js"],label:"Three.js r82"},{url:["https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"],label:"HTML5 shiv"},{url:["https://cdnjs.cloudflare.com/ajax/libs/polymer/0.3.3/platform.js","https://cdnjs.cloudflare.com/ajax/libs/polymer/0.3.3/polymer.js"],label:"Polymer 0.3.3"},{url:["https://code.getmdl.io/1.2.1/material.indigo-pink.min.css","https://code.getmdl.io/1.2.1/material.min.js","https://fonts.googleapis.com/icon?family=Material+Icons"],label:"Material Design Lite 1.2.1"},{url:"//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css",label:"Font Awesome 4.0.3"},{url:"https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.12/paper.js",label:"Paper.js 0.9.12"},{url:{url:"https://openui5.hana.ondemand.com/resources/sap-ui-core.js",id:"sap-ui-bootstrap","data-sap-ui-theme":"sap_belize","data-sap-ui-libs":"sap.m"},label:"OpenUI5 CDN (belize Theme, mobile library)"},{url:"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.11.7/TweenMax.min.js",label:"GSAP 1.11.7"},{url:"https://cdnjs.cloudflare.com/ajax/libs/phaser/2.0.5/phaser.min.js",label:"Phaser 2.0.5"},{url:["//vjs.zencdn.net/5.11/video-js.css","//vjs.zencdn.net/5.11/video.js"],label:"Video.js 5.11.x"},{url:["https://aui-cdn.atlassian.com/aui-adg/5.7.0/js/aui.js","https://aui-cdn.atlassian.com/aui-adg/5.7.0/css/aui.css","https://aui-cdn.atlassian.com/aui-adg/5.7.0/js/aui-experimental.js","https://aui-cdn.atlassian.com/aui-adg/5.7.0/css/aui-experimental.css"],label:"AUI (Atlassian UI) 5.7.0"},{url:"https://cdn.firebase.com/js/client/2.0.2/firebase.js",label:"Firebase 2.0.2"},{url:["https://code.ionicframework.com/1.0.0-beta.13/js/ionic.bundle.min.js","https://code.ionicframework.com/1.0.0-beta.13/css/ionic.min.css"],label:"Ionic 1.0.0-beta-13"},{url:"//static.opentok.com/v2/js/opentok.min.js",label:"OpenTok v2.x (latest)"},{url:"https://cdn.jsdelivr.net/riot/2.6/riot+compiler.min.js",label:"Riot + Compiler (latest 2.6.x)"},{url:["https://unpkg.com/blaze/dist/blaze.min.css","https://unpkg.com/blaze/dist/blaze.colors.min.css"],label:"Blaze CSS (latest)"},{url:"https://unpkg.com/@reactivex/rxjs@5.0.3/dist/global/Rx.js",label:"RxJS 5.0.3",group:"RxJS"},{url:"https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.all.js",label:"rx.all 4.0.6",group:"RxJS"},{url:"https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.all.compat.js",label:"rx.all.compat 4.0.6",group:"RxJS"},{url:"https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.testing.js",label:"rx.testing 4.0.6",group:"RxJS"},{url:"https://unpkg.com/rx-dom@7.0.3/dist/rx.dom.js",label:"rx.dom 7.0.3 (requires 4.x)",group:"RxJS"},{url:"http://cdn.popcornjs.org/code/dist/popcorn.min.js",label:"Popcorn.js 1.5.6 (Core)",group:"Popcorn.js"},{url:"http://cdn.popcornjs.org/code/dist/popcorn-complete.min.js",label:"Popcorn.js 1.5.6 (Core + Extensions)",group:"Popcorn.js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/immutable/3.7.3/immutable.min.js",label:"Immutable 3.7.3",group:"Data structures"},{url:"https://cdnjs.cloudflare.com/ajax/libs/mori/0.3.2/mori.js",label:"mori 0.3.2",group:"Data structures"},{url:"https://cdnjs.cloudflare.com/ajax/libs/ramda/0.22.1/ramda.min.js",label:"Ramda 0.22.1"},{url:["https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css","https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.js"],label:"Semantic UI 2.2.2"},{url:"https://cdn.jsdelivr.net/pouchdb/latest/pouchdb.min.js",label:"PouchDB (latest)",group:"PouchDB"},{url:"https://cdn.jsdelivr.net/momentjs/2.14.1/moment-with-locales.min.js",label:"Moment 2.14.1",group:"Moment.js"},{url:["https://cdn.jsdelivr.net/momentjs/2.14.1/moment-with-locales.min.js","https://cdn.jsdelivr.net/momentjs/2.14.1/locales.min.js"],label:"Moment 2.14.1 (with locales)",group:"Moment.js"},{url:"//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js",label:"Velocity JS 1.2.3",group:"Velocity"},{url:"//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js",label:"Velocity UI Pack 1.2.3",group:"Velocity"}];window.libraries=o,o.userSpecified=JSON.parse(t.localStorage.getItem("libraries")||"[]");for(var i=0;i<o.userSpecified.length;i++)o.push(o.userSpecified[i]);return o.add=function(r){r.scripts?r.scripts.forEach(function(e){e.group=r.text,e.label=e.text,o.userSpecified.push(e),o.push(e)}):(r.group="Custom",o.userSpecified.push(r),o.push(r));try{t.localStorage.setItem("libraries",JSON.stringify(this.userSpecified))}catch(e){}e("#library").trigger("init")},o.clear=function(){o.userSpecified=[],t.localStorage.removeItem("libraries");for(var r=o.length,n=0;n<r;n++)"Custom"===o[n].group&&(o.splice(n,1),r--);e("#library").trigger("init")},n.editors.libraries=o}),e("skylark-jsbin-coder/editors/library",["skylark-jquery","../jsbin","../coder","./panels"],function(e,t,r,n){var o=e("#library, #alt-library"),i={};function a(e,t,r){var n=new RegExp(t+"=('|\").+."+r+"\\1");return function(t){var r=t.match(n);return e+"("+r[0]+")"}}o.bind("init",function(){var e=0,t=0,r={},n=[],a={},s="",l="";for(i={},o.empty(),e=0;e<libraries.length;e++)r=libraries[e],s=r.group||"Other",l=s.toLowerCase().replace(/[^a-z0-9]/gi,""),-1===n.indexOf(l)?(a={label:s,libraries:[],key:l},i[l]=a,n.push(l)):a=i[l],a.libraries.push(r);var c=['<option value="none">None</option>'];for(e=0;e<n.length;e++)for(a=i[n[e]],c.push('<option value="" data-group="'+a.label+'" class="heading">-------------</option>'),t=0;t<a.libraries.length;t++)r=a.libraries[t],c.push('<option value="'+a.key+":"+t+'">'+r.label+"</option>");o.html(c.join(""))}).trigger("init"),o.bind("change",function(){if(this.value){var t=this.value.split(":"),r=i[t[0]],o=r.libraries[t[1]];analytics.library("select",r.libraries[t[1]].label),function(t){e.isArray(t)||(t=[t]);var r,o,i,a=0,s=t.length,p="",f=n.named.html.getCode(),m={line:n.named.html.editor.currentLine(),character:n.named.html.editor.getCursor().ch,add:0},h=[],g="",b={},v={rel:"stylesheet",type:"text/css"};for(a=0;a<s;a++){for(var y in p=t[a],e.isPlainObject(p)?(i=p,p=p.url,delete i.url):i={},g=p.split("/").pop(),i=e.extend({},d(g)?v:b,i),o="",i)o+=" "+y+'="'+i[y]+'"';g&&f.indexOf(g+'"')&&(f=d(g)?f.replace(new RegExp('<link.*href=".*?/'+g+'".*?/>\n?'),""):f.replace(new RegExp('<script.*src=".*?/'+g+'".*?><\/script>\n?'),""),m.add--),r=d(p)?'<link href="'+p+'"'+o+" />":'<script src="'+p+'"'+o+"><\/script>",u()&&(r=d(p)?c(r):l(r)),h.push(r),m.add++}if(u()){var j=(f.match(/html.*\n(\s*)\S?/i)||[,])[1];f=f.trim()+"\n"+j+h.join("\n"+j).trim()}else if(-1!==f.indexOf("<head")){var k=f.split("\n");k.splice(m.line,0,h.join("\n")),f=k.join("\n")}else f=h.join("\n")+f;n.named.html.setCode(f),n.named.html.editor.setCursor({line:m.line+m.add,ch:m.character})}(o.url),o.snippet&&function(e){var t=n.named.html.getCode(),r={line:n.named.html.editor.currentLine(),character:n.named.html.editor.getCursor().ch,add:0};t=-1!==t.indexOf("</head")?t.replace(/<\/head>/i,e+"\n</head>"):e+"\n"+t;n.named.html.setCode(t),n.named.html.editor.setCursor({line:r.line+r.add,ch:r.character})}(o.snippet)}}).on("click",function(){analytics.library("open")});var s,l=a("script","src","js"),c=(s=a("link","href","css"),function(e){var t=s(e);return t.split('" ').join('",')});function u(){return"jade"===t.state.processors.html}function d(e){return e.length-(e.lastIndexOf(".css")+4)==0}}),e("skylark-jsbin-coder/editors/tern",["skylark-jquery","../jsbin","../coder","./codemirror"],function(e,t,r,n){"use strict"}),e("skylark-jsbin-coder/editors/addons",["skylark-jquery","../jsbin","../coder","./tern"],function(e,t,r){"use strict";if(!t.embed&&!t.mobile){var n=t.state.processors;t.settings.addons||(t.settings.addons={closebrackets:!0,highlight:!1,vim:!1,emacs:!1,trailingspace:!1,fold:!1,sublime:!1,tern:!1,activeline:!0,matchbrackets:!1});var o="open"in document.createElement("details"),i={},a={};["js","html","coffeescript","css"].forEach(function(e){var r=e+"hint",n=!1;"js"===e&&(n=!0),i[r]=void 0!==t.settings[r]?t.settings[r]:n}),(a=e.extend({},{console:!0,line:!1,under:!1,gutter:!1},t.settings.hintShow)).tooltip=a.gutter;var s=e.extend({},t.settings.addons,i),l={closebrackets:{url:"/js/vendor/codemirror5/addon/edit/closebrackets.js",test:f("autoCloseBrackets"),done:function(e){p(e,"autoCloseBrackets",!0)}},highlight:{url:"/js/vendor/codemirror5/addon/search/match-highlighter.js",test:f("highlightSelectionMatches"),done:function(e){p(e,"highlightSelectionMatches",!0)}},vim:{url:["/js/vendor/codemirror5/keymap/vim.js"],test:f("vimMode"),done:function(e){p(e,"vimMode",!0),p(e,"showCursorWhenSelecting",!0)}},emacs:{url:["/js/vendor/codemirror5/keymap/emacs.js"],test:function(){return CodeMirror.keyMap.emacs},done:function(e){p(e,"keyMap","emacs")}},matchtags:{url:["/js/vendor/codemirror5/addon/fold/xml-fold.js","/js/vendor/codemirror5/addon/edit/matchtags.js"],test:function(){return CodeMirror.scanForClosingTag&&CodeMirror.optionHandlers.matchTags},done:function(e){p(e,"matchTags",{bothTags:!0}),e.addKeyMap({"Ctrl-J":"toMatchingTag"})}},trailingspace:{url:"/js/vendor/codemirror5/addon/edit/trailingspace.js",test:f("showTrailingSpace"),done:function(e){p(e,"showTrailingSpace",!0)}},fold:{url:["/js/vendor/codemirror5/addon/fold/foldgutter.css","/js/vendor/codemirror5/addon/fold/foldcode.js","/js/vendor/codemirror5/addon/fold/foldgutter.js","/js/vendor/codemirror5/addon/fold/brace-fold.js","/js/vendor/codemirror5/addon/fold/xml-fold.js","/js/vendor/codemirror5/addon/fold/comment-fold.js"],test:function(){return CodeMirror.helpers.fold&&CodeMirror.optionHandlers.foldGutter&&CodeMirror.optionHandlers.gutters},done:function(e){c.addClass("code-fold"),e.addKeyMap({"Ctrl-Q":function(e){e.foldCode(e.getCursor())}}),p(e,"foldGutter",!0);var t=e.getOption("gutters"),r=t.slice();r.push("CodeMirror-foldgutter"),p(e,"gutters",r)}},sublime:{url:["/js/vendor/codemirror5/keymap/sublime.js"],test:function(){return CodeMirror.keyMap.sublime},done:function(t){p(t,"keyMap","sublime");var r="mac"===e.browser.platform?"Cmd":"Ctrl";delete CodeMirror.keyMap.sublime[r+"-L"],delete CodeMirror.keyMap.sublime[r+"-T"],delete CodeMirror.keyMap.sublime[r+"-W"],delete CodeMirror.keyMap.sublime[r+"-J"],delete CodeMirror.keyMap.sublime[r+"-R"],delete CodeMirror.keyMap.sublime[r+"-Enter"],delete CodeMirror.keyMap.sublime[r+"-Up"],delete CodeMirror.keyMap.sublime[r+"-Down"],CodeMirror.keyMap.sublime["Shift-Tab"]="indentAuto",t.removeKeyMap("noEmmet")}},tern:{url:["/js/vendor/codemirror5/addon/hint/show-hint.css","/js/vendor/codemirror5/addon/tern/tern.css","/js/vendor/codemirror5/addon/hint/show-hint.js","/js/prod/addon-tern-"+t.version+".min.js"],test:function(){return void 0!==window.ternBasicDefs&&CodeMirror.showHint&&CodeMirror.TernServer&&CodeMirror.startTern},done:function(){CodeMirror.startTern()}},activeline:{url:["/js/vendor/codemirror5/addon/selection/active-line.js"],test:function(){return void 0!==CodeMirror.defaults.styleActiveLine},done:function(e){p(e,"styleActiveLine",!0)}},matchbrackets:{url:[],test:function(){return void 0!==CodeMirror.defaults.matchBrackets},done:function(e){p(e,"matchBrackets",!0)}},csshint:{url:["/js/vendor/csslint/csslint.min.js","/js/vendor/cm_addons/lint/css-lint.js"],test:function(){return m("css")&&"undefined"!=typeof CSSLint},done:function(e){"css"===e.getOption("mode")&&(void 0!==n.css&&"css"!==n.css||hintingDone(e))}},jshint:{url:[e.browser.msie&&e.browser.version<9?"/js/vendor/jshint/jshint.old.min.js":"/js/vendor/jshint/jshint.min.js"],test:function(){return m("javascript")&&"undefined"!=typeof JSHINT},done:function(e){"javascript"===e.getOption("mode")&&(void 0!==n.javascript&&"javascript"!==n.javascript||hintingDone(e,{eqnull:!0}))}},htmlhint:{url:["/js/vendor/htmlhint/htmlhint.js","/js/vendor/cm_addons/lint/html-lint.js"],test:function(){return m("htmlmixed")&&"undefined"!=typeof HTMLHint},done:function(e){"htmlmixed"===e.getOption("mode")&&(void 0!==n.html&&"html"!==n.html||hintingDone(e))}},coffeescripthint:{url:["/js/vendor/coffeelint/coffeelint.min.js","/js/vendor/cm_addons/lint/coffeescript-lint.js"],test:function(){return m("coffeescript")&&"undefined"!=typeof coffeelint},done:function(e){"coffeescript"===e.getOption("mode")&&"coffeescript"===t.state.processors.javascript&&hintingDone(e)}}},c=e("body");window.hintingDone=function(r,n){var i=r.getOption("mode");"javascript"===i&&(i="js"),"htmlmixed"===i&&(i="html");var s=e.extend({},a);if(s.consoleParent=r.getWrapperElement().parentNode.parentNode,p(r,"lintOpt",s),s.gutter){var l=r.getOption("gutters");if(-1===l.indexOf("CodeMirror-lint-markers")){var c=l.slice();c.push("CodeMirror-lint-markers"),p(r,"gutters",c)}var u=r.getOption("lineNumbers");p(r,"lineNumbers",!u),p(r,"lineNumbers",u)}p(r,"lint",{delay:800,options:e.extend({},n,t.settings[i+"hintOptions"])}),s.console&&r.consolelint&&($document.trigger("sizeeditors"),e(r.consolelint.head).on("click",function(){o||e(this).nextAll().toggle(),setTimeout(function(){$document.trigger("sizeeditors")},10)}))};var u=Object.keys(s);u.forEach(h),window.reloadAddons=function(e){e?e.forEach(h):u.forEach(h)}}function d(r){if(0!==r.indexOf("http")&&(r=t.static+r),".js"===r.slice(-3))return e.ajax({url:r+"?"+t.version,dataType:"script",cache:!0});if(".css"===r.slice(-4)){var n=e.Deferred();return setTimeout(function(){c.append('<link rel="stylesheet" href="'+r+"?"+t.version+'">'),n.resolve()},0),n}}function p(e,t,r){e.setOption(t,r)}function f(e){return function(){return void 0!==CodeMirror.optionHandlers[e]}}function m(e){return void 0!==CodeMirror.defaults.lint&&CodeMirror.helpers.lint&&CodeMirror.helpers.lint[e]&&CodeMirror.optionHandlers.lint}function h(r){var n=l[r];n&&s[r]&&("string"==typeof n.url&&(n.url=[n.url]),e.when.call(e,n.url.map(d)).done(function(){n.done&&function(t){var r=e.Deferred(),n=null;if(t())r.resolve();else{var o=(new Date).getTime(),i=new Date;n=setInterval(function(){i=new Date,t()?(clearInterval(n),r.resolve()):i.getTime()-o>1e4&&(clearInterval(n),r.reject())},100)}return r}(n.test).then(function(){t.panels.allEditors(function(e){e.editor&&n.done(e.editor)})})}))}}),e("skylark-jsbin-coder/updateTitle",["skylark-jquery","./jsbin"],function(e,t){function r(n){"use strict";void 0===n&&(n=t.panels.panels.html.getCode());var o=n.match(r.re);null!==o&&o[1]!==documentTitle&&(r.lastState=t.state.latest,documentTitle=e("<div>").html(o[1].trim()).text(),documentTitle?document.title=documentTitle+" - JS Bin":document.title="JS Bin",!t.state.latest&&t.state.revision&&(document.title="(#"+t.state.revision+") "+document.title))}return r.re=/<title>(.*)<\/title>/i,r.lastState=null,t.codepan.updateTitle=r}),e("skylark-jsbin-coder/editors/snapshot",["skylark-jquery","../jsbin","../updateTitle"],function(e,t,r){return coder.editors.snapshot={watchForSnapshots:function(){"use strict";e(document).on("saved",function(){localStorage.latest=t.state.code+"/"+t.state.revision}),window.addEventListener("storage",function(e){if("latest"===e.key){var n=localStorage.latest.split("/");n[0]===t.state.code&&(t.state.latest=!1,saveChecksum=!1,t.state.checksum=!1,r(),window.history.replaceState(null,null,t.getURL()+"/edit"))}})}}}),e("skylark-jsbin-coder/editors/beautify",["skylark-jquery","../jsbin","../coder"],function(e,t,r){"use strict";var n=t.settings||{},o=n.keys||{};if(!t.embed&&!o.disabled){var i="mac"===e.browser.platform?"metaKey":"ctrlKey";return e(document).on("keydown",function(e){e[i]&&e.shiftKey&&76==e.which&&a()}),r.editors.beautify=a}function a(){var e=t.panels.focused,r={html:t.static+"/js/vendor/beautify/beautify-html.js",css:t.static+"/js/vendor/beautify/beautify-css.js",js:t.static+"/js/vendor/beautify/beautify.js"};"html"===t.state.processors[e.id]?window.html_beautify?l():s(r.html,l):"css"===t.state.processors[e.id]?window.css_beautify?c():s(r.css,c):"javascript"===t.state.processors[e.id]&&(window.js_beautify?u():s(r.js,u))}function s(t,r){e.getScript(t).done(r)}function l(){d(t.panels.focused,window.html_beautify)}function c(){d(t.panels.focused,window.css_beautify)}function u(){d(t.panels.focused,window.js_beautify)}function d(e,t){e.editor.setCode(t(e.editor.getCode(),{indent_size:n.editor&&n.editor.indentUnit||2}))}}),e("skylark-jsbin-coder/init",["skylark-jsbin-console","skylark-jsbin-renderer","./coder","./editors/panels","./editors/snapshot"],function(e,t,r,n,o){return ccoder.init=function(){(function(){"use strict";try{if("localStorage"in window&&null!==window.localStorage)return!0}catch(e){return!1}})()&&window.addEventListener&&o.watchForSnapshots();var r=null;$document.bind("codeChange.live",function e(t,o){clearTimeout(r);var i,a,s=n.named.live;n.ready&&(!1===jsbin.settings.includejs&&"javascript"===o.panelId||s.visible&&(!jsbin.lameEditor&&n.focused&&"javascript"===n.focused.id?(i=n.focused.editor,a=i.getLine(i.getCursor().line),!0===ignoreDuringLive.test(a)?r=setTimeout(function(){e(t,o)},1e3):renderLivePreview()):renderLivePreview()))});e.init(document.getElementById("output"));var i=$("#live");$("#showlive")[0];t.init(i)}}),e("skylark-jsbin-coder/main",["./coder","./editors/mobileCodeMirror","./editors/mobile-command-maps","./editors/mobile-keyboard","./editors/keycontrol","./editors/panel","./editors/panels","./editors/libraries","./editors/library","./editors/addons","./editors/snapshot","./editors/beautify","./init"],function(e){return e}),e("skylark-jsbin-coder",["skylark-jsbin-coder/main"],function(e){return e})}(r),!n){var a=require("skylark-langx-ns");o?module.exports=a:t.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-jsbin-coder.js.map
