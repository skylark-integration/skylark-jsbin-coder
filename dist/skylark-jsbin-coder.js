/**
 * skylark-jsbin-coder - A version of jsbin-editor  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-coder/
 * @license MIT
 */
!function(e,t){var n=t.define,require=t.require,r="function"==typeof n&&n.amd,i=!r&&"undefined"!=typeof exports;if(!r&&!n){var o={};n=t.define=function(e,t,n){"function"==typeof n?(o[e]={factory:n,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var n=t.split("/"),r=e.split("/");n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):o[e]={factory:null,resolved:!0,exports:n}},require=t.require=function(e){if(!o.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=o[e];if(!module.resolved){var n=[];module.deps.forEach(function(e){n.push(require(e))}),module.exports=module.factory.apply(t,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-jsbin-coder/jsbin",["skylark-jsbin-base"],function(e){return e}),e("skylark-jsbin-coder/coder",["./jsbin"],function(e){return e.coder={editors:{},render:{}}}),e("skylark-codemirror/mode/xml/xml",["../../CodeMirror"],function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,i){var o,a,s=r.indentUnit,l={},c=i.htmlMode?t:n;for(var u in c)l[u]=c[u];for(var u in i)l[u]=i[u];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(f("atom","]]>")):null:e.match("--")?n(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=d;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=m,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function m(e,t){var n,r,i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=d,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){t.tokenize=d,t.state=g,t.tagName=t.tagStart=null;var a=t.tokenize(e,t);return a?a+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=(n=i,(r=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=m;break}return"string"}).isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function p(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;p(e)}}function g(e,t,n){return"openTag"==e?(n.tagStart=t.column(),v):"closeTag"==e?b:g}function v(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",k):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",k(e,t,n)):(a="error",v)}function b(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&p(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",y):(a="tag error",x)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",y(e,t,n)):(a="error",x)}function y(e,t,n){return"endTag"!=e?(a="error",y):(p(n),g)}function x(e,t,n){return a="error",y(e,t,n)}function k(e,t,n){if("word"==e)return a="attribute",j;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?h(n,r):(h(n,r),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,r,i==n.indented)),g}return a="error",k}function j(e,t,n){return"equals"==e?w:(l.allowMissing||(a="error"),k(e,t,n))}function w(e,t,n){return"string"==e?C:"word"==e&&l.allowUnquoted?(a="string",k):(a="error",k(e,t,n))}function C(e,t,n){return"string"==e?C:k(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:g,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(a=null,t.state=t.state(o||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=m&&t.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=k)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),e("skylark-codemirror/mode/css/css",["../../CodeMirror"],function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,a=t.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},m=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},p=n.fontProperties||{},h=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},b=n.allowNested,y=n.lineComment,x=!0===n.supportsAtComponent;function k(e,t){return i=t,e}function j(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),k("string","string")}}function w(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=j(")"),k(null,"(")}function C(e,t,n){this.type=e,this.indent=t,this.prev=n}function S(e,t,n,r){return e.context=new C(n,t.indentation()+(!1===r?0:a),e.context),n}function M(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return F[n.context.type](e,t,n)}function L(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return T(e,t,n)}function A(e){var t=e.current().toLowerCase();o=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var F={top:function(e,t,n){if("{"==e)return S(n,t,"block");if("}"==e&&n.context.prev)return M(n);if(x&&/@component/i.test(e))return S(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return S(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return S(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return S(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return S(n,t,"interpolation");if(":"==e)return"pseudo";if(b&&"("==e)return S(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return m.hasOwnProperty(r)?(o="property","maybeprop"):f.hasOwnProperty(r)?(o="string-2","maybeprop"):b?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":b||"hash"!=e&&"qualifier"!=e?F.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return":"==e?S(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return M(n);if("{"==e&&b)return S(n,t,"propBlock");if("}"==e||"{"==e)return L(e,t,n);if("("==e)return S(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)A(t);else if("interpolation"==e)return S(n,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?M(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?L(e,t,n):")"==e?M(n):"("==e?S(n,t,"parens"):"interpolation"==e?S(n,t,"interpolation"):("word"==e&&A(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(o="tag",n.context.type):F.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return S(n,t,"atBlock_parens");if("}"==e||";"==e)return L(e,t,n);if("{"==e)return M(n)&&S(n,t,b?"block":"top");if("interpolation"==e)return S(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":m.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?"string-2":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?L(e,t,n):"{"==e?M(n)&&S(n,t,b?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?M(n):"{"==e||"}"==e?L(e,t,n,2):F.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?S(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,M(n)):"word"==e?(o="@font-face"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?S(n,t,"top"):T(e,t,n)},at:function(e,t,n){return";"==e?M(n):"{"==e||"}"==e?L(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?M(n):"{"==e||";"==e?L(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new C(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||function(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}if("@"==n)return e.eatWhile(/[\w\\\-]/),k("def",e.current());if("="==n||("~"==n||"|"==n)&&e.eat("="))return k(null,"compare");if('"'==n||"'"==n)return t.tokenize=j(n),t.tokenize(e,t);if("#"==n)return e.eatWhile(/[\w\\\-]/),k("atom","hash");if("!"==n)return e.match(/^\s*\w*/),k("keyword","important");if(/\d/.test(n)||"."==n&&e.eat(/\d/))return e.eatWhile(/[\w.%]/),k("number","unit");if("-"!==n)return/[,+>*\/]/.test(n)?k(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?k("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?k(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=w),k("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),k("property","word")):k(null,null);if(/[\d.]/.test(e.peek()))return e.eatWhile(/[\w.%]/),k("number","unit");if(e.match(/^-[\w\\\-]*/))return e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?k("variable-2","variable-definition"):k("variable-2","variable");if(e.match(/^\w+-/))return k("meta","meta")})(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,"comment"!=i&&(t.state=F[t.state](i,e,t)),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-a)):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:y,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),m=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(m),p=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),h=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(g),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=t(b),x=n.concat(i).concat(a).concat(l).concat(u).concat(m).concat(g).concat(b);function k(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",x),e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:h,colorKeywords:v,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:y,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:y,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:h,colorKeywords:v,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css",helperType:"gss"})}),e("skylark-codemirror/mode/javascript/javascript",["../../CodeMirror"],function(e){"use strict";e.defineMode("javascript",function(t,n){var r,i,o=t.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),m=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(e,t,n){return r=e,i=n,t}function h(e,t){var n,r=e.next();if('"'==r||"'"==r)return t.tokenize=(n=r,function(e,t){var r,i=!1;if(s&&"@"==e.peek()&&e.match(f))return t.tokenize=h,p("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(t.tokenize=h),p("string","string")}),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return p("number","number");if("."==r&&e.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return p(r);if("="==r&&e.eat(">"))return p("=>","operator");if("0"==r&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return p("number","number");if(/\d/.test(r))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),p("number","number");if("/"==r)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),p("comment","comment")):Qe(e,t,1)?(function(e){var t,n=!1,r=!1;for(;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(e.eat("="),p("operator","operator",e.current()));if("`"==r)return t.tokenize=v,v(e,t);if("#"==r)return e.skipToEnd(),p("error","error");if(m.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),p("operator","operator",e.current());if(u.test(r)){e.eatWhile(u);var i=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(i)){var o=d[i];return p(o.type,o.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",i)}return p("variable","variable",i)}}function g(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=h;break}r="*"==n}return p("comment","comment")}function v(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=h;break}r=!r&&"\\"==n}return p("quasi","string-2",e.current())}var b="([{}])";function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=b.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(u.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function j(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}var w={state:null,column:null,marked:null,cc:null};function C(){for(var e=arguments.length-1;e>=0;e--)w.cc.push(arguments[e])}function S(){return C.apply(null,arguments),!0}function M(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function T(e){var t=w.state;if(w.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=function e(t,n){if(n){if(n.block){var r=e(t,n.prev);return r?r==n.prev?n:new A(r,n.vars,!0):null}return M(t,n.vars)?n:new A(n.prev,new F(t,n.vars),!1)}return null}(e,t.context);if(null!=r)return void(t.context=r)}else if(!M(e,t.localVars))return void(t.localVars=new F(e,t.localVars));n.globalVars&&!M(e,t.globalVars)&&(t.globalVars=new F(e,t.globalVars))}function L(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function A(e,t,n){this.prev=e,this.vars=t,this.block=n}function F(e,t){this.name=e,this.next=t}var O=new F("this",new F("arguments",null));function D(){w.state.context=new A(w.state.context,w.state.localVars,!1),w.state.localVars=O}function E(){w.state.context=new A(w.state.context,w.state.localVars,!0),w.state.localVars=null}function q(){w.state.localVars=w.state.context.vars,w.state.context=w.state.context.prev}function P(e,t){var n=function(){var n=w.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new k(r,w.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function I(){var e=w.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function z(e){return function t(n){return n==e?S():";"==e||"}"==n||")"==n||"]"==n?C():S(t)}}function N(e,t){return"var"==e?S(P("vardef",t),be,z(";"),I):"keyword a"==e?S(P("form"),R,N,I):"keyword b"==e?S(P("form"),N,I):"keyword d"==e?w.stream.match(/^\s*$/,!1)?S():S(P("stat"),_,z(";"),I):"debugger"==e?S(z(";")):"{"==e?S(P("}"),E,ae,I,q):";"==e?S():"if"==e?("else"==w.state.lexical.info&&w.state.cc[w.state.cc.length-1]==I&&w.state.cc.pop()(),S(P("form"),R,N,I,Ce)):"function"==e?S(Le):"for"==e?S(P("form"),Se,N,I):"class"==e||c&&"interface"==t?(w.marked="keyword",S(P("form","class"==e?e:t),Ee,I)):"variable"==e?c&&"declare"==t?(w.marked="keyword",S(N)):c&&("module"==t||"enum"==t||"type"==t)&&w.stream.match(/^\s*\w/,!1)?(w.marked="keyword","enum"==t?S(Ue):"type"==t?S(Fe,z("operator"),ue,z(";")):S(P("form"),ye,z("{"),P("}"),ae,I,I)):c&&"namespace"==t?(w.marked="keyword",S(P("form"),$,N,I)):c&&"abstract"==t?(w.marked="keyword",S(N)):S(P("stat"),Z):"switch"==e?S(P("form"),R,z("{"),P("}","switch"),E,ae,I,I,q):"case"==e?S($,z(":")):"default"==e?S(z(":")):"catch"==e?S(P("form"),D,B,N,I,q):"export"==e?S(P("stat"),ze,I):"import"==e?S(P("stat"),Be,I):"async"==e?S(N):"@"==t?S($,N):C(P("stat"),$,z(";"),I)}function B(e){if("("==e)return S(Oe,z(")"))}function $(e,t){return K(e,t,!1)}function H(e,t){return K(e,t,!0)}function R(e){return"("!=e?C():S(P(")"),$,z(")"),I)}function K(e,t,n){if(w.state.fatArrowAt==w.stream.start){var r=n?G:J;if("("==e)return S(D,P(")"),ie(Oe,")"),I,z("=>"),r,q);if("variable"==e)return C(D,ye,z("=>"),r,q)}var i=n?V:U;return x.hasOwnProperty(e)?S(i):"function"==e?S(Le,i):"class"==e||c&&"interface"==t?(w.marked="keyword",S(P("form"),De,I)):"keyword c"==e||"async"==e?S(n?H:$):"("==e?S(P(")"),_,z(")"),I,i):"operator"==e||"spread"==e?S(n?H:$):"["==e?S(P("]"),_e,I,i):"{"==e?oe(te,"}",null,i):"quasi"==e?C(Q,i):"new"==e?S(function(e){return function(t){return"."==t?S(e?X:Y):"variable"==t&&c?S(he,e?V:U):C(e?H:$)}}(n)):"import"==e?S($):S()}function _(e){return e.match(/[;\}\)\],]/)?C():C($)}function U(e,t){return","==e?S($):V(e,t,!1)}function V(e,t,n){var r=0==n?U:V,i=0==n?$:H;return"=>"==e?S(D,n?G:J,q):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?S(r):c&&"<"==t&&w.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?S(P(">"),ie(ue,">"),I,r):"?"==t?S($,z(":"),i):S(i):"quasi"==e?C(Q,r):";"!=e?"("==e?oe(H,")","call",r):"."==e?S(ee,r):"["==e?S(P("]"),_,z("]"),I,r):c&&"as"==t?(w.marked="keyword",S(ue,r)):"regexp"==e?(w.state.lastType=w.marked="operator",w.stream.backUp(w.stream.pos-w.stream.start-1),S(i)):void 0:void 0}function Q(e,t){return"quasi"!=e?C():"${"!=t.slice(t.length-2)?S(Q):S($,W)}function W(e){if("}"==e)return w.marked="string-2",w.state.tokenize=v,S(Q)}function J(e){return y(w.stream,w.state),C("{"==e?N:$)}function G(e){return y(w.stream,w.state),C("{"==e?N:H)}function Y(e,t){if("target"==t)return w.marked="keyword",S(U)}function X(e,t){if("target"==t)return w.marked="keyword",S(V)}function Z(e){return":"==e?S(I,N):C(U,z(";"),I)}function ee(e){if("variable"==e)return w.marked="property",S()}function te(e,t){if("async"==e)return w.marked="property",S(te);if("variable"==e||"keyword"==w.style){return w.marked="property","get"==t||"set"==t?S(ne):(c&&w.state.fatArrowAt==w.stream.start&&(n=w.stream.match(/^\s*:\s*/,!1))&&(w.state.fatArrowAt=w.stream.pos+n[0].length),S(re));var n}else{if("number"==e||"string"==e)return w.marked=s?"property":w.style+" property",S(re);if("jsonld-keyword"==e)return S(re);if(c&&L(t))return w.marked="keyword",S(te);if("["==e)return S($,se,z("]"),re);if("spread"==e)return S(H,re);if("*"==t)return w.marked="keyword",S(te);if(":"==e)return C(re)}}function ne(e){return"variable"!=e?C(re):(w.marked="property",S(Le))}function re(e){return":"==e?S(H):"("==e?C(Le):void 0}function ie(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=w.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),S(function(n,r){return n==t||r==t?C():C(e)},r)}return i==t||o==t?S():n&&n.indexOf(";")>-1?C(e):S(z(t))}return function(n,i){return n==t||i==t?S():C(e,r)}}function oe(e,t,n){for(var r=3;r<arguments.length;r++)w.cc.push(arguments[r]);return S(P(t,n),ie(e,t),I)}function ae(e){return"}"==e?S():C(N,ae)}function se(e,t){if(c){if(":"==e||"in"==t)return S(ue);if("?"==t)return S(se)}}function le(e){if(c&&":"==e)return w.stream.match(/^\s*\w+\s+is\b/,!1)?S($,ce,ue):S(ue)}function ce(e,t){if("is"==t)return w.marked="keyword",S()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(w.marked="keyword",S("typeof"==t?H:ue)):"variable"==e||"void"==t?(w.marked="type",S(pe)):"|"==t||"&"==t?S(ue):"string"==e||"number"==e||"atom"==e?S(pe):"["==e?S(P("]"),ie(ue,"]",","),I,pe):"{"==e?S(P("}"),ie(me,"}",",;"),I,pe):"("==e?S(ie(fe,")"),de,pe):"<"==e?S(ie(ue,">"),ue):void 0}function de(e){if("=>"==e)return S(ue)}function me(e,t){return"variable"==e||"keyword"==w.style?(w.marked="property",S(me)):"?"==t||"number"==e||"string"==e?S(me):":"==e?S(ue):"["==e?S(z("variable"),se,z("]"),me):"("==e?C(Ae,me):void 0}function fe(e,t){return"variable"==e&&w.stream.match(/^\s*[?:]/,!1)||"?"==t?S(fe):":"==e?S(ue):"spread"==e?S(fe):C(ue)}function pe(e,t){return"<"==t?S(P(">"),ie(ue,">"),I,pe):"|"==t||"."==e||"&"==t?S(ue):"["==e?S(ue,z("]"),pe):"extends"==t||"implements"==t?(w.marked="keyword",S(ue)):"?"==t?S(ue,z(":"),ue):void 0}function he(e,t){if("<"==t)return S(P(">"),ie(ue,">"),I,pe)}function ge(){return C(ue,ve)}function ve(e,t){if("="==t)return S(ue)}function be(e,t){return"enum"==t?(w.marked="keyword",S(Ue)):C(ye,se,je,we)}function ye(e,t){return c&&L(t)?(w.marked="keyword",S(ye)):"variable"==e?(T(t),S()):"spread"==e?S(ye):"["==e?oe(ke,"]"):"{"==e?oe(xe,"}"):void 0}function xe(e,t){return"variable"!=e||w.stream.match(/^\s*:/,!1)?("variable"==e&&(w.marked="property"),"spread"==e?S(ye):"}"==e?C():"["==e?S($,z("]"),z(":"),xe):S(z(":"),ye,je)):(T(t),S(je))}function ke(){return C(ye,je)}function je(e,t){if("="==t)return S(H)}function we(e){if(","==e)return S(be)}function Ce(e,t){if("keyword b"==e&&"else"==t)return S(P("form","else"),N,I)}function Se(e,t){return"await"==t?S(Se):"("==e?S(P(")"),Me,I):void 0}function Me(e){return"var"==e?S(be,Te):"variable"==e?S(Te):C(Te)}function Te(e,t){return")"==e?S():";"==e?S(Te):"in"==t||"of"==t?(w.marked="keyword",S($,Te)):C($,Te)}function Le(e,t){return"*"==t?(w.marked="keyword",S(Le)):"variable"==e?(T(t),S(Le)):"("==e?S(D,P(")"),ie(Oe,")"),I,le,N,q):c&&"<"==t?S(P(">"),ie(ge,">"),I,Le):void 0}function Ae(e,t){return"*"==t?(w.marked="keyword",S(Ae)):"variable"==e?(T(t),S(Ae)):"("==e?S(D,P(")"),ie(Oe,")"),I,le,q):c&&"<"==t?S(P(">"),ie(ge,">"),I,Ae):void 0}function Fe(e,t){return"keyword"==e||"variable"==e?(w.marked="type",S(Fe)):"<"==t?S(P(">"),ie(ge,">"),I):void 0}function Oe(e,t){return"@"==t&&S($,Oe),"spread"==e?S(Oe):c&&L(t)?(w.marked="keyword",S(Oe)):c&&"this"==e?S(se,je):C(ye,se,je)}function De(e,t){return"variable"==e?Ee(e,t):qe(e,t)}function Ee(e,t){if("variable"==e)return T(t),S(qe)}function qe(e,t){return"<"==t?S(P(">"),ie(ge,">"),I,qe):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(w.marked="keyword"),S(c?ue:$,qe)):"{"==e?S(P("}"),Pe,I):void 0}function Pe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&L(t))&&w.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(w.marked="keyword",S(Pe)):"variable"==e||"keyword"==w.style?(w.marked="property",S(c?Ie:Le,Pe)):"number"==e||"string"==e?S(c?Ie:Le,Pe):"["==e?S($,se,z("]"),c?Ie:Le,Pe):"*"==t?(w.marked="keyword",S(Pe)):c&&"("==e?C(Ae,Pe):";"==e||","==e?S(Pe):"}"==e?S():"@"==t?S($,Pe):void 0}function Ie(e,t){if("?"==t)return S(Ie);if(":"==e)return S(ue,je);if("="==t)return S(H);var n=w.state.lexical.prev,r=n&&"interface"==n.info;return C(r?Ae:Le)}function ze(e,t){return"*"==t?(w.marked="keyword",S(Ke,z(";"))):"default"==t?(w.marked="keyword",S($,z(";"))):"{"==e?S(ie(Ne,"}"),Ke,z(";")):C(N)}function Ne(e,t){return"as"==t?(w.marked="keyword",S(z("variable"))):"variable"==e?C(H,Ne):void 0}function Be(e){return"string"==e?S():"("==e?C($):C($e,He,Ke)}function $e(e,t){return"{"==e?oe($e,"}"):("variable"==e&&T(t),"*"==t&&(w.marked="keyword"),S(Re))}function He(e){if(","==e)return S($e,He)}function Re(e,t){if("as"==t)return w.marked="keyword",S($e)}function Ke(e,t){if("from"==t)return w.marked="keyword",S($)}function _e(e){return"]"==e?S():C(ie(H,"]"))}function Ue(){return C(P("form"),ye,z("{"),P("}"),ie(Ve,"}"),I,I)}function Ve(){return C(ye,je)}function Qe(e,t,n){return t.tokenize==h&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return q.lex=!0,I.lex=!0,{startState:function(e){var t={tokenize:h,lastType:"sof",cc:[],lexical:new k((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new A(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(e,t,n,r,i){var o=e.cc;w.state=e,w.stream=i,w.marked=null,w.cc=o,w.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var a=o.length?o.pop():l?$:N;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return w.marked?w.marked:"variable"==n&&j(e,r)?"variable-2":t}}}(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==g)return e.Pass;if(t.tokenize!=h)return 0;var i,s=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==I)l=l.prev;else if(u!=Ce)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==U||i==V)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,f=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+o:"stat"==d?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||m.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,r)?a||o:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Qe,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=$&&t!=H||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),e("skylark-codemirror/mode/htmlmixed/htmlmixed",["../../CodeMirror","../xml/xml","../javascript/javascript","../css/css"],function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var n={};function r(e,t){var r=e.match(function(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}e.defineMode("htmlmixed",function(n,a){var s=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:a.multilineTagIndentFactor,multilineTagIndentPastTag:a.multilineTagIndentPastTag}),l={},c=a&&a.tags,u=a&&a.scriptTypes;if(o(t,l),c&&o(c,l),u)for(var d=u.length-1;d>=0;d--)l.script.unshift(["type",u[d].matches,u[d].mode]);function m(t,o){var a,c=s.token(t,o.htmlState),u=/\btag\b/.test(c);if(u&&!/[<>\s\/]/.test(t.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&u&&/>$/.test(t.current())){var d=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var f=">"==t.current()&&function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}(l[d[1]],d[2]),p=e.getMode(n,f),h=i(d[1],!0),g=i(d[1],!1);o.token=function(e,t){return e.match(h,!1)?(t.token=m,t.localState=t.localMode=null,null):function(e,t,n){var r=e.current(),i=r.search(t);i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r));return n}(e,g,t.localMode.token(e,t.localState))},o.localMode=p,o.localState=e.startState(p,s.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return c}return{startState:function(){var t=e.startState(s);return{token:m,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),e("skylark-codemirror/mode/meta",["../CodeMirror"],function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}),e("skylark-codemirror/mode/markdown/markdown",["../../CodeMirror","../xml/xml","../meta"],function(e){e.defineMode("markdown",function(t,n){var r=e.getMode(t,"text/html"),i="null"==r.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var a in o)o.hasOwnProperty(a)&&n.tokenTypeOverrides[a]&&(o[a]=n.tokenTypeOverrides[a]);var s=/^([*\-_])(?:\s*\1){2,}\s*$/,l=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,c=/^\[(x| )\](?=\s)/i,u=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ *(?:\={1,}|-{1,})\s*$/,m=/^[^#!\[\]*_\\<>` "'(~:]+/,f=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,p=/^\s*\[[^\]]+?\]:.*$/,h=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function g(e,t,n){return t.f=t.inline=n,n(e,t)}function v(e,t,n){return t.f=t.block=n,n(e,t)}function b(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==x){var n=i;if(!n){var o=e.innerMode(r,t.htmlState);n="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}n&&(t.f=C,t.block=y,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function y(r,i){var a,m=r.column()===i.indentation,h=!(a=i.prevLine.stream)||!/\S/.test(a.string),v=i.indentedCode,b=i.prevLine.hr,y=!1!==i.list,x=(i.listStack[i.listStack.length-1]||0)+3;i.indentedCode=!1;var w=i.indentation;if(null===i.indentationDiff&&(i.indentationDiff=i.indentation,y)){for(i.em=!1,i.strong=!1,i.code=!1,i.strikethrough=!1,i.list=null;w<i.listStack[i.listStack.length-1];)i.listStack.pop(),i.listStack.length?i.indentation=i.listStack[i.listStack.length-1]:i.list=!1;!1!==i.list&&(i.indentationDiff=w-i.listStack[i.listStack.length-1])}var C=!(h||b||i.prevLine.header||y&&v||i.prevLine.fencedCodeEnd),S=(!1===i.list||b||h)&&i.indentation<=x&&r.match(s),M=null;if(i.indentationDiff>=4&&(v||i.prevLine.fencedCodeEnd||i.prevLine.header||h))return r.skipToEnd(),i.indentedCode=!0,o.code;if(r.eatSpace())return null;if(m&&i.indentation<=x&&(M=r.match(u))&&M[1].length<=6)return i.quote=0,i.header=M[1].length,i.thisLine.header=!0,n.highlightFormatting&&(i.formatting="header"),i.f=i.inline,j(i);if(i.indentation<=x&&r.eat(">"))return i.quote=m?1:i.quote+1,n.highlightFormatting&&(i.formatting="quote"),r.eatSpace(),j(i);if(!S&&!i.setext&&m&&i.indentation<=x&&(M=r.match(l))){var T=M[1]?"ol":"ul";return i.indentation=w+r.current().length,i.list=!0,i.quote=0,i.listStack.push(i.indentation),n.taskLists&&r.match(c,!1)&&(i.taskList=!0),i.f=i.inline,n.highlightFormatting&&(i.formatting=["list","list-"+T]),j(i)}return m&&i.indentation<=x&&(M=r.match(f,!0))?(i.quote=0,i.fencedEndRE=new RegExp(M[1]+"+ *$"),i.localMode=n.fencedCodeBlockHighlighting&&function(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}(M[2]),i.localMode&&(i.localState=e.startState(i.localMode)),i.f=i.block=k,n.highlightFormatting&&(i.formatting="code-block"),i.code=-1,j(i)):i.setext||!(C&&y||i.quote||!1!==i.list||i.code||S||p.test(r.string))&&(M=r.lookAhead(1))&&(M=M.match(d))?(i.setext?(i.header=i.setext,i.setext=0,r.skipToEnd(),n.highlightFormatting&&(i.formatting="header")):(i.header="="==M[0].charAt(0)?1:2,i.setext=i.header),i.thisLine.header=!0,i.f=i.inline,j(i)):S?(r.skipToEnd(),i.hr=!0,i.thisLine.hr=!0,o.hr):"["===r.peek()?g(r,i,L):g(r,i,i.inline)}function x(t,n){var o=r.token(t,n.htmlState);if(!i){var a=e.innerMode(r,n.htmlState);("xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=C,n.block=y,n.htmlState=null)}return o}function k(e,t){var r,i=t.listStack[t.listStack.length-1]||0,a=t.indentation<i,s=i+3;return t.fencedEndRE&&t.indentation<=s&&(a||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),a||(r=j(t)),t.localMode=t.localState=null,t.block=y,t.f=C,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,a?v(e,t,t.block):r):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),o.code)}function j(e){var t=[];if(e.formatting){t.push(o.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(o.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(o.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(o.linkHref,"url"):(e.strong&&t.push(o.strong),e.em&&t.push(o.em),e.strikethrough&&t.push(o.strikethrough),e.emoji&&t.push(o.emoji),e.linkText&&t.push(o.linkText),e.code&&t.push(o.code),e.image&&t.push(o.image),e.imageAltText&&t.push(o.imageAltText,"link"),e.imageMarker&&t.push(o.imageMarker)),e.header&&t.push(o.header,o.header+"-"+e.header),e.quote&&(t.push(o.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.quote+"-"+e.quote):t.push(o.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(o.list2):t.push(o.list3):t.push(o.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function w(e,t){if(e.match(m,!0))return j(t)}function C(t,i){var a=i.text(t,i);if(void 0!==a)return a;if(i.list)return i.list=null,j(i);if(i.taskList){var s=" "===t.match(c,!0)[1];return s?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,j(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),j(i);var l=t.next();if(i.linkTitle){i.linkTitle=!1;var u=l;"("===l&&(u=")");var d="^\\s*(?:[^"+(u=(u+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(d),!0))return o.linkHref}if("`"===l){var m=i.formatting;n.highlightFormatting&&(i.formatting="code"),t.eatWhile("`");var f=t.current().length;if(0!=i.code||i.quote&&1!=f){if(f==i.code){var p=j(i);return i.code=0,p}return i.formatting=m,j(i)}return i.code=f,j(i)}if(i.code)return j(i);if("\\"===l&&(t.next(),n.highlightFormatting)){var g=j(i),b=o.formatting+"-escape";return g?g+" "+b:b}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,n.highlightFormatting&&(i.formatting="image"),j(i);if("["===l&&i.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,n.highlightFormatting&&(i.formatting="image"),j(i);if("]"===l&&i.imageAltText){n.highlightFormatting&&(i.formatting="image");var g=j(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=M,g}if("["===l&&!i.image)return i.linkText&&t.match(/^.*?\]/)?j(i):(i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),j(i));if("]"===l&&i.linkText){n.highlightFormatting&&(i.formatting="link");var g=j(i);return i.linkText=!1,i.inline=i.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?M:C,g}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=S,n.highlightFormatting&&(i.formatting="link");var g=j(i);return g?g+=" ":g="",g+o.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=S,n.highlightFormatting&&(i.formatting="link");var g=j(i);return g?g+=" ":g="",g+o.linkEmail}if(n.xml&&"<"===l&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){var k=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(r),v(t,i,x)}if(n.xml&&"<"===l&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";if("*"===l||"_"===l){for(var w=1,T=1==t.pos?" ":t.string.charAt(t.pos-2);w<3&&t.eat(l);)w++;var L=t.peek()||" ",A=!/\s/.test(L)&&(!h.test(L)||/\s/.test(T)||h.test(T)),F=!/\s/.test(T)&&(!h.test(T)||/\s/.test(L)||h.test(L)),O=null,D=null;if(w%2&&(i.em||!A||"*"!==l&&F&&!h.test(T)?i.em!=l||!F||"*"!==l&&A&&!h.test(L)||(O=!1):O=!0),w>1&&(i.strong||!A||"*"!==l&&F&&!h.test(T)?i.strong!=l||!F||"*"!==l&&A&&!h.test(L)||(D=!1):D=!0),null!=D||null!=O){n.highlightFormatting&&(i.formatting=null==O?"strong":null==D?"em":"strong em"),!0===O&&(i.em=l),!0===D&&(i.strong=l);var p=j(i);return!1===O&&(i.em=!1),!1===D&&(i.strong=!1),p}}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return j(i);t.backUp(1)}if(n.strikethrough)if("~"===l&&t.eatWhile(l)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var p=j(i);return i.strikethrough=!1,p}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),j(i)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return j(i);t.backUp(2)}if(n.emoji&&":"===l&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){i.emoji=!0,n.highlightFormatting&&(i.formatting="emoji");var E=j(i);return i.emoji=!1,E}return" "===l&&(t.match(/^ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),j(i)}function S(e,t){var r=e.next();if(">"===r){t.f=t.inline=C,n.highlightFormatting&&(t.formatting="link");var i=j(t);return i?i+=" ":i="",i+o.linkInline}return e.match(/^[^>]+/,!0),o.linkInline}function M(e,t){if(e.eatSpace())return null;var r,i=e.next();return"("===i||"["===i?(t.f=t.inline=(r="("===i?")":"]",function(e,t){var i=e.next();if(i===r){t.f=t.inline=C,n.highlightFormatting&&(t.formatting="link-string");var o=j(t);return t.linkHref=!1,o}return e.match(T[r]),t.linkHref=!0,j(t)}),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,j(t)):"error"}var T={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function L(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=A,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,j(t)):g(e,t,C)}function A(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=F,n.highlightFormatting&&(t.formatting="link");var r=j(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function F(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=C,o.linkHref+" url")}var O={startState:function(){return{f:y,prevLine:{stream:null},thisLine:{stream:null},block:y,htmlState:null,indentation:0,inline:C,text:w,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(r,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return b(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=x)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==x?{state:e.htmlState,mode:r}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:O}},indent:function(t,n,i){return t.block==x&&r.indent?r.indent(t.htmlState,n,i):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,i):e.Pass},blankLine:b,getType:j,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return O},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}),e("skylark-codemirror/addon/comment/comment",["../../CodeMirror"],function(e){"use strict";var t={},n=/[^\s\u00a0]/,r=e.Pos;function i(e){var t=e.search(n);return-1==t?0:t}function o(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=t);for(var n=1/0,i=this.listSelections(),o=null,a=i.length-1;a>=0;a--){var s=i[a].from(),l=i[a].to();s.line>=n||(l.line>=n&&(l=r(n,0)),n=s.line,null==o?this.uncomment(s,l,e)?o="un":(this.lineComment(s,l,e),o="line"):"un"==o?this.uncomment(s,l,e):this.lineComment(s,l,e))}}),e.defineExtension("lineComment",function(e,a,s){s||(s=t);var l=this,c=o(l,e),u=l.getLine(e.line);if(null!=u&&(d=e,m=u,!/\bstring\b/.test(l.getTokenTypeAt(r(d.line,0)))||/^[\'\"\`]/.test(m))){var d,m,f=s.lineComment||c.lineComment;if(f){var p=Math.min(0!=a.ch||a.line==e.line?a.line+1:a.line,l.lastLine()+1),h=null==s.padding?" ":s.padding,g=s.commentBlankLines||e.line==a.line;l.operation(function(){if(s.indent){for(var t=null,o=e.line;o<p;++o){var a=l.getLine(o),c=a.slice(0,i(a));(null==t||t.length>c.length)&&(t=c)}for(var o=e.line;o<p;++o){var a=l.getLine(o),u=t.length;(g||n.test(a))&&(a.slice(0,u)!=t&&(u=i(a)),l.replaceRange(t+f+h,r(o,0),r(o,u)))}}else for(var o=e.line;o<p;++o)(g||n.test(l.getLine(o)))&&l.replaceRange(f+h,r(o,0))})}else(s.blockCommentStart||c.blockCommentStart)&&(s.fullLines=!0,l.blockComment(e,a,s))}}),e.defineExtension("blockComment",function(e,i,a){a||(a=t);var s=this,l=o(s,e),c=a.blockCommentStart||l.blockCommentStart,u=a.blockCommentEnd||l.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(s.getTokenTypeAt(r(e.line,0)))){var d=Math.min(i.line,s.lastLine());d!=e.line&&0==i.ch&&n.test(s.getLine(d))&&--d;var m=null==a.padding?" ":a.padding;e.line>d||s.operation(function(){if(0!=a.fullLines){var t=n.test(s.getLine(d));s.replaceRange(m+u,r(d)),s.replaceRange(c+m,r(e.line,0));var o=a.blockCommentLead||l.blockCommentLead;if(null!=o)for(var f=e.line+1;f<=d;++f)(f!=d||t)&&s.replaceRange(o+m,r(f,0))}else s.replaceRange(u,i),s.replaceRange(c,e)})}}else(a.lineComment||l.lineComment)&&0!=a.fullLines&&s.lineComment(e,i,a)}),e.defineExtension("uncomment",function(e,i,a){a||(a=t);var s,l=this,c=o(l,e),u=Math.min(0!=i.ch||i.line==e.line?i.line:i.line-1,l.lastLine()),d=Math.min(e.line,u),m=a.lineComment||c.lineComment,f=[],p=null==a.padding?" ":a.padding;e:if(m){for(var h=d;h<=u;++h){var g=l.getLine(h),v=g.indexOf(m);if(v>-1&&!/comment/.test(l.getTokenTypeAt(r(h,v+1)))&&(v=-1),-1==v&&n.test(g))break e;if(v>-1&&n.test(g.slice(0,v)))break e;f.push(g)}if(l.operation(function(){for(var e=d;e<=u;++e){var t=f[e-d],n=t.indexOf(m),i=n+m.length;n<0||(t.slice(i,i+p.length)==p&&(i+=p.length),s=!0,l.replaceRange("",r(e,n),r(e,i)))}}),s)return!0}var b=a.blockCommentStart||c.blockCommentStart,y=a.blockCommentEnd||c.blockCommentEnd;if(!b||!y)return!1;var x=a.blockCommentLead||c.blockCommentLead,k=l.getLine(d),j=k.indexOf(b);if(-1==j)return!1;var w=u==d?k:l.getLine(u),C=w.indexOf(y,u==d?j+b.length:0),S=r(d,j+1),M=r(u,C+1);if(-1==C||!/comment/.test(l.getTokenTypeAt(S))||!/comment/.test(l.getTokenTypeAt(M))||l.getRange(S,M,"\n").indexOf(y)>-1)return!1;var T=k.lastIndexOf(b,e.ch),L=-1==T?-1:k.slice(0,e.ch).indexOf(y,T+b.length);if(-1!=T&&-1!=L&&L+y.length!=e.ch)return!1;L=w.indexOf(y,i.ch);var A=w.slice(i.ch).lastIndexOf(b,L-i.ch);return T=-1==L||-1==A?-1:i.ch+A,(-1==L||-1==T||T==i.ch)&&(l.operation(function(){l.replaceRange("",r(u,C-(p&&w.slice(C-p.length,C)==p?p.length:0)),r(u,C+y.length));var e=j+b.length;if(p&&k.slice(e,e+p.length)==p&&(e+=p.length),l.replaceRange("",r(d,j),r(d,e)),x)for(var t=d+1;t<=u;++t){var i=l.getLine(t),o=i.indexOf(x);if(-1!=o&&!n.test(i.slice(0,o))){var a=o+x.length;p&&i.slice(a,a+p.length)==p&&(a+=p.length),l.replaceRange("",r(t,o),r(t,a))}}}),!0)})}),e("skylark-codemirror/addon/selection/active-line",["../../CodeMirror"],function(e){"use strict";var t="CodeMirror-activeline",n="CodeMirror-activeline-background",r="CodeMirror-activeline-gutter";function i(e){for(var i=0;i<e.state.activeLines.length;i++)e.removeLineClass(e.state.activeLines[i],"wrap",t),e.removeLineClass(e.state.activeLines[i],"background",n),e.removeLineClass(e.state.activeLines[i],"gutter",r)}function o(e,o){for(var a=[],s=0;s<o.length;s++){var l=o[s],c=e.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?l.anchor.line==l.head.line:l.empty()){var u=e.getLineHandleVisualStart(l.head.line);a[a.length-1]!=u&&a.push(u)}}(function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0})(e.state.activeLines,a)||e.operation(function(){i(e);for(var o=0;o<a.length;o++)e.addLineClass(a[o],"wrap",t),e.addLineClass(a[o],"background",n),e.addLineClass(a[o],"gutter",r);e.state.activeLines=a})}function a(e,t){o(e,t.ranges)}e.defineOption("styleActiveLine",!1,function(t,n,r){var s=r!=e.Init&&r;n!=s&&(s&&(t.off("beforeSelectionChange",a),i(t),delete t.state.activeLines),n&&(t.state.activeLines=[],o(t,t.listSelections()),t.on("beforeSelectionChange",a)))})}),e("skylark-codemirror/addon/fold/foldcode",["../../CodeMirror"],function(e){"use strict";function t(t,n,i,o){if(i&&i.call){var a=i;i=null}else var a=r(t,i,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var s=r(t,i,"minFoldSize");function l(e){var r=a(t,n);if(!r||r.to.line-r.from.line<s)return null;for(var i=t.findMarksAt(r.from),l=0;l<i.length;++l)if(i[l].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0,i[l].clear()}return r}var c=l(!0);if(r(t,i,"scanUp"))for(;!c&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),c=l(!1);if(c&&!c.cleared&&"unfold"!==o){var u=function(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);(n=document.createElement("span")).appendChild(i),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}(t,i);e.on(u,"mousedown",function(t){d.clear(),e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:u,clearOnEnter:r(t,i,"clearOnEnter"),__isFold:!0});d.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var n={rangeFinder:e.fold.auto,widget:"",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function r(e,t,r){if(t&&void 0!==t[r])return t[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:n[r]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}),e("skylark-codemirror/addon/fold/foldgutter",["../../CodeMirror","./foldcode"],function(e){"use strict";e.defineOption("foldGutter",!1,function(t,n,r){r&&r!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",a),t.off("change",s),t.off("viewportChange",l),t.off("fold",c),t.off("unfold",c),t.off("swapDoc",s)),n&&(t.state.foldGutter=new function(e){this.options=e,this.from=this.to=0}(function(e){!0===e&&(e={});null==e.gutter&&(e.gutter="CodeMirror-foldgutter");null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open");null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded");return e}(n)),o(t),t.on("gutterClick",a),t.on("change",s),t.on("viewportChange",l),t.on("fold",c),t.on("unfold",c),t.on("swapDoc",s))});var t=e.Pos;function n(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),i=0;i<r.length;++i)if(r[i].__isFold&&r[i].find().from.line==n)return r[i]}function r(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function i(e,i,o){var a=e.state.foldGutter.options,s=i,l=e.foldOption(a,"minFoldSize"),c=e.foldOption(a,"rangeFinder");e.eachLine(i,o,function(i){var o=null;if(n(e,s))o=r(a.indicatorFolded);else{var u=t(s,0),d=c&&c(e,u);d&&d.to.line-d.from.line>=l&&(o=r(a.indicatorOpen))}e.setGutterMarker(i,a.gutter,o),++s})}function o(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){i(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,r,i){var o=e.state.foldGutter;if(o){var a=o.options;if(i==a.gutter){var s=n(e,r);s?s.clear():e.foldCode(t(r,0),a.rangeFinder)}}}function s(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){o(e)},n.foldOnChangeTimeSpan||600)}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?o(e):e.operation(function(){n.from<t.from&&(i(e,n.from,t.from),t.from=n.from),n.to>t.to&&(i(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function c(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&i(e,r,r+1)}}}),e("skylark-codemirror/addon/fold/brace-fold",["../../CodeMirror"],function(e){"use strict";e.registerHelper("fold","brace",function(t,n){var r,i=n.line,o=t.getLine(i);function a(a){for(var s=n.ch,l=0;;){var c=s<=0?-1:o.lastIndexOf(a,s-1);if(-1!=c){if(1==l&&c<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(i,c+1)),!/^(comment|string)/.test(r))return c+1;s=c-1}else{if(1==l)break;l=1,s=o.length}}}var s="{",l="}",c=a("{");if(null==c&&(s="[",l="]",c=a("[")),null!=c){var u,d,m=1,f=t.lastLine();e:for(var p=i;p<=f;++p)for(var h=t.getLine(p),g=p==i?c:0;;){var v=h.indexOf(s,g),b=h.indexOf(l,g);if(v<0&&(v=h.length),b<0&&(b=h.length),(g=Math.min(v,b))==h.length)break;if(t.getTokenTypeAt(e.Pos(p,g+1))==r)if(g==v)++m;else if(!--m){u=p,d=g;break e}++g}if(null!=u&&i!=u)return{from:e.Pos(i,c),to:e.Pos(u,d)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a=t.getLine(i),s=a.indexOf(";");if(-1!=s)return{startCh:r.end,end:e.Pos(i,s)}}}var i,o=n.line,a=r(o);if(!a||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var s=a.end;;){var l=r(s.line+1);if(null==l)break;s=l.end}return{from:t.clipPos(e.Pos(o,a.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var a=i;;){var s=r(a+1);if(null==s)break;++a}return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(a))}})}),e("skylark-codemirror/addon/fold/xml-fold",["../../CodeMirror"],function(e){"use strict";var t=e.Pos;function n(e,t){return e.line-t.line||e.ch-t.ch}var r="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=new RegExp("<(/?)(["+r+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function o(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function a(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function s(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function l(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function c(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(s(e))continue;return}if(a(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(a(e,t+1)){i.lastIndex=t,e.ch=t;var n=i.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function d(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(s(e))continue;return}if(a(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function m(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(a(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}function f(e,n){for(var r=[];;){var i,o=d(e),a=e.line,s=e.ch-(o?o[0].length:0);if(!o||!(i=c(e)))return;if("selfClose"!=i)if(o[1]){for(var l=r.length-1;l>=0;--l)if(r[l]==o[2]){r.length=l;break}if(l<0&&(!n||n==o[2]))return{tag:o[2],from:t(a,s),to:t(e.line,e.ch)}}else r.push(o[2])}}function p(e,n){for(var r=[];;){var i=m(e);if(!i)return;if("selfClose"!=i){var o=e.line,a=e.ch,s=u(e);if(!s)return;if(s[1])r.push(s[2]);else{for(var l=r.length-1;l>=0;--l)if(r[l]==s[2]){r.length=l;break}if(l<0&&(!n||n==s[2]))return{tag:s[2],from:t(e.line,e.ch),to:t(o,a)}}}else u(e)}}e.registerHelper("fold","xml",function(e,r){for(var i=new o(e,r.line,0);;){var a=d(i);if(!a||i.line!=r.line)return;var s=c(i);if(!s)return;if(!a[1]&&"selfClose"!=s){var l=t(i.line,i.ch),u=f(i,a[2]);return u&&n(u.from,l)>0?{from:l,to:u.from}:null}}}),e.findMatchingTag=function(e,r,i){var a=new o(e,r.line,r.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var s=c(a),l=s&&t(a.line,a.ch),d=s&&u(a);if(s&&d&&!(n(a,r)>0)){var m={from:t(a.line,a.ch),to:l,tag:d[2]};return"selfClose"==s?{open:m,close:null,at:"open"}:d[1]?{open:p(a,d[2]),close:m,at:"close"}:(a=new o(e,l.line,l.ch,i),{open:m,close:f(a,d[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new o(e,t.line,t.ch,n);;){var a=p(i,r);if(!a)break;var s=new o(e,t.line,t.ch,n),l=f(s,a.tag);if(l)return{open:a,close:l}}},e.scanForClosingTag=function(e,t,n,r){var i=new o(e,t.line,t.ch,r?{from:0,to:r}:null);return f(i,n)}}),e("skylark-codemirror/addon/fold/indent-fold",["../../CodeMirror"],function(e){"use strict";function t(t,n){var r=t.getLine(n),i=r.search(/\S/);return-1==i||/\bcomment\b/.test(t.getTokenTypeAt(e.Pos(n,i+1)))?-1:e.countColumn(r,null,t.getOption("tabSize"))}e.registerHelper("fold","indent",function(n,r){var i=t(n,r.line);if(!(i<0)){for(var o=null,a=r.line+1,s=n.lastLine();a<=s;++a){var l=t(n,a);if(-1==l);else{if(!(l>i))break;o=a}}return o?{from:e.Pos(r.line,n.getLine(r.line).length),to:e.Pos(o,n.getLine(o).length)}:void 0}})}),e("skylark-codemirror/addon/fold/markdown-fold",["../../CodeMirror"],function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){var r=100;function i(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function o(e,t,n){var o=t&&t.match(/^#+/);return o&&i(e)?o[0].length:(o=n&&n.match(/^[=\-]+\s*$/))&&i(e+1)?"="==n[0]?1:2:r}var a=t.getLine(n.line),s=t.getLine(n.line+1),l=o(n.line,a,s);if(l!==r){for(var c=t.lastLine(),u=n.line,d=t.getLine(u+2);u<c&&!(o(u+1,s,d)<=l);)++u,s=d,d=t.getLine(u+2);return{from:e.Pos(n.line,a.length),to:e.Pos(u,t.getLine(u).length)}}})}),e("skylark-codemirror/addon/fold/comment-fold",["../../CodeMirror"],function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var a,s=n.line,l=t.getLine(s),c=n.ch,u=0;;){var d=c<=0?-1:l.lastIndexOf(i,c-1);if(-1!=d){if(1==u&&d<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(s,d+1)))&&(0==d||l.slice(d-o.length,d)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(s,d))))){a=d+i.length;break}c=d-1}else{if(1==u)return;u=1,c=l.length}}var m,f,p=1,h=t.lastLine();e:for(var g=s;g<=h;++g)for(var v=t.getLine(g),b=g==s?a:0;;){var y=v.indexOf(i,b),x=v.indexOf(o,b);if(y<0&&(y=v.length),x<0&&(x=v.length),(b=Math.min(y,x))==v.length)break;if(b==y)++p;else if(!--p){m=g,f=b;break e}++b}if(null!=m&&(s!=m||f!=a))return{from:e.Pos(s,a),to:e.Pos(m,f)}}})}),e("skylark-codemirror/addon/edit/matchbrackets",["../../CodeMirror"],function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var s=e.getLineHandle(t.line),l=t.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),d=!c&&l>=0&&u.test(s.text.charAt(l))&&r[s.text.charAt(l)]||u.test(s.text.charAt(l+1))&&r[s.text.charAt(++l)];if(!d)return null;var m=">"==d.charAt(1)?1:-1;if(o&&o.strict&&m>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(n(t.line,l+1)),p=a(e,n(t.line,l+(m>0?1:0)),m,f||null,o);return null==p?null:{from:n(t.line,l),to:p&&p.pos,match:p&&p.ch==d.charAt(0),forward:m>0}}function a(e,t,o,a,s){for(var l=s&&s.maxScanLineLength||1e4,c=s&&s.maxScanLines||1e3,u=[],d=i(s),m=o>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),f=t.line;f!=m;f+=o){var p=e.getLine(f);if(p){var h=o>0?0:p.length-1,g=o>0?p.length:-1;if(!(p.length>l))for(f==t.line&&(h=t.ch-(o<0?1:0));h!=g;h+=o){var v=p.charAt(h);if(d.test(v)&&(void 0===a||e.getTokenTypeAt(n(f,h+1))==a)){var b=r[v];if(b&&">"==b.charAt(1)==o>0)u.push(v);else{if(!u.length)return{pos:n(f,h),ch:v};u.pop()}}}}}return f-o!=(o>0?e.lastLine():e.firstLine())&&null}function s(e,r,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&o(e,l[c].head,i);if(u&&e.getLine(u.from.line).length<=a){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,n(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=a&&s.push(e.markText(u.to,n(u.to.line,u.to.ch+1),{className:d}))}}if(s.length){t&&e.state.focused&&e.focus();var m=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!r)return m;setTimeout(m,800)}}function l(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)})}e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",l),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",l))}),e.defineExtension("matchBrackets",function(){s(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,r){return a(this,e,t,n,r)})}),e("skylark-codemirror/addon/edit/closebrackets",["../../CodeMirror"],function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=e.Pos;function r(e,n){return"pairs"==n&&"string"==typeof e?e:"object"==typeof e&&null!=e[n]?e[n]:t[n]}e.defineOption("autoCloseBrackets",!1,function(t,n,a){a&&a!=e.Init&&(t.removeKeyMap(i),t.state.closeBrackets=null),n&&(o(r(n,"pairs")),t.state.closeBrackets=n,t.addKeyMap(i))});var i={Backspace:function(t){var i=s(t);if(!i||t.getOption("disableInput"))return e.Pass;for(var o=r(i,"pairs"),a=t.listSelections(),c=0;c<a.length;c++){if(!a[c].empty())return e.Pass;var u=l(t,a[c].head);if(!u||o.indexOf(u)%2!=0)return e.Pass}for(var c=a.length-1;c>=0;c--){var d=a[c].head;t.replaceRange("",n(d.line,d.ch-1),n(d.line,d.ch+1),"+delete")}},Enter:function(t){var n=s(t),i=n&&r(n,"explode");if(!i||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return e.Pass;var c=l(t,o[a].head);if(!c||i.indexOf(c)%2!=0)return e.Pass}t.operation(function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),t.execCommand("goCharLeft"),o=t.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;t.indentLine(r,null,!0),t.indentLine(r+1,null,!0)}})}};function o(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r="'"+n+"'";i[r]||(i[r]=a(n))}}function a(t){return function(i){return function(t,i){var o=s(t);if(!o||t.getOption("disableInput"))return e.Pass;var a=r(o,"pairs"),l=a.indexOf(i);if(-1==l)return e.Pass;for(var u,d=r(o,"closeBefore"),m=r(o,"triples"),f=a.charAt(l+1)==i,p=t.listSelections(),h=l%2==0,g=0;g<p.length;g++){var v,b=p[g],y=b.head,x=t.getRange(y,n(y.line,y.ch+1));if(h&&!b.empty())v="surround";else if(!f&&h||x!=i)if(f&&y.ch>1&&m.indexOf(i)>=0&&t.getRange(n(y.line,y.ch-2),y)==i+i){if(y.ch>2&&/\bstring/.test(t.getTokenTypeAt(n(y.line,y.ch-2))))return e.Pass;v="addFour"}else if(f){var k=0==y.ch?" ":t.getRange(n(y.line,y.ch-1),y);if(e.isWordChar(x)||k==i||e.isWordChar(k))return e.Pass;v="both"}else{if(!h||!(0===x.length||/\s/.test(x)||d.indexOf(x)>-1))return e.Pass;v="both"}else v=f&&c(t,y)?"both":m.indexOf(i)>=0&&t.getRange(y,n(y.line,y.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=v)return e.Pass}else u=v}var j=l%2?a.charAt(l-1):i,w=l%2?i:a.charAt(l+1);t.operation(function(){if("skip"==u)t.execCommand("goCharRight");else if("skipThree"==u)for(var r=0;r<3;r++)t.execCommand("goCharRight");else if("surround"==u){for(var i=t.getSelections(),r=0;r<i.length;r++)i[r]=j+i[r]+w;t.replaceSelections(i,"around"),i=t.listSelections().slice();for(var r=0;r<i.length;r++)i[r]=(o=i[r],void 0,a=e.cmpPos(o.anchor,o.head)>0,{anchor:new n(o.anchor.line,o.anchor.ch+(a?-1:1)),head:new n(o.head.line,o.head.ch+(a?1:-1))});t.setSelections(i)}else"both"==u?(t.replaceSelection(j+w,null),t.triggerElectric(j+w),t.execCommand("goCharLeft")):"addFour"==u&&(t.replaceSelection(j+j+j+j,"before"),t.execCommand("goCharRight"));var o,a})}(i,t)}}function s(e){var t=e.state.closeBrackets;if(!t||t.override)return t;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function l(e,t){var r=e.getRange(n(t.line,t.ch-1),n(t.line,t.ch+1));return 2==r.length?r:null}function c(e,t){var r=e.getTokenAt(n(t.line,t.ch+1));return/\bstring/.test(r.type)&&r.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}o(t.pairs+"`")}),e("skylark-codemirror/addon/edit/trailingspace",["../../CodeMirror"],function(e){e.defineOption("showTrailingSpace",!1,function(t,n,r){r==e.Init&&(r=!1),r&&!n?t.removeOverlay("trailingspace"):!r&&n&&t.addOverlay({token:function(e){for(var t=e.string.length,n=t;n&&/\s/.test(e.string.charAt(n-1));--n);return n>e.pos?(e.pos=n,null):(e.pos=t,"trailingspace")},name:"trailingspace"})})}),e("skylark-codemirror/addon/search/searchcursor",["../../CodeMirror"],function(e){"use strict";var t,n,r=e.Pos;function i(e,t){for(var n=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),r=n,i=0;i<t.length;i++)-1==r.indexOf(t.charAt(i))&&(r+=t.charAt(i));return n==r?e:new RegExp(e.source,r)}function o(e,t,n){t=i(t,"g");for(var o=n.line,a=n.ch,s=e.lastLine();o<=s;o++,a=0){t.lastIndex=a;var l=e.getLine(o),c=t.exec(l);if(c)return{from:r(o,c.index),to:r(o,c.index+c[0].length),match:c}}}function a(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if((r=(n=i).index+(n[0].length||1))==e.length)return n}}function s(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function l(e,l,c,u){var d;this.atOccurrence=!1,this.doc=e,c=c?e.clipPos(c):r(0,0),this.pos={from:c,to:c},"object"==typeof u?d=u.caseFold:(d=u,u=null),"string"==typeof l?(null==d&&(d=!1),this.matches=function(i,o){return(i?function(e,i,o,a){if(!i.length)return null;var l=a?t:n,c=l(i).split(/\r|\n\r?/);e:for(var u=o.line,d=o.ch,m=e.firstLine()-1+c.length;u>=m;u--,d=-1){var f=e.getLine(u);d>-1&&(f=f.slice(0,d));var p=l(f);if(1==c.length){var h=p.lastIndexOf(c[0]);if(-1==h)continue e;return{from:r(u,s(f,p,h,l)),to:r(u,s(f,p,h+c[0].length,l))}}var g=c[c.length-1];if(p.slice(0,g.length)==g){for(var v=1,o=u-c.length+1;v<c.length-1;v++)if(l(e.getLine(o+v))!=c[v])continue e;var b=e.getLine(u+1-c.length),y=l(b);if(y.slice(y.length-c[0].length)==c[0])return{from:r(u+1-c.length,s(b,y,b.length-c[0].length,l)),to:r(u,s(f,p,g.length,l))}}}}:function(e,i,o,a){if(!i.length)return null;var l=a?t:n,c=l(i).split(/\r|\n\r?/);e:for(var u=o.line,d=o.ch,m=e.lastLine()+1-c.length;u<=m;u++,d=0){var f=e.getLine(u).slice(d),p=l(f);if(1==c.length){var h=p.indexOf(c[0]);if(-1==h)continue e;var o=s(f,p,h,l)+d;return{from:r(u,s(f,p,h,l)+d),to:r(u,s(f,p,h+c[0].length,l)+d)}}var g=p.length-c[0].length;if(p.slice(g)==c[0]){for(var v=1;v<c.length-1;v++)if(l(e.getLine(u+v))!=c[v])continue e;var b=e.getLine(u+c.length-1),y=l(b),x=c[c.length-1];if(y.slice(0,x.length)==x)return{from:r(u,s(f,p,g,l)+d),to:r(u+c.length-1,s(b,y,x.length,l))}}}})(e,l,o,d)}):(l=i(l,"gm"),u&&!1===u.multiline?this.matches=function(t,n){return(t?function(e,t,n){t=i(t,"g");for(var o=n.line,s=n.ch,l=e.firstLine();o>=l;o--,s=-1){var c=e.getLine(o);s>-1&&(c=c.slice(0,s));var u=a(c,t);if(u)return{from:r(o,u.index),to:r(o,u.index+u[0].length),match:u}}}:o)(e,l,n)}:this.matches=function(t,n){return(t?function(e,t,n){t=i(t,"gm");for(var o,s=1,l=n.line,c=e.firstLine();l>=c;){for(var u=0;u<s;u++){var d=e.getLine(l--);o=null==o?d.slice(0,n.ch):d+"\n"+o}s*=2;var m=a(o,t);if(m){var f=o.slice(0,m.index).split("\n"),p=m[0].split("\n"),h=l+f.length,g=f[f.length-1].length;return{from:r(h,g),to:r(h+p.length-1,1==p.length?g+p[0].length:p[p.length-1].length),match:m}}}}:function(e,t,n){if(!function(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}(t))return o(e,t,n);t=i(t,"gm");for(var a,s=1,l=n.line,c=e.lastLine();l<=c;){for(var u=0;u<s&&!(l>c);u++){var d=e.getLine(l++);a=null==a?d:a+"\n"+d}s*=2,t.lastIndex=n.ch;var m=t.exec(a);if(m){var f=a.slice(0,m.index).split("\n"),p=m[0].split("\n"),h=n.line+f.length-1,g=f[f.length-1].length;return{from:r(h,g),to:r(h+p.length-1,1==p.length?g+p[0].length:p[p.length-1].length),match:m}}}})(e,l,n)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new l(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new l(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),e("skylark-codemirror/addon/dialog/dialog",["../../CodeMirror"],function(e){function t(t,n,r){var i,o=t.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),e.addClass(o,"dialog-opened"),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){o||(o={}),n(this,null);var a=t(this,r,o.bottom),s=!1,l=this;function c(t){if("string"==typeof t)d.value=t;else{if(s)return;s=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),l.focus(),o.onClose&&o.onClose(a)}}var u,d=a.getElementsByTagName("input")[0];return d?(d.focus(),o.value&&(d.value=o.value,!1!==o.selectValueOnOpen&&d.select()),o.onInput&&e.on(d,"input",function(e){o.onInput(e,d.value,c)}),o.onKeyUp&&e.on(d,"keyup",function(e){o.onKeyUp(e,d.value,c)}),e.on(d,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,d.value,c)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(d.blur(),e.e_stop(t),c()),13==t.keyCode&&i(d.value,t))}),!1!==o.closeOnBlur&&e.on(d,"blur",c)):(u=a.getElementsByTagName("button")[0])&&(e.on(u,"click",function(){c(),l.focus()}),!1!==o.closeOnBlur&&e.on(u,"blur",c),u.focus()),c}),e.defineExtension("openConfirm",function(r,i,o){n(this,null);var a=t(this,r,o&&o.bottom),s=a.getElementsByTagName("button"),l=!1,c=this,u=1;function d(){l||(l=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),c.focus())}s[0].focus();for(var m=0;m<s.length;++m){var f=s[m];!function(t){e.on(f,"click",function(n){e.e_preventDefault(n),d(),t&&t(c)})}(i[m]),e.on(f,"blur",function(){--u,setTimeout(function(){u<=0&&d()},200)}),e.on(f,"focus",function(){++u})}}),e.defineExtension("openNotification",function(r,i){n(this,c);var o,a=t(this,r,i&&i.bottom),s=!1,l=i&&void 0!==i.duration?i.duration:5e3;function c(){s||(s=!0,clearTimeout(o),e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a))}return e.on(a,"click",function(t){e.e_preventDefault(t),c()}),l&&(o=setTimeout(c,l)),c})}),e("skylark-codemirror/addon/search/search",["../../CodeMirror","./searchcursor","../dialog/dialog"],function(e){"use strict";function t(e){return e.state.search||(e.state.search=new function(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null})}function n(e){return"string"==typeof e&&e==e.toLowerCase()}function r(e,t,r){return e.getSearchCursor(t,r,{caseFold:n(t),multiline:!0})}function i(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function o(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function a(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=o(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function s(e,t,r){t.queryText=r,t.query=a(r),e.removeOverlay(t.overlay,n(t.query)),t.overlay=function(e,t){"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g"));return{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}(t.query,n(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,n(t.query)))}function l(n,r,o,a){var l=t(n);if(l.query)return c(n,r);var m=n.getSelection()||l.lastQuery;if(m instanceof RegExp&&"x^"==m.source&&(m=null),o&&n.openDialog){var f=null,p=function(t,r){e.e_stop(r),t&&(t!=l.queryText&&(s(n,l,t),l.posFrom=l.posTo=n.getCursor()),f&&(f.style.opacity=1),c(n,r.shiftKey,function(e,t){var r;t.line<3&&document.querySelector&&(r=n.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>n.cursorCoords(t,"window").top&&((f=r).style.opacity=.4)}))};!function(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){u(e)},onKeyDown:i})}(n,d(n),m,p,function(r,i){var o=e.keyName(r),a=n.getOption("extraKeys"),l=a&&a[o]||e.keyMap[n.getOption("keyMap")][o];"findNext"==l||"findPrev"==l||"findPersistentNext"==l||"findPersistentPrev"==l?(e.e_stop(r),s(n,t(n),i),n.execCommand(l)):"find"!=l&&"findPersistent"!=l||(e.e_stop(r),p(i,r))}),a&&m&&(s(n,l,m),c(n,r))}else i(n,d(n),"Search for:",m,function(e){e&&!l.query&&n.operation(function(){s(n,l,e),l.posFrom=l.posTo=n.getCursor(),c(n,r)})})}function c(n,i,o){n.operation(function(){var a=t(n),s=r(n,a.query,i?a.posFrom:a.posTo);(s.find(i)||(s=r(n,a.query,i?e.Pos(n.lastLine()):e.Pos(n.firstLine(),0))).find(i))&&(n.setSelection(s.from(),s.to()),n.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),o&&o(s.from(),s.to()))})}function u(e){e.operation(function(){var n=t(e);n.lastQuery=n.query,n.query&&(n.query=n.queryText=null,e.removeOverlay(n.overlay),n.annotate&&(n.annotate.clear(),n.annotate=null))})}function d(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function m(e,t,n){e.operation(function(){for(var i=r(e,t);i.findNext();)if("string"!=typeof t){var o=e.getRange(i.from(),i.to()).match(t);i.replace(n.replace(/\$(\d)/g,function(e,t){return o[t]}))}else i.replace(n)})}function f(e,n){if(!e.getOption("readOnly")){var s=e.getSelection()||t(e).lastQuery,l='<span class="CodeMirror-search-label">'+(n?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";i(e,l+function(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(e),l,s,function(t){t&&(t=a(t),i(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(e),e.phrase("Replace with:"),"",function(i){if(i=o(i),n)m(e,t,i);else{u(e);var a=r(e,t,e.getCursor("from")),s=function(){var n,o=a.from();!(n=a.findNext())&&(a=r(e,t),!(n=a.findNext())||o&&a.from().line==o.line&&a.from().ch==o.ch)||(e.setSelection(a.from(),a.to()),e.scrollIntoView({from:a.from(),to:a.to()}),function(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}(e),e.phrase("Replace?"),[function(){l(n)},s,function(){m(e,t,i)}]))},l=function(e){a.replace("string"==typeof t?i:i.replace(/\$(\d)/g,function(t,n){return e[n]})),s()};s()}}))})}}e.commands.find=function(e){u(e),l(e)},e.commands.findPersistent=function(e){u(e),l(e,!1,!0)},e.commands.findPersistentNext=function(e){l(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){l(e,!0,!0,!0)},e.commands.findNext=l,e.commands.findPrev=function(e){l(e,!0)},e.commands.clearSearch=u,e.commands.replace=f,e.commands.replaceAll=function(e){f(e,!0)}}),e("skylark-codemirror/addon/scroll/annotatescrollbar",["../../CodeMirror"],function(e){"use strict";function t(e,t){function n(e){clearTimeout(r.doRedraw),r.doRedraw=setTimeout(function(){r.redraw()},e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var r=this;e.on("refresh",this.resizeHandler=function(){clearTimeout(r.doUpdate),r.doUpdate=setTimeout(function(){r.computeScale()&&n(20)},100)}),e.on("markerAdded",this.resizeHandler),e.on("markerCleared",this.resizeHandler),!1!==t.listenForChanges&&e.on("change",this.changeHandler=function(){n(250)})}e.defineExtension("annotateScrollbar",function(e){return"string"==typeof e&&(e={className:e}),new t(this,e)}),e.defineOption("scrollButtonHeight",0),t.prototype.computeScale=function(){var e=this.cm,t=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.getScrollerElement().scrollHeight;if(t!=this.hScale)return this.hScale=t,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var t=this.cm,n=this.hScale,r=document.createDocumentFragment(),i=this.annotations,o=t.getOption("lineWrapping"),a=o&&1.5*t.defaultTextHeight(),s=null,l=null;function c(e,n){if(s!=e.line&&(s=e.line,l=t.getLineHandle(s)),l.widgets&&l.widgets.length||o&&l.height>a)return t.charCoords(e,"local")[n?"top":"bottom"];var r=t.heightAtLine(l,"local");return r+(n?0:l.height)}var u=t.lastLine();if(t.display.barWidth)for(var d,m=0;m<i.length;m++){var f=i[m];if(!(f.to.line>u)){for(var p=d||c(f.from,!0)*n,h=c(f.to,!1)*n;m<i.length-1&&!(i[m+1].to.line>u)&&!((d=c(i[m+1].from,!0)*n)>h+.9);)f=i[++m],h=c(f.to,!1)*n;if(h!=p){var g=Math.max(h-p,3),v=r.appendChild(document.createElement("div"));v.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(p+this.buttonHeight)+"px; height: "+g+"px",v.className=this.options.className,f.id&&v.setAttribute("annotation-id",f.id)}}}this.div.textContent="",this.div.appendChild(r)},t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("change",this.changeHandler),this.div.parentNode.removeChild(this.div)}}),e("skylark-codemirror/addon/search/matchesonscrollbar",["../../CodeMirror","./searchcursor","../scroll/annotatescrollbar"],function(e){"use strict";function t(e,t,n,r){this.cm=e,this.options=r;var i={listenForChanges:!1};for(var o in r)i[o]=r[o];i.className||(i.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(i),this.query=t,this.caseFold=n,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var a=this;e.on("change",this.changeHandler=function(e,t){a.onChange(t)})}e.defineExtension("showMatchesOnScrollbar",function(e,n,r){return"string"==typeof r&&(r={className:r}),r||(r={}),new t(this,e,n,r)});function n(e,t,n){return e<=t?e:Math.max(t,e+n)}t.prototype.findMatches=function(){if(this.gap){for(var t=0;t<this.matches.length;t++){var n=this.matches[t];if(n.from.line>=this.gap.to)break;n.to.line>=this.gap.from&&this.matches.splice(t--,1)}for(var r=this.cm.getSearchCursor(this.query,e.Pos(this.gap.from,0),this.caseFold),i=this.options&&this.options.maxMatches||1e3;r.findNext();){var n={from:r.from(),to:r.to()};if(n.from.line>=this.gap.to)break;if(this.matches.splice(t++,0,n),this.matches.length>i)break}this.gap=null}},t.prototype.onChange=function(t){var r=t.from.line,i=e.changeEnd(t).line,o=i-t.to.line;if(this.gap?(this.gap.from=Math.min(n(this.gap.from,r,o),t.from.line),this.gap.to=Math.max(n(this.gap.to,r,o),t.from.line)):this.gap={from:t.from.line,to:i+1},o)for(var a=0;a<this.matches.length;a++){var s=this.matches[a],l=n(s.from.line,r,o);l!=s.from.line&&(s.from=e.Pos(l,s.from.ch));var c=n(s.to.line,r,o);c!=s.to.line&&(s.to=e.Pos(c,s.to.ch))}clearTimeout(this.update);var u=this;this.update=setTimeout(function(){u.updateAfterChange()},250)},t.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},t.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}),e("skylark-codemirror/addon/search/match-highlighter",["../../CodeMirror","./matchesonscrollbar"],function(e){"use strict";var t={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function n(e){var t=e.state.matchHighlighter;(t.active||e.hasFocus())&&i(e,t)}function r(e){var t=e.state.matchHighlighter;t.active||(t.active=!0,i(e,t))}function i(e,t){clearTimeout(t.timeout),t.timeout=setTimeout(function(){s(e)},t.options.delay)}function o(e,t,n,r){var i=e.state.matchHighlighter;if(e.addOverlay(i.overlay=function(e,t,n){return{token:function(r){if(r.match(e)&&(!t||function(e,t){return!(e.start&&t.test(e.string.charAt(e.start-1))||e.pos!=e.string.length&&t.test(e.string.charAt(e.pos)))}(r,t)))return n;r.next(),r.skipTo(e.charAt(0))||r.skipToEnd()}}}(t,n,r)),i.options.annotateScrollbar&&e.showMatchesOnScrollbar){var o=n?new RegExp("\\b"+t.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+"\\b"):t;i.matchesonscroll=e.showMatchesOnScrollbar(o,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function a(e){var t=e.state.matchHighlighter;t.overlay&&(e.removeOverlay(t.overlay),t.overlay=null,t.matchesonscroll&&(t.matchesonscroll.clear(),t.matchesonscroll=null))}function s(e){e.operation(function(){var t=e.state.matchHighlighter;if(a(e),e.somethingSelected()||!t.options.showToken){var n=e.getCursor("from"),r=e.getCursor("to");if(n.line==r.line&&(!t.options.wordsOnly||function(e,t,n){if(null!==e.getRange(t,n).match(/^\w+$/)){if(t.ch>0){var r={line:t.line,ch:t.ch-1},i=e.getRange(r,t);if(null===i.match(/\W/))return!1}if(n.ch<e.getLine(t.line).length){var r={line:n.line,ch:n.ch+1},i=e.getRange(n,r);if(null===i.match(/\W/))return!1}return!0}return!1}(e,n,r))){var i=e.getRange(n,r);t.options.trim&&(i=i.replace(/^\s+|\s+$/g,"")),i.length>=t.options.minChars&&o(e,i,!1,t.options.style)}}else{for(var s=!0===t.options.showToken?/[\w$]/:t.options.showToken,l=e.getCursor(),c=e.getLine(l.line),u=l.ch,d=u;u&&s.test(c.charAt(u-1));)--u;for(;d<c.length&&s.test(c.charAt(d));)++d;u<d&&o(e,c.slice(u,d),s,t.options.style)}})}e.defineOption("highlightSelectionMatches",!1,function(i,o,l){if(l&&l!=e.Init&&(a(i),clearTimeout(i.state.matchHighlighter.timeout),i.state.matchHighlighter=null,i.off("cursorActivity",n),i.off("focus",r)),o){var c=i.state.matchHighlighter=new function(e){for(var n in this.options={},t)this.options[n]=(e&&e.hasOwnProperty(n)?e:t)[n];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}(o);i.hasFocus()?(c.active=!0,s(i)):i.on("focus",r),i.on("cursorActivity",n)}})}),e("skylark-codemirror/addon/hint/anyword-hint",["../../CodeMirror"],function(e){"use strict";var t=/[\w$]+/;e.registerHelper("hint","anyword",function(n,r){for(var i=r&&r.word||t,o=r&&r.range||500,a=n.getCursor(),s=n.getLine(a.line),l=a.ch,c=l;c&&i.test(s.charAt(c-1));)--c;for(var u=c!=l&&s.slice(c,l),d=r&&r.list||[],m={},f=new RegExp(i.source,"g"),p=-1;p<=1;p+=2)for(var h=a.line,g=Math.min(Math.max(h+p*o,n.firstLine()),n.lastLine())+p;h!=g;h+=p)for(var v,b=n.getLine(h);v=f.exec(b);)h==a.line&&v[0]===u||u&&0!=v[0].lastIndexOf(u,0)||Object.prototype.hasOwnProperty.call(m,v[0])||(m[v[0]]=!0,d.push(v[0]));return{list:d,from:e.Pos(a.line,c),to:e.Pos(a.line,l)}})}),e("skylark-codemirror/addon/hint/javascript-hint",["../../CodeMirror"],function(e){var t=e.Pos;function n(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function r(r,i,l,c){var u=r.getCursor(),d=l(r,u);if(!/\b(?:string|comment)\b/.test(d.type)){var m=e.innerMode(r.getMode(),d.state);if("json"!==m.mode.helperType){d.state=m.state,/^[\w$_]*$/.test(d.string)?d.end>u.ch&&(d.end=u.ch,d.string=d.string.slice(0,u.ch-d.start)):d={start:u.ch,end:u.ch,string:"",state:d.state,type:"."==d.string?"property":null};for(var f=d;"property"==f.type;){if("."!=(f=l(r,t(u.line,f.start))).string)return;if(f=l(r,t(u.line,f.start)),!p)var p=[];p.push(f)}return{list:function(e,t,r,i){var l=[],c=e.string,u=i&&i.globalScope||window;function d(e){0!=e.lastIndexOf(c,0)||function(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return-1!=e.indexOf(t)}(l,e)||l.push(e)}function m(e){"string"==typeof e?n(o,d):e instanceof Array?n(a,d):e instanceof Function&&n(s,d),function(e,t){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var n=e;n;n=Object.getPrototypeOf(n))Object.getOwnPropertyNames(n).forEach(t);else for(var r in e)t(r)}(e,d)}if(t&&t.length){var f,p=t.pop();for(p.type&&0===p.type.indexOf("variable")?(i&&i.additionalContext&&(f=i.additionalContext[p.string]),i&&!1===i.useGlobalScope||(f=f||u[p.string])):"string"==p.type?f="":"atom"==p.type?f=1:"function"==p.type&&(null==u.jQuery||"$"!=p.string&&"jQuery"!=p.string||"function"!=typeof u.jQuery?null!=u._&&"_"==p.string&&"function"==typeof u._&&(f=u._()):f=u.jQuery());null!=f&&t.length;)f=f[t.pop().string];null!=f&&m(f)}else{for(var h=e.state.localVars;h;h=h.next)d(h.name);for(var h=e.state.globalVars;h;h=h.next)d(h.name);i&&!1===i.useGlobalScope||m(u),n(r,d)}return l}(d,p,i,c),from:t(u.line,d.start),to:t(u.line,d.end)}}}}function i(e,t){var n=e.getTokenAt(t);return t.ch==n.start+1&&"."==n.string.charAt(0)?(n.end=n.start,n.string=".",n.type="property"):/^\.[\w$_]*$/.test(n.string)&&(n.type="property",n.start++,n.string=n.string.replace(/\./,"")),n}e.registerHelper("hint","javascript",function(e,t){return r(e,l,function(e,t){return e.getTokenAt(t)},t)}),e.registerHelper("hint","coffeescript",function(e,t){return r(e,c,i,t)});var o="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),a="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),s="prototype apply call bind".split(" "),l="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),c="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}),e("skylark-codemirror/addon/lint/javascript-lint",["../../CodeMirror"],function(e){"use strict";e.registerHelper("lint","javascript",function(t,n){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];n.indent||(n.indent=1);JSHINT(t,n,n.globals);var r=JSHINT.data().errors,i=[];r&&function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i){if(i.line<=0){window.console&&window.console.warn("Cannot display JSHint error (invalid line "+i.line+")",i);continue}var o=i.character-1,a=o+1;if(i.evidence){var s=i.evidence.substring(o).search(/.\b/);s>-1&&(a+=s)}var l={message:i.reason,severity:i.code&&i.code.startsWith("W")?"warning":"error",from:e.Pos(i.line-1,o),to:e.Pos(i.line-1,a)};n.push(l)}}}(r,i);return i})}),e("skylark-codemirror/addon/lint/lint",["../../CodeMirror"],function(e){"use strict";var t="CodeMirror-lint-markers";function n(e){e.parentNode&&e.parentNode.removeChild(e)}function r(t,r,i){var o=function(t,n){var r=document.createElement("div");function i(t){if(!r.parentNode)return e.off(document,"mousemove",i);r.style.top=Math.max(0,t.clientY-r.offsetHeight-5)+"px",r.style.left=t.clientX+5+"px"}r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),e.on(document,"mousemove",i),i(t),null!=r.style.opacity&&(r.style.opacity=1);return r}(t,r);function a(){e.off(i,"mouseout",a),o&&(!function(e){if(!e.parentNode)return;null==e.style.opacity&&n(e);e.style.opacity=0,setTimeout(function(){n(e)},600)}(o),o=null)}var s=setInterval(function(){if(o)for(var e=i;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){a();break}}if(!o)return clearInterval(s)},400);e.on(i,"mouseout",a)}function i(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){!function(e,t){var n=t.target||t.srcElement;if(!/\bCodeMirror-lint-mark-/.test(n.className))return;for(var i=n.getBoundingClientRect(),o=(i.left+i.right)/2,a=(i.top+i.bottom)/2,s=e.findMarksAt(e.coordsChar({left:o,top:a},"client")),c=[],u=0;u<s.length;++u){var d=s[u].__annotation;d&&c.push(d)}c.length&&function(e,t){for(var n=t.target||t.srcElement,i=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o];i.appendChild(l(a))}r(t,i,n)}(c,t)}(e,t)},this.waitingFor=0}function o(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(t);for(var r=0;r<n.marked.length;++r)n.marked[r].clear();n.marked.length=0}function a(t,n,i,o){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+n,i&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(s,"mouseover",function(e){r(e,t,s)}),a}function s(e,t){return"error"==e?e:t}function l(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,void 0!==e.messageHTML?n.innerHTML=e.messageHTML:n.appendChild(document.createTextNode(e.message)),n}function c(t){var n=t.state.lint,r=n.options,i=r.options||r,o=r.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(o)if(r.async||o.async)!function(t,n,r){var i=t.state.lint,o=++i.waitingFor;function a(){o=-1,t.off("change",a)}t.on("change",a),n(t.getValue(),function(n,r){t.off("change",a),i.waitingFor==o&&(r&&n instanceof e&&(n=r),t.operation(function(){u(t,n)}))},r,t)}(t,o,i);else{var a=o(t.getValue(),i,t);if(!a)return;a.then?a.then(function(e){t.operation(function(){u(t,e)})}):t.operation(function(){u(t,a)})}}function u(e,n){o(e);for(var r=e.state.lint,i=r.options,c=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=r.from.line;(t[i]||(t[i]=[])).push(r)}return t}(n),u=0;u<c.length;++u){var d=c[u];if(d){for(var m=null,f=r.hasGutter&&document.createDocumentFragment(),p=0;p<d.length;++p){var h=d[p],g=h.severity;g||(g="error"),m=s(m,g),i.formatAnnotation&&(h=i.formatAnnotation(h)),r.hasGutter&&f.appendChild(l(h)),h.to&&r.marked.push(e.markText(h.from,h.to,{className:"CodeMirror-lint-mark-"+g,__annotation:h}))}r.hasGutter&&e.setGutterMarker(u,t,a(f,m,d.length>1,r.options.tooltips))}}i.onUpdateLinting&&i.onUpdateLinting(n,c,e)}function d(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){c(e)},t.options.delay||500))}e.defineOption("lint",!1,function(n,r,a){if(a&&a!=e.Init&&(o(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",d),e.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),r){for(var s=n.getOption("gutters"),l=!1,u=0;u<s.length;++u)s[u]==t&&(l=!0);var m=n.state.lint=new i(n,function(e,t){if(t instanceof Function)return{getAnnotations:t};t&&!0!==t||(t={});return t}(0,r),l);!1!==m.options.lintOnChange&&n.on("change",d),0!=m.options.tooltips&&"gutter"!=m.options.tooltips&&e.on(n.getWrapperElement(),"mouseover",m.onMouseOver),c(n)}}),e.defineExtension("performLint",function(){this.state.lint&&c(this)})}),e("skylark-codemirror/addon/tern/tern",["../../CodeMirror"],function(e){"use strict";e.TernServer=function(a){var c=this;this.options=a||{};var u=this.options.plugins||(this.options.plugins={});u.doc_comment||(u.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new function(e){var t=e.worker=new Worker(e.options.workerScript);t.postMessage({type:"init",defs:e.options.defs,plugins:e.options.plugins,scripts:e.options.workerDeps});var n=0,r={};function o(e,i){i&&(e.id=++n,r[n]=i),t.postMessage(e)}t.onmessage=function(t){var n=t.data;"getFile"==n.type?i(e,n.name,function(e,t){o({type:"getFile",err:String(e),text:t,id:n.id})}):"debug"==n.type?window.console.log(n.message):n.id&&r[n.id]&&(r[n.id](n.err,n.body),delete r[n.id])},t.onerror=function(e){for(var t in r)r[t](e);r={}},this.addFile=function(e,t){o({type:"add",name:e,text:t})},this.delFile=function(e){o({type:"del",name:e})},this.request=function(e,t){o({type:"req",body:e},t)}}(this):this.server=new tern.Server({getFile:function(e,t){return i(c,e,t)},async:!0,defs:this.options.defs||[],plugins:u}),this.trackChange=function(e,t){!function(e,t,n){var i=o(e,t),a=e.cachedArgHints;a&&a.doc==t&&p(a.start,n.to)>=0&&(e.cachedArgHints=null);var l=i.changed;null==l&&(i.changed=l={from:n.from.line,to:n.from.line});var c=n.from.line+(n.text.length-1);n.from.line<l.to&&(l.to=l.to-(n.to.line-c));c>=l.to&&(l.to=c+1);l.from>n.from.line&&(l.from=n.from.line);t.lineCount()>r&&n.to-l.from>100&&setTimeout(function(){i.changed&&i.changed.to-i.changed.from>100&&s(e,i)},200)}(c,e,t)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(r,i){return function(r,i,o){r.request(i,{type:"completions",types:!0,docs:!0,urls:!0},function(a,s){if(a)return k(r,i,a);var c=[],u="",d=s.start,m=s.end;'["'==i.getRange(t(d.line,d.ch-2),d)&&'"]'!=i.getRange(m,t(m.line,m.ch+2))&&(u='"]');for(var f=0;f<s.completions.length;++f){var p=s.completions[f],h=l(p.type);s.guess&&(h+=" "+n+"guess"),c.push({text:p.name+u,displayText:p.displayName||p.name,className:h,data:p})}var g={from:d,to:m,list:c},v=null;e.on(g,"close",function(){x(v)}),e.on(g,"update",function(){x(v)}),e.on(g,"select",function(e,t){x(v);var i=r.options.completionTip?r.options.completionTip(e.data):e.data.doc;i&&((v=y(t.parentNode.getBoundingClientRect().right+window.pageXOffset,t.getBoundingClientRect().top+window.pageYOffset,i)).className+=" "+n+"hint-doc")}),o(g)})}(c,r,i)},this.getHint.async=!0},e.TernServer.prototype={addDoc:function(t,n){var r={doc:n,name:t,changed:null};return this.server.addFile(t,w(this,r)),e.on(n,"change",this.trackChange),this.docs[t]=r},delDoc:function(t){var n=a(this,t);n&&(e.off(n.doc,"change",this.trackChange),delete this.docs[n.name],this.server.delFile(n.name))},hideDoc:function(e){j(this);var t=a(this,e);t&&t.changed&&s(this,t)},complete:function(e){e.showHint({hint:this.getHint})},showType:function(e,t,n){c(this,e,t,"type",n)},showDocs:function(e,t,n){c(this,e,t,"documentation",n)},updateArgHints:function(n){!function(n,r){if(j(n),r.somethingSelected())return;var i=r.getTokenAt(r.getCursor()).state,o=e.innerMode(r.getMode(),i);if("javascript"!=o.mode.name)return;var a=o.state.lexical;if("call"!=a.info)return;for(var s,l=a.pos||0,c=r.getOption("tabSize"),d=r.getCursor().line,m=Math.max(0,d-9),f=!1;d>=m;--d){for(var h=r.getLine(d),g=0,v=0;;){var b=h.indexOf("\t",v);if(-1==b)break;g+=c-(b+g)%c-1,v=b+1}if(s=a.column-g,"("==h.charAt(s)){f=!0;break}}if(!f)return;var y=t(d,s),x=n.cachedArgHints;if(x&&x.doc==r.getDoc()&&0==p(y,x.start))return u(n,r,l);n.request(r,{type:"type",preferFunction:!0,end:y},function(e,t){!e&&t.type&&/^fn\(/.test(t.type)&&(n.cachedArgHints={start:y,type:function(e){var t=[],n=3;function r(t){for(var r=0,i=n;;){var o=e.charAt(n);if(t.test(o)&&!r)return e.slice(i,n);/[{\[\(]/.test(o)?++r:/[}\]\)]/.test(o)&&--r,++n}}if(")"!=e.charAt(n))for(;;){var i=e.slice(n).match(/^([^, \(\[\{]+): /);if(i&&(n+=i[0].length,i=i[1]),t.push({name:i,type:r(/[\),]/)}),")"==e.charAt(n))break;n+=2}var o=e.slice(n).match(/^\) -> (.*)$/);return{args:t,rettype:o&&o[1]}}(t.type),name:t.exprName||t.name||"fn",guess:t.guess,doc:r.getDoc()},u(n,r,l))})}(this,n)},jumpToDef:function(e){!function(e,n){function r(r){var i={type:"definition",variable:r||null},a=o(e,n.getDoc());e.server.request(f(e,a,i),function(r,i){if(r)return k(e,n,r);if(i.file||!i.url){if(i.file){var o,s=e.docs[i.file];if(s&&(o=function(e,n){for(var r=n.context.slice(0,n.contextOffset).split("\n"),i=n.start.line-(r.length-1),o=t(i,(1==r.length?n.start.ch:e.getLine(i).length)-r[0].length),a=e.getLine(i).slice(o.ch),s=i+1;s<e.lineCount()&&a.length<n.context.length;++s)a+="\n"+e.getLine(s);if(a.slice(0,n.context.length)==n.context)return n;var l,c=e.getSearchCursor(n.context,0,!1),u=1/0;for(;c.findNext();){var d=c.from(),m=1e4*Math.abs(d.line-o.line);m||(m=Math.abs(d.ch-o.ch)),m<u&&(l=d,u=m)}if(!l)return null;1==r.length?l.ch+=r[0].length:l=t(l.line+(r.length-1),r[r.length-1].length);if(n.start.line==n.end.line)var f=t(l.line,l.ch+(n.end.ch-n.start.ch));else var f=t(l.line+(n.end.line-n.start.line),n.end.ch);return{start:l,end:f}}(s.doc,i)))return e.jumpStack.push({file:a.name,start:n.getCursor("from"),end:n.getCursor("to")}),void d(e,a,s,o.start,o.end)}k(e,n,"Could not find a definition.")}else window.open(i.url)})}!function(e){var t=e.getCursor("end"),n=e.getTokenAt(t);return!(n.start<t.ch&&"comment"==n.type)&&/[\w)\]]/.test(e.getLine(t.line).slice(Math.max(t.ch-1,0),t.ch+1))}(n)?g(n,"Jump to variable",function(e){e&&r(e)}):r()}(this,e)},jumpBack:function(e){!function(e,t){var n=e.jumpStack.pop(),r=n&&e.docs[n.file];if(!r)return;d(e,o(e,t.getDoc()),r,n.start,n.end)}(this,e)},rename:function(e){!function(e,t){var n=t.getTokenAt(t.getCursor());if(!/\w/.test(n.string))return k(e,t,"Not at a variable");g(t,"New name for "+n.string,function(n){e.request(t,{type:"rename",newName:n,fullDocs:!0},function(n,r){if(n)return k(e,t,n);!function(e,t){for(var n=Object.create(null),r=0;r<t.length;++r){var i=t[r];(n[i.file]||(n[i.file]=[])).push(i)}for(var o in n){var a=e.docs[o],s=n[o];if(a){s.sort(function(e,t){return p(t.start,e.start)});for(var l="*rename"+ ++m,r=0;r<s.length;++r){var i=s[r];a.doc.replaceRange(i.text,i.start,i.end,l)}}}}(e,r.changes)})})}(this,e)},selectName:function(e){!function(e,t){var n=o(e,t.doc).name;e.request(t,{type:"refs"},function(r,i){if(r)return k(e,t,r);for(var o=[],a=0,s=t.getCursor(),l=0;l<i.refs.length;l++){var c=i.refs[l];c.file==n&&(o.push({anchor:c.start,head:c.end}),p(s,c.start)>=0&&p(s,c.end)<=0&&(a=o.length-1))}t.setSelections(o,a)})}(this,e)},request:function(e,t,n,r){var i=this,a=o(this,e.getDoc()),s=f(this,a,t,r),l=s.query&&this.options.queryOptions&&this.options.queryOptions[s.query.type];if(l)for(var c in l)s.query[c]=l[c];this.server.request(s,function(e,r){!e&&i.options.responseFilter&&(r=i.options.responseFilter(a,t,s,e,r)),n(e,r)})},destroy:function(){j(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var t=e.Pos,n="CodeMirror-Tern-",r=250;function i(e,t,n){var r=e.docs[t];r?n(w(e,r)):e.options.getFile?e.options.getFile(t,n):n(null)}function o(e,t,n){for(var r in e.docs){var i=e.docs[r];if(i.doc==t)return i}if(!n)for(var o=0;;++o)if(r="[doc"+(o||"")+"]",!e.docs[r]){n=r;break}return e.addDoc(n,t)}function a(t,n){return"string"==typeof n?t.docs[n]:(n instanceof e&&(n=n.getDoc()),n instanceof e.Doc?o(t,n):void 0)}function s(e,t){e.server.request({files:[{type:"full",name:t.name,text:w(e,t)}]},function(e){e?window.console.error(e):t.changed=null})}function l(e){var t;return t="?"==e?"unknown":"number"==e||"string"==e||"bool"==e?e:/^fn\(/.test(e)?"fn":/^\[/.test(e)?"array":"object",n+"completion "+n+"completion-"+t}function c(e,t,n,r,i){e.request(t,r,function(n,r){if(n)return k(e,t,n);if(e.options.typeTip)var o=e.options.typeTip(r);else{var o=h("span",null,h("strong",null,r.type||"not found"));if(r.doc&&o.appendChild(document.createTextNode("  "+r.doc)),r.url){o.appendChild(document.createTextNode(" "));var a=o.appendChild(h("a",null,"[docs]"));a.href=r.url,a.target="_blank"}}v(t,o,e),i&&i()},n)}function u(e,t,r){j(e);for(var i=e.cachedArgHints,o=i.type,a=h("span",i.guess?n+"fhint-guess":null,h("span",n+"fname",i.name),"("),s=0;s<o.args.length;++s){s&&a.appendChild(document.createTextNode(", "));var l=o.args[s];a.appendChild(h("span",n+"farg"+(s==r?" "+n+"farg-current":""),l.name||"?")),"?"!=l.type&&(a.appendChild(document.createTextNode(":")),a.appendChild(h("span",n+"type",l.type)))}a.appendChild(document.createTextNode(o.rettype?") ->":")")),o.rettype&&a.appendChild(h("span",n+"type",o.rettype));var c=t.cursorCoords(null,"page"),u=e.activeArgHints=y(c.right+1,c.bottom,a);setTimeout(function(){u.clear=b(t,function(){e.activeArgHints==u&&j(e)})},20)}function d(e,t,n,r,i){n.doc.setSelection(r,i),t!=n&&e.options.switchToDoc&&(j(e),e.options.switchToDoc(n.name,n.doc))}var m=0;function f(n,i,o,a){var s=[],l=0,c=!o.fullDocs;c||delete o.fullDocs,"string"==typeof o&&(o={type:o}),o.lineCharPositions=!0,null==o.end&&(o.end=a||i.doc.getCursor("end"),i.doc.somethingSelected()&&(o.start=i.doc.getCursor("start")));var u=o.start||o.end;if(i.changed)if(i.doc.lineCount()>r&&!1!==c&&i.changed.to-i.changed.from<100&&i.changed.from<=u.line&&i.changed.to>o.end.line){s.push(function(n,r,i){for(var o,a=n.doc,s=null,l=null,c=r.line-1,u=Math.max(0,c-50);c>=u;--c){var d=a.getLine(c),m=d.search(/\bfunction\b/);if(!(m<0)){var f=e.countColumn(d,null,4);null!=s&&s<=f||(s=f,l=c)}}null==l&&(l=u);var p=Math.min(a.lastLine(),i.line+20);if(null==s||s==e.countColumn(a.getLine(r.line),null,4))o=p;else for(o=i.line+1;o<p;++o){var f=e.countColumn(a.getLine(o),null,4);if(f<=s)break}var h=t(l,0);return{type:"part",name:n.name,offsetLines:h.line,text:a.getRange(h,t(o,i.line==o?null:0))}}(i,u,o.end)),o.file="#0";var l=s[0].offsetLines;null!=o.start&&(o.start=t(o.start.line- -l,o.start.ch)),o.end=t(o.end.line-l,o.end.ch)}else s.push({type:"full",name:i.name,text:w(n,i)}),o.file=i.name,i.changed=null;else o.file=i.name;for(var d in n.docs){var m=n.docs[d];m.changed&&m!=i&&(s.push({type:"full",name:m.name,text:w(n,m)}),m.changed=null)}return{query:o,files:s}}var p=e.cmpPos;function h(e,t){var n=document.createElement(e);t&&(n.className=t);for(var r=2;r<arguments.length;++r){var i=arguments[r];"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i)}return n}function g(e,t,n){e.openDialog?e.openDialog(t+": <input type=text>",n):n(prompt(t,""))}function v(t,n,r){t.state.ternTooltip&&x(t.state.ternTooltip);var i=t.cursorCoords(),o=t.state.ternTooltip=y(i.right+1,i.bottom,n);function a(){var e;t.state.ternTooltip=null,o.parentNode&&((e=o).style.opacity="0",setTimeout(function(){x(e)},1100)),c()}var s=!1,l=!1;e.on(o,"mousemove",function(){s=!0}),e.on(o,"mouseout",function(t){var n=t.relatedTarget||t.toElement;n&&e.contains(o,n)||(l?a():s=!1)}),setTimeout(function(){l=!0,s||a()},r.options.hintDelay?r.options.hintDelay:1700);var c=b(t,a)}function b(e,t){return e.on("cursorActivity",t),e.on("blur",t),e.on("scroll",t),e.on("setDoc",t),function(){e.off("cursorActivity",t),e.off("blur",t),e.off("scroll",t),e.off("setDoc",t)}}function y(e,t,r){var i=h("div",n+"tooltip",r);return i.style.left=e+"px",i.style.top=t+"px",document.body.appendChild(i),i}function x(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function k(e,t,n){e.options.showError?e.options.showError(t,n):v(t,String(n),e)}function j(e){e.activeArgHints&&(e.activeArgHints.clear&&e.activeArgHints.clear(),x(e.activeArgHints),e.activeArgHints=null)}function w(e,t){var n=t.doc.getValue();return e.options.fileFilter&&(n=e.options.fileFilter(n,t.name,t.doc)),n}}),e("skylark-jsbin-coder/editors/codemirror",["skylark-codemirror/CodeMirror","../coder","skylark-codemirror/mode/xml/xml","skylark-codemirror/mode/css/css","skylark-codemirror/mode/javascript/javascript","skylark-codemirror/mode/htmlmixed/htmlmixed","skylark-codemirror/mode/markdown/markdown","skylark-codemirror/addon/comment/comment","skylark-codemirror/addon/selection/active-line","skylark-codemirror/addon/fold/foldcode","skylark-codemirror/addon/fold/foldgutter","skylark-codemirror/addon/fold/brace-fold","skylark-codemirror/addon/fold/xml-fold","skylark-codemirror/addon/fold/indent-fold","skylark-codemirror/addon/fold/markdown-fold","skylark-codemirror/addon/fold/comment-fold","skylark-codemirror/addon/edit/matchbrackets","skylark-codemirror/addon/edit/closebrackets","skylark-codemirror/addon/edit/trailingspace","skylark-codemirror/addon/search/searchcursor","skylark-codemirror/addon/search/search","skylark-codemirror/addon/search/match-highlighter","skylark-codemirror/addon/dialog/dialog","skylark-codemirror/addon/hint/anyword-hint","skylark-codemirror/addon/hint/javascript-hint","skylark-codemirror/addon/lint/javascript-lint","skylark-codemirror/addon/lint/lint","skylark-codemirror/addon/tern/tern"],function(e,t){var n="CodeMirror-highlight-line",r="CodeMirror-highlight-line-background";function i(e){var t=[];if("[object Array]"==={}.toString.call(e))return e;if(-1!==e.indexOf("-"))for(var n=e.split("-"),r=parseInt(n[0],10),i=parseInt(n[1],10);r<=i;r++)t.push(r-1);else t=[parseInt(e,10)-1];return t}function o(e){return 1===e.length?e[0]+1+"":0===e.length?"":e[0]+1+"-"+(e.slice(-1)[0]+1)}function a(e){for(var t=0;t<e.state.highlightedLines.length;t++)e.removeLineClass(e.state.highlightedLines[t],"wrap",n),e.removeLineClass(e.state.highlightedLines[t],"background",r);e.state.highlightedLines=[]}function s(e,t,i){e.operation(function(){a(e);for(var o=0;o<t.length;o++)e.addLineClass(t[o],"wrap",n),e.addLineClass(t[o],"background",r);e.state.highlightedLines=t,i&&l(e,t)})}function l(t,n){e.signal(t,"highlightLines",t,n,o(n))}function c(e,t,n,r){$(r.target).hasClass("CodeMirror-linenumber")&&function(e,t,n){var r=[].slice.call(e.state.highlightedLines,0);if(r.length&&n.shiftKey){var i=r[0];if(r=[],t<i)for(;i>=t;i--)r.push(i);else for(;i<=t;i++)r.push(i)}else-1===r.indexOf(t)&&(r=[t]);if(r=r.sort(function(e,t){return e-t}),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(e.state.highlightedLines,r))return a(e),void(n&&l(e,r));s(e,r,n)}(e,t,r)}return e.defineOption("highlightLine",!1,function(t,n,r){var o=r&&r!==e.Init;n&&!o?(t.state.highlightedLines=[],"boolean"!=typeof n&&s(t,i(n)),t.on("gutterClick",c)):!n&&o&&(t.off("gutterClick",c),a(t),delete t.state.highlightedLines)}),e.defineExtension("highlightLines",function(e){if(!e){var t=[].slice.call(this.state.highlightedLines);return{lines:t,string:o(t)}}a(this),s(this,i(e))}),t.editors.CodeMirror=e}),e("skylark-jsbin-coder/editors/mobileCodeMirror",["skylark-jquery","skylark-jsbin-chrome/hideOpen","../jsbin","./codemirror"],function(e,t,n,r){var i=function(){},o=document.body.className,a=null,s=n.settings.editor&&n.settings.editor.simple;(s||n.mobile||n.tablet||-1!==o.indexOf("ie6")||-1!==o.indexOf("ie7"))&&(e("body").addClass("mobile"),function(){var o=/\b./g;n.lameEditor=!0;var s=function(e,t){t||(t=e);var n=this.textarea,r=n.value;if(n.value="",n.value=r,n.setSelectionRange)n.setSelectionRange(e,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),e<0&&(e=n.value.length+e),i.moveEnd("character",t),i.moveStart("character",e),i.select()}},l=function(e,t,n){var r=this.textarea;void 0!==e&&null!==e||(e=""),t||(t=this.getCursor()),n||(n=t,this.textarea.selectionEnd!==this.textarea.selectionStart&&(n=this.posFromIndex(this.textarea.selectionEnd)));r.value;var i=r.value.split("\n"),o=i[t.line];o=o.substring(0,t.ch)+e+o.substring(n.ch),i[t.line]=o,r.value=i.join("\n");var a=i.slice(0,t.line).join("\n").length+1+t.ch+e.length;s.call({textarea:r},a)},c=function(r,i){this.textarea=r,this.win={document:this.textarea},this.ready=!0,this.wrapping=document.createElement("div");var o=this.textarea.parentNode;this.wrapping.appendChild(this.textarea),o.appendChild(this.wrapping),this.textarea.style.opacity=1;var a=n.mobile||n.tablet?"blur":"keyup",s=null,l=function(){s!==r.value&&(s=r.value,$document.trigger("codeChange",{panelId:r.id}))};$document.on("jsbinReady",function(){s=r.value}),e(this.textarea).on(a,n.throttle(function(){l(),n.$body.removeClass("editor-focus")},200)).on("focus",function(){t(),n.$body.addClass("editor-focus")}).on("touchstart",function(){u=-1}).on("keypress",function(){u=-1}),i.initCallback&&e(i.initCallback),this.commands={},this.options=i,this.__update=l},u=-1,d=[],m=null;for(var f in c.prototype={_hasCompletions:function(){return-1!==u},_completionIndex:u,_showCompletion:function(e,t){-1===u&&(console.log(e),d=e,m=t,console.log(t)),++u>=d.length&&(u=0);var n=this.getCursor(),r=this.indexFromPos(n),i=d[u].substr(m.string.length);l.call(this,i),this.setCursor(r,r+i.length)},cursorCoords:function(e){var t=getCaretCoordinates(this.textarea,this.textarea.selectionEnd);return t.bottom=t.top,t},replaceRange:function(){return this._completionIndex=-1,l.apply(this,arguments)},getMode:function(){return this.options.mode},Pos:function(e,t){return{line:e,ch:t}},getWrapperElement:function(){return this.wrapping},getScrollerElement:function(){return this.textarea},setOption:function(t,n){"onChange"===t&&e(this.textarea).change(n)},setCode:function(e){this.textarea.value=e},getOption:i,getCode:function(){return this.textarea.value},getLine:function(e){return this.textarea.value.split("\n")[e-1]},getValue:function(){return this.textarea.value},setValue:function(e){this.textarea.value=e},focus:function(){this.textarea.focus()},getCursor:function(){var e=this.cursorPosition().character,t=this.textarea.value.substring(0,e).split("\n"),n=t.length-1,r=t[n].length;return{line:n,char:r,ch:r}},getTokenAt:function(e){var t=this.textarea.value.split("\n")[e.line],n=(t.substr(0,e.char),-1);t.replace(o,function(e,r){t.substr(r).trim()&&(n=r)});var r=(o.exec(t.substr(e.char))||{index:t.length}).index,i=t.substr(n,r);return/^\w+$/g.test(i)||(i=""),{start:n,end:r,string:i.trim(),type:"variable",state:{mode:this.options.mode}}},setCursor:s,currentLine:function(){return 0},defaultTextHeight:function(){return 16},highlightLines:function(){return{string:""}},removeKeyMap:i,addKeyMap:i,indentLine:i,cursorPosition:function(){var e=0;return this.textarea.selectionStart?e=this.textarea.selectionStart:this.textarea.createTextRange&&(e=this.textarea.createTextRange().startOffset),{character:e}},nthLine:i,refresh:i,selectLines:i,on:i,somethingSelected:i,indexFromPos:function(e){return this.textarea.value.split("\n").slice(0,e.line).join("").length+e.ch+e.line},posFromIndex:function(e){var t=this.textarea.value.substr(0,e).split("\n"),n=t.length-1;return{line:n,ch:t[n].length}},getRange:function(e,t){return this.textarea.value.substring(this.indexFromPos(e),this.indexFromPos(t))},getModeAt:function(){var e=this.options.mode;return"htmlmixed"===e&&(e="html"),{name:e}},setSelections:function(e){s.call(this,this.indexFromPos(e[0].anchor),this.indexFromPos(e[0].head))},listSelections:function(){return[{head:this.getCursor(),anchor:this.getCursor()}]},operation:function(e){e()}},a=r,r=i,a)r[f]=i;["Pass","hint","snippets","execCommand","simpleHint","commands"].forEach(function(e){r[e]=a[e]}),r.fromTextArea=function(e,t){return new c(e,t)},r.keyMap={basic:{}}}())}),e("skylark-jsbin-coder/editors/mobile-command-maps",["skylark-jquery","../jsbin"],function(e,t){return t.commandMaps=[{value:"",callback:function(){return this.complete()}},{value:"fn",callback:function(){return"function $0() {\n  \n}"},panel:["js","console"]},{value:"($0)",panel:["js","console"]},{value:"{$0}",panel:["css","js"],callback:function(){return"{\n  $0\n}"}},{value:"log",callback:function(){return"console.log($0)"},panel:"js"},{value:"<$0",panel:"html"},{value:">$0",panel:"html"},{value:"</>",callback:function(){return this.close(">")},panel:"html"},{value:'="$0"',panel:"html"},{value:"&rarr;|",callback:function(){return"  $0"}},{value:': "$0";',panel:"css"}]}),e("skylark-jsbin-coder/chrome/analytics",["skylark-langx","skylark-jquery","skylark-jsbin-chrome/analytics","../jsbin"],function(e,t,n,r){return e.mixin(n,{universalEditor:function(e){n.track("menu","universalEditor",e)},library:function(e,t){n.track("menu",e,"library",t)},showPanel:function(e){n.track("panel","show",e)},hidePanel:function(e){n.track("panel","hide",e)},enableLiveJS:function(e){n.track("button","auto-run js",e?"on":"off")},layout:function(e){var t=[],r="";for(r in e)t.push(r.id);n.track("layout","update",t.sort().join(",")||"none")},run:function(e){n.track(e||"button","run with js")},runconsole:function(e){n.track(e||"button","run console")}}),n}),e("skylark-jsbin-coder/editors/snippets.cm",["skylark-jquery","../jsbin","../coder","./codemirror"],function(e,t,n,r){"use strict";var i={cl:"console.log('$0');",fn:"function $0() {\n\t\n}"};return r.snippets=function(e){var n=e.getCursor(),o=e.getTokenAt(n),a=-1,s="",l=o.string,c=t.settings.snippets||i;o.end>n.ch&&(l=l.slice(0,l.length-o.end+n.ch));var u=l.toLowerCase();return c[u]?(a=c[u].indexOf("$0"),s=c[u].replace(/\$0/,""),e.replaceRange(s,{line:n.line,ch:n.ch-u.length},{line:n.line,ch:n.ch+u.length}),void(-1!==a&&e.setCursor({line:n.line,ch:n.ch-u.length+a}))):r.Pass},n.editors.snippets=r.snippets}),e("skylark-jsbin-chrome/splitter",["skylark-jquery","skylark-jsbin-base/storage","./jsbin","./chrome"],function(e,t,n,r){return e.fn.splitter=function(){var r=e(document),i=e('<div class="block"></div>'),o=e("body"),a=JSON.parse(t.localStorage.getItem("splitterSettings")||"[]");return this.each(function(){var s=e(this),l=(e(this),e.fn.splitter.guid++),c=s.parent(),u="x",d="x"===u?s.prevAll(":visible:first"):s.nextAll(":visible:first"),m=e('<div class="resize"></div>'),f=!1,p=(c.width(),c.offset()),h=(p.left,p.top),g={x:{currentPos:c.offset().left,multiplier:1,cssProp:"left",otherCssProp:"right",size:c.width(),sizeProp:"width",moveProp:"pageX",init:{top:0,bottom:0,width:n.mobile?44:8,"margin-left":n.mobile?"-22px":"-4px",height:"100%",left:"auto",right:"auto",opacity:0,position:"absolute",cursor:"ew-resize","border-left":"1px solid rgba(218, 218, 218, 0.5)","z-index":99999}},y:{currentPos:c.offset().top,multiplier:-1,size:c.height(),cssProp:"bottom",otherCssProp:"top",sizeProp:"height",moveProp:"pageY",init:{top:"auto",cursor:"ns-resize",bottom:"auto",height:8,width:"100%",left:0,right:0,opacity:0,position:"absolute",border:0,"z-index":99999}}},v=a[l]||{},b={down:{x:null,y:null},delta:{x:null,y:null},track:!1,timer:null};function y(e){"y"===u&&(e-=h);var n=e-g[u].currentPos,i=100/g[u].size*n,o=(e-v[u])*g[u].multiplier,c=d[g[u].sizeProp](),f=s[g[u].sizeProp]();if("y"===u&&(i=100-i),c<100&&o<0);else if(f<100&&o>0);else{s.css(g[u].cssProp,i+"%"),d.css(g[u].otherCssProp,100-i+"%");var p={};p[g[u].cssProp]=i+"%",m.css(p),v[u]=e,a[l]=v,t.localStorage.setItem("splitterSettings",JSON.stringify(a)),y.timer&&clearTimeout(y.timer),y.timer=setTimeout(function(){r.trigger("sizeeditors")},120)}}function x(){d="x"===u?m.prevAll(":visible:first"):m.nextAll(":visible:first")}m.bind("mousedown",function(e){b.down.x=e.pageX,b.down.y=e.pageY,b.delta={x:null,y:null},b.target=.25*m["x"==u?"height":"width"]()}),r.bind("mousemove",function(e){if(f){b.delta.x=b.down.x-e.pageX,b.delta.y=b.down.y-e.pageY,clearTimeout(b.timer),b.timer=setTimeout(function(){b.down.x=e.pageX,b.down.y=e.pageY},250);var t="x"==u?"y":"x";Math.abs(b.delta[t])>b.target&&(m.trigger("change",t,e[g[t].moveProp]),b.down.x=e.pageX,b.down.y=e.pageY)}}),r.bind("mouseup touchend",function(){f&&(f=!1,i.remove(),o.removeClass("dragging"))}).bind("mousemove touchmove",function(e){f&&y(e[g[u].moveProp]||e.originalEvent.touches[0][g[u].moveProp])}),i.bind("mousemove touchmove",function(e){f&&y(e[g[u].moveProp]||e.originalEvent.touches[0][g[u].moveProp])}),m.bind("mousedown touchstart",function(e){f=!0,o.append(i).addClass("dragging"),g[u].size=c[g[u].sizeProp](),g[u].currentPos=0,x(),e.preventDefault()}),m.bind("init",function(e,t){m.css(g[u].init),g[u].size=c[g[u].sizeProp](),x(),h=c.offset().top,i.css("cursor","x"==u?"ew-resize":"ns-resize"),"y"==u?(s.css("border-right",0),d.css("border-left",0),d.css("border-top","2px solid #ccc")):s.css("border-top",0),s.is(":hidden")?m.hide():(d.length?s.css("border-"+g[u].cssProp,"1px solid #ccc"):s.css("border-"+g[u].cssProp,"0"),y(void 0!==t?t:s.offset()[g[u].cssProp]))}),d.css("width","auto"),d.css("height","auto"),s.data("splitter",m),s.before(m)})},e.fn.splitter.guid=0,r.splitter=e.fn.splitter}),e("skylark-jsbin-coder/editors/panel",["skylark-jquery","skylark-jsbin-base/storage","skylark-jsbin-processors","skylark-jsbin-chrome/hideOpen","../jsbin","../coder","./codemirror","../chrome/analytics","./snippets.cm","skylark-jsbin-chrome/splitter"],function(e,t,n,r,i,o,a,s){var l=e(document),c=e("#source"),u=!e("html").hasClass("layout"),d={html:"htmlmixed",javascript:"javascript",css:"css",typescript:"javascript",markdown:"markdown",coffeescript:"coffeescript",livescript:"text/x-livescript",jsx:"javascript",less:"text/x-less",sass:"text/x-sass",scss:"text/x-scss",processing:"text/x-csrc",jade:"text/x-jade",clojurescript:"clojure"},m=new RegExp("[-]","g");"default"===i.settings.editor.tabMode?a.keyMap.basic.Tab=void 0:"classic"!==i.settings.editor.tabMode&&(a.keyMap.basic.Tab="indentMore"),a.commands||(a.commands={});a.commands.autocomplete=function(e){if(a.snippets(e)===a.Pass)return a.simpleHint(e,a.hint.javascript)},a.commands.snippets=function(e){"use strict";return-1===["htmlmixed","javascript","css",d.less,d.sass,d.scss].indexOf(e.options.mode)?a.simpleHint(e,a.hint.anyword):oldCodeMirror?oldCodeMirror.snippets(e):i.mobile?void 0:a.snippets(e)};var f=function(t,r){"use strict";var o=this,s=null,u={},m=t,p=e('<div class="stretch panelwrapper"></div>');if(o.settings=r=r||{},o.id=o.name=t,(s=e(".panel."+t)).data("name",t),o.$el=s.detach(),o.$el.appendTo(p),p.appendTo(c),o.$panel=o.$el,o.$el=o.$el.parent().hide(),o.el=document.getElementById(t),o.order=++f.order,o.label=r.label||t,o.$el.data("panel",o),this._eventHandlers={},o.on("show",panels.updateQuery),o.on("hide",panels.updateQuery),1===o.order&&(r.nosplitter=!0),r.editor){if(u={parserfile:[],readOnly:!!i.state.embed&&"nocursor",dragDrop:!1,mode:d[m],theme:i.settings.theme||"jsbin",highlightLine:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},e.extend(u,i.settings.editor||{}),u.extraKeys={},u.extraKeys.Tab="javascript"===t?"autocomplete":"snippets","html"===t&&e.extend(u,{syntax:t,profile:t}),"string"==typeof u.tabSize&&(u.tabSize=parseInt(u.tabSize,10)||2),"string"==typeof u.indentUnit&&(u.indentUnit=parseInt(u.indentUnit,10)||2),o.editor=a.fromTextArea(o.el,u),o.editor.on("highlightLines",function(){window.location.hash=panels.getHighlightLines()}),o.editor.on("change",function(e,t){return i.saveDisabled?l.trigger("codeChange.live",[{panelId:o.id,revert:!0,origin:t.origin}]):l.trigger("codeChange",[{panelId:o.id,revert:!0,origin:t.origin}]),!0}),o.editor.on("focus",function(){o.focus()}),"javascript"===t){var h="mac"===e.browser.platform?"Cmd":"Ctrl",g={};g[h+"-D"]="deleteLine",g[h+"-/"]=function(e){a.commands.toggleComment(e)},g.name="noEmmet",o.editor.addKeyMap(g)}o._setupEditor(o.editor,t)}e("html").is(".layout")?(o.splitter=e(),o.$el.removeClass("stretch")):r.nosplitter?o.splitter=e():(o.splitter=o.$el.splitter({}).data("splitter"),o.splitter.hide()),i.state.processors&&i.state.processors[t]?(m=i.state.processors[t],n.set(o,i.state.processors[t])):r.processor?(m=r.processors[r.processor],n.set(o,r.processor)):n[o.id]?n.set(o,o.id):o.processor=function(e){return new Promise(function(t){t(e)})},r.beforeRender&&l.bind("render",e.proxy(r.beforeRender,o)),r.editor||(o.ready=!0),i.state.embed,this.controlButton=e('<a role="button" class="button group" href="?'+t+'">'+o.label+"</a>"),this.updateAriaState(),this.controlButton.on("click touchstart",function(){return o.toggle(),!1}),this.controlButton.appendTo("#panels"),s.focus(function(){o.focus()}),i.mobile||s.add(this.$el.find(".label")).click(function(){o.focus()})};function p(e,n){if(e.codeSet)c=!0;else{var r=t.sessionStorage.getItem("jsbin.content."+n),a=i.embed?null:t.localStorage.getItem("saved-"+n),s=t.sessionStorage.getItem("url"),c=!1;if(s===i.getURL()||i.state.checksum||(t.sessionStorage.removeItem("checksum"),i.saveChecksum=!1),template&&r==template[n])e.setCode(r);else if(r&&s==i.getURL()&&s!==i.root)e.setCode(r),c=r!=a&&r!=template[n];else if(template.post||null===a||/(edit|embed)$/.test(window.location)||window.location.search)e.setCode(template[n]);else{e.setCode(a);var u=JSON.parse(t.localStorage.getItem("saved-processors")||"{}")[n];u&&i.processors.set(o.editors.panels.panels[n],u)}e.editor&&e.editor.clearHistory&&e.editor.clearHistory()}c&&l.trigger("codeChange",[{revert:!1,onload:!0}])}return f.order=0,f.prototype={virgin:!0,visible:!1,updateAriaState:function(){this.controlButton.attr("aria-label",this.label+" Panel: "+(this.visible?"Active":"Inactive"))},show:function(t){if(r(),!this.visible){l.trigger("history:close");var n=this,a=n.$el.find(".panel").length;if(s.showPanel(n.id),i.mobile&&panels.hideAll(!0),n.splitter.length){if(0===a||a>1){var c=e(".panel."+n.id).show();c.closest(".panelwrapper").show()}else n.$el.show();n.splitter.show()}else n.$el.show();if(i.$body.addClass("panelsVisible"),n.settings.show&&n.settings.show.call(n,!0),n.controlButton.addClass("active"),n.visible=!0,this.updateAriaState(),i.mobile&&window.matchMedia&&window.matchMedia("(max-height: 410px) and (max-width: 640px)").matches&&n.editor&&n.editor.focus(),i.mobile)return n.focus(),void n.trigger("show");setTimeout(function(){if(u&&(void 0!==t?n.splitter.trigger("init",t):n.distribute()),n.editor){if(n.virgin){var r=n.$el.find(".label").outerHeight();r+=8,i.mobile||e(n.editor.scroller).find(".CodeMirror-lines").css("padding-top",r),p(n,n.name)}n.virgin&&!o.editors.panels.ready||(n.editor.focus(),n.focus()),n.virgin&&n.settings.init&&setTimeout(function(){n.settings.init.call(n)},10)}else n.focus();l.trigger("sizeeditors"),n.trigger("show"),n.virgin=!1},0)}},hide:function(t){this.visible=!1,this.updateAriaState(),t?this.editor&&(getRenderedCode[this.id]=getRenderedCode.render(this.id)):s.hidePanel(this.id);var n=this.$el.find(".panel").length;if(0===n||n>1){var r=e(".panel."+this.id).hide();r.prev().hide(),0===r.closest(".panelwrapper").find(".panel:visible").length&&r.closest(".panelwrapper").hide()}else this.$el.hide(),this.splitter.hide();this.editor&&this.controlButton.toggleClass("hasContent",!!this.getCode().trim().length),this.controlButton.removeClass("active"),this.settings.hide&&this.settings.hide.call(this,!0);var a=o.editors.panels.getVisible();a.length&&(o.editors.panels.focused=a[0],o.editors.panels.focused.editor?o.editors.panels.focused.editor.focus():o.editors.panels.focused.$el.focus(),o.editors.panels.focused.focus()),!t&&i.mobile&&0===a.length&&(l.trigger("history:load"),e("#history").show(),setTimeout(function(){$body.removeClass("panelsVisible")},100)),this.trigger("hide"),t||(this.distribute(),l.trigger("sizeeditors"),l.trigger("history:open"))},toggle:function(){this[this.visible?"hide":"show"]()},getCode:function(){if(this.editor)return m.lastIndex=0,this.editor.getCode().replace(m,"")},setCode:function(e){this.editor&&(void 0===e&&(e=""),this.controlButton.toggleClass("hasContent",!!e.trim().length),this.codeSet=!0,this.editor.setCode(e.replace(m,"")))},codeSet:!1,blur:function(){this.$panel.addClass("blur")},focus:function(){this.$panel.removeClass("blur"),o.editors.panels.focus(this)},render:function(){"use strict";var e=[].slice.call(arguments),t=this;return new Promise(function(n,r){t.editor?t.processor(t.getCode()).then(n,r):t.visible&&t.settings.render&&(o.editors.panels.ready&&t.settings.render.apply(t,e),n())})},init:function(){this.settings.init&&this.settings.init.call(this)},_setupEditor:function(){var n=t.sessionStorage.getItem("panel")||i.settings.focusedPanel,r=this,o=r.editor;o.setCode=function(e){try{o.setValue(e)}catch(e){}},o.getCode=function(){return o.getValue()},o.currentLine=function(){var e=o.getCursor();return e.line},i.embed&&(o._focus=o.focus,o.focus=function(){}),o.id=r.name,o.win=o.getWrapperElement(),o.scroller=e(o.getScrollerElement());var a=r.$el.find(".label");-1===document.body.className.indexOf("ie6")&&a.length&&o.on("scroll",function(t){var n=o.getScrollInfo();n.top>10?a.stop().animate({opacity:0},20,function(){e(this).hide()}):a.show().stop().animate({opacity:1},150)});var s=null;l.bind("sizeeditors",function(){if(r.visible){var e=r.editor.scroller.closest(".panel").outerHeight(),t=0;s=r.$el.find("details"),t+=s.filter(":visible").height()||0,i.lameEditor||o.scroller.height(e-t);try{o.refresh()}catch(e){}setTimeout(function(){c[0].style.paddingLeft="1px",setTimeout(function(){c[0].style.paddingLeft="0"},0)},0)}}),setTimeout(function(){r.ready=!0,p(r,r.name),n==r.name&&setTimeout(function(){if(r.focus(),r.visible&&!i.mobile&&!i.tablet){o.focus();for(var e=o.getCode().split("\n"),n=null,a=0;a<e.length;a++)if(null===n&&""===e[a].trim()){n=a;break}o.setCursor({line:1*(t.sessionStorage.getItem("line")||n||0),ch:1*(t.sessionStorage.getItem("character")||0)})}},110)},0)},populateEditor:function(){p(this,this.name)},on:function(e,t){return(this._eventHandlers[e]=this._eventHandlers[e]||[]).push(t),this},trigger:function(e){var t=[].slice.call(arguments,1);t.unshift({type:e});for(var n=this._eventHandlers[e],r=0;n&&n[r];)n[r++].apply(this,t);return this}},n.set=function(t,r,o){var a=t.id;i.state.processors||(i.state.processors={});var s=r&&d[r]||d[a],l="jsx"!==r;if(t){t.trigger("processor",r||"none"),r&&n[r]?(i.state.processors[a]=r,t.processor=n[r](function(){t.editor.setOption("mode",s),t.editor.setOption("smartIndent",l),e("div.processorSelector").find("a").trigger("select",[r]),o&&o()})):(t.editor.setOption("mode",s),t.editor.setOption("smartIndent",l),t.processor=n.defaultProcessor,i.state.processors[a]=a,delete t.type);var c=s;"javascript"===s&&(c="js"),"htmlmixed"===s&&(c="html");var u=t.editor.getOption("lint");u&&t.editor.lintStop(),i.settings[c+"hint"]&&(t.editor.setOption("mode",s),"undefined"!=typeof hintingDone&&(t.editor.setOption("mode",s),hintingDone(t.editor)))}},o.editors.Panel=f}),e("skylark-jsbin-coder/editors/panels",["skylark-jquery","skylark-jsbin-base/storage","skylark-jsbin-processors","skylark-jsbin-renderer","../jsbin","./panel"],function(e,t,n,r,i,o){"use strict";var a={};function s(e){var t=["live","javascript","html","css","console"];return e.split(",").reduce(function(e,n){return"js"===n&&(n="javascript"),"output"===n&&(n="live"),-1!==t.indexOf(n)&&e.push(n),e},[])}a.getVisible=function(){var e=this.named,t=[];for(var n in e)e[n].visible&&t.push(e[n]);return t},a.save=function(){if(!i.embed){for(var e,n=this.getVisible(),r={},o="",a=i.$window.width(),s=0;s<n.length;s++)e=n[s],-1===(o=e.$el.css("left")).indexOf("%")&&(o=parseFloat(o)/a*100+"%"),r[e.name]=o;t.sessionStorage.setItem("jsbin.panels",JSON.stringify(r))}},a.restore=function(){var n=window.location,r=n.search.substring(1),o=n.hash.substring(1),l=[],c=i.embed?null:JSON.parse(t.sessionStorage.getItem("jsbin.panels")||"null"),u={javascript:a.named.javascript.getCode().length,css:a.named.css.getCode().length,html:a.named.html.getCode().length},d="",m=0,f=null,p=[],h="",g=!1,v=i.$window.width(),b=!!t.sessionStorage.getItem("panel"),y="live javascript html css console".split(" ");if(history.replaceState&&-1!==n.pathname.indexOf("/edit")||(n.origin,n.pathname,i.getURL()),r||o){var x=r||o;-1!==x.indexOf("&")?(x=function(t){var n={},r=/\+/g,i=(t=t.split("&")).length;i>1e3&&(i=1e3);for(var o=0;o<i;++o){var a,s,l,c,u=t[o].replace(r,"%20"),d=u.indexOf("=");d>=0?(a=u.substr(0,d),s=u.substr(d+1)):(a=u,s="");try{l=decodeURIComponent(a),c=decodeURIComponent(s)}catch(e){l=a,c=s}(window.hasOwnProperty?window.hasOwnProperty(n,l):n.hasOwnProperty(l))?e.isArray(n[l])?n[l].push(c):n[l]=[n[l],c]:n[l]=c}return n}(r||o),l=Object.keys(x).reduce(function(e,t){return-1!==t.indexOf(",")&&""===x[t]?e=s(t):("js"===t&&(x.javascript=x.js,t="javascript"),"output"===t&&(x.live=x.live,t="live"),void 0===x[t]&&(x[t]=""),-1!==y.indexOf(t)&&e.push(t+"="+x[t]),e)},[])):l=s(x)}if(0===l.length&&(l=null!==c?Object.keys(c):i.mobile?[i.settings.panels[0]]:i.settings.panels),0===l.length&&(u.javascript&&l.push("javascript"),u.html&&l.push("html"),u.css&&l.push("css"),l.push("live")),a.saveOnExit=!0,m=0,0===l.length&&(l=["html","live"]),l.length){for(d in c)-1!==l.indexOf(d)&&m++;for(m===l.length&&(g=!0),m=0;m<l.length;m++)h=null,-1!==(d=l[m]).indexOf("=")&&(h=d.substring(d.indexOf("=")+1),d=d.substring(0,d.indexOf("="))),a.named[d]?((f=a.named[d]).editor&&null!==h&&f.setCode(decodeURIComponent(h)),g&&l.length>1?f.show(v*parseFloat(c[d])/100):f.show(),p.push(f)):d&&null!==h&&function(e,t){var n=["html","javascript","css"],r=function(o,s){var l,c,u=a.named[s.panelId]||{};if(s.panelId&&u.editor&&!0===u.ready){n.splice(n.indexOf(s.panelId),1);try{l=u.getCode()}catch(e){}-1!==l.indexOf("%"+e+"%")&&(c=l.split("%"+e+"%"),l=c[0]+decodeURIComponent(t)+c[1],u.setCode(l),i.$document.unbind("codeChange",r))}0===n.length&&i.$document.unbind("codeChange",r)};i.$document.bind("codeChange",r)}(d,h);1===l.length&&"preview"===l[0]&&a.named.live.show(),g||this.distribute()}for(m=0;m<p.length;m++)p[m].init();var k=a.getVisible();k.length&&(i.$body.addClass("panelsVisible"),b||k[0].show())},a.savecontent=function(){var e,n;for(e in this.named)(n=this.named[e]).editor&&t.sessionStorage.setItem("jsbin.content."+e,n.getCode())},a.getHighlightLines=function(){var e,t=[],n="";for(name in a.named)(e=a.named[name]).editor&&(n=e.editor.highlightLines().string)&&t.push(name.substr(0,1).toUpperCase()+":L"+n);return t.join(",")},a.focus=function(t){this.focused=t,t&&e(".panel").removeClass("focus").filter("."+t.id).addClass("focus")},a.getQuery=function(){var e={javascript:"js",live:"output"},t=a.getVisible();return t.map(function(t){return e[t.id]||t.id}).join(",")},a.updateQuery=i.throttle(function(){var t=a.getQuery();i.state.code&&i.state.owner&&e.ajax({url:i.getURL({withRevision:!0})+"/settings",type:"PUT",data:{panels:visible.map(function(e){return e.id})},success:function(){}}),history.replaceState&&history.replaceState(null,null,"?"+t)},100);var l=!e("html").hasClass("layout");l||e("#source").removeClass("stretch"),a.distribute=function(){if(l){var t,n=e("#source .panelwrapper:visible"),r=100,o=0,s=i.$window.width()-(n.length-1),c=e("#source").outerHeight(),u=0,d=0,m=0,f=[];if(n.length){i.$body.addClass("panelsVisible"),r=100/n.length;for(var p=0;p<n.length;p++)t=e.data(n[p],"panel"),d=100-r*(p+1),t.$el.css({top:0,bottom:0,left:u+"%",right:d+"%"}),t.splitter.trigger("init",s*u/100),t.splitter[0==p?"hide":"show"](),u+=r,(f=e(n[p]).find(".panel")).length>1&&(m=0,f=f.filter(":visible"),o=100/f.length,f.each(function(t){bottom=100-o*(t+1);var n=a.named[e.data(this,"name")];e(this).css("top",m+"%"),e(this).css("bottom",bottom+"%"),n.splitter.hasClass("vertical")&&(n.splitter.trigger("init",c*m/100),n.splitter[0==t?"hide":"show"]()),m+=o}))}else i.embed||(e("#history").show(),setTimeout(function(){i.$body.removeClass("panelsVisible")},100))}},a.show=function(e){this.named[e].show(),this.named[e].editor&&this.named[e].editor.focus(),this.named[e].focus()},a.hide=function(t){e("#history");var n=this.named;n[t].visible&&n[t].hide();var r=n.getVisible();r.length&&(n.focused=r[0],n.focused.editor?n.focused.editor.focus():n.focused.$el.focus(),n.focused.focus())},a.hideAll=function(e){for(var t=a.getVisible(),n=t.length;n--;)t[n].hide(e)},o.prototype.distribute=function(){a.distribute()};var c={html:function(){return new o("html",{editor:!0,label:"HTML",init:function(){var e=this.editor.getValue().split("\n"),t=-1;e.forEach(function(e,n){-1===t&&0===e.trim().length&&(t=n)}),-1!==t&&(this.editor.setCursor({line:t,ch:2}),0===e[t].length&&this.editor.indentLine(t,"add"))}})},css:function(){return new o("css",{editor:!0,label:"CSS"})},javascript:function(){return new o("javascript",{editor:!0,label:"JavaScript"})},console:function(){return new o("console",{label:"Console"})},live:function(){return new o("live",{label:"Output",show:function(){a.ready&&h()},hide:function(){a.named.console.visible}})}};a.named={};a.named.html=c.html(),a.named.css=c.css(),a.named.javascript=c.javascript(),a.named.console=c.console(),a.named.live=c.live(),a.named.live.settings.render=function(e){a.ready&&h(e)},a.allEditors=function(e){var t,n;for(t in a.named)(n=a.named[t]).editor&&e(n)},setTimeout(function(){a.restore()},10),a.focus(a.getVisible()[0]||null);var u=setInterval(function(){var t,n,r=!0,o=null,s=window.location.hash.substring(1);for(n in a.named)if((t=a.named[n]).visible&&!t.ready){r=!1;break}if(a.ready=r,r){a.allEditors(function(e){var t=e.id.substr(0,1).toUpperCase()+":L";if(-1!==s.indexOf(t)){var n=s.match(new RegExp(t+"(\\d+(?:-\\d+)?)"));null!==n&&e.editor.highlightLines(n[1])}});var l=e("li.add-library"),c=e("li.run-with-js");a.named.live.on("hide",function(){l.show(),c.hide()}),a.named.live.on("show",function(){l.hide(),c.show()}),a.named.live.visible?a.named.live.trigger("show"):a.named.live.trigger("hide"),clearInterval(u),a.named.console.visible?a.named.console.render():h(),i.mobile||e(window).resize(function(){clearTimeout(o),o=setTimeout(function(){i.$document.trigger("sizeeditors")},100)}),i.$document.trigger("sizeeditors"),i.$document.trigger("jsbinReady")}},100);setTimeout(function(){a.restore()},10),a.focus(a.getVisible()[0]||null);var d=function(){a.ready&&a.named.console.render()},m=e("#panels"),f=(e("div.processorSelector").each(function(){var t=this.getAttribute("data-type"),r=e(this),i=r.closest(".label").find("strong a"),o=i.text();r.find("a").click(function(r){var s=a.named[t],l=m.find('a[href$="'+t+'"]');r.preventDefault();var c=this.hash.substring(1),u=e(this).text(),f=e(this).data("label");"convert"!==c?(l.html(f||u),i.html("<span>"+u+"</span>"),c===t?(n.reset(t),d()):n.set(t,c,d)):(i.text(o),l.html(o),s.render().then(function(e){n.reset(t),s.setCode(e)}))}).bind("select",function(n,r){if(r===this.hash.substring(1)){var o=m.find('a[href$="'+t+'"]'),a=e(this);i.html("<span>"+a.text()+"</span>"),o.html(a.data("label")||a.text())}})}),n.set);n.set=function(e,t,n){var r;r=e instanceof o?e:a.named[e],f(r,t,n)},n.reset=function(e){n.set(e)};var p=a.getRenderedCode=function(){!0;var e=["html","javascript","css"].reduce(function(e,t){return(!i.owner()||a.focused&&t===a.focused.id)&&(p[t]=p.render(t)),e.push(p[t]),e},[]);return Promise.all(e).then(function(e){var t={html:e[0],javascript:e[1],css:e[2]};return t}).catch(function(e){})};p.render=function(t){return new Promise(function(n,r){a.named[t].render().then(n,function(n){if(console.warn(a.named[t].processor.id+" processor compilation failed"),n||(n={}),e.isArray(n)){var i=a.named[t].editor;if(void 0!==i.updateLinting){hintingDone(i);var o=function(e){for(var t=[],n=0,r=0,i=0;i<e.length;i++)n=e[i].line||0,r=e[i].ch||0,t.push({from:{line:n,ch:r},to:{line:n,ch:r},message:e[i].msg,severity:"error"});return t}(n);i.updateLinting(o)}else console.warn(n)}else n.message?console.warn(n.message,n.stack):console.warn(n);r(n)})})};var h=a.renderLivePreview=function(n){window.postMessage&&(n&&(i.saveChecksum&&e.ajax({url:i.getURL()+"/reload",data:{code:i.state.code,revision:i.state.revision,checksum:i.saveChecksum},type:"post"}),i.state.hasBody=!1),p().then(function(e){i.settings.includejs;var o=a.getVisible(),s=o.indexOf(a.named.live)>-1,l=o.indexOf(a.named.console)>-1;(s||l)&&(i.settings.includejs&&t.sessionStorage.setItem("runnerPending",1),r.postMessage("render",{codes:e,options:{injectCSS:i.state.hasBody&&"css"===a.focused.id,requested:n,debug:i.settings.debug,includeJsInRealtime:i.settings.includejs}}),i.state.hasBody=!0)}))};return i.coder.editors.panels=a}),e("skylark-jsbin-coder/editors/mobile-keyboard",["skylark-jquery","../jsbin","./mobile-command-maps","./panels"],function(e,t,n,r){if(t.mobile&&!t.embed){var i={next:function(){},close:function(e){var t=r.focused.editor.textarea,n=function(e){if(e.selectionStart)return e.selectionStart;if(e.createTextRange){var t=e.createTextRange();return t.startOffset}}(t),i=t.value.substring(0,n).lastIndexOf(e);if(">"===e){for(var o=0;o>-1;){o=t.value.substring(0,i).lastIndexOf("<")+1;var a=t.value.substr(o,1);if("/"!==a){if("!"===a)return"";if(0===o)return"";break}var s=t.value.substr(o+1,t.value.substr(o).indexOf(">")-1);i=t.value.lastIndexOf("<"+s)}var l=t.value.substr(o,i).indexOf(e);return"</"+t.value.substr(o,l)+">$0"}},complete:function(){var e=r.focused;"html"===e.id||"css"===e.id?CodeMirror.commands["emmet.expand_abbreviation_with_tab"].call(null,e.editor):e.editor._hasCompletions&&e.editor._hasCompletions()?e.editor._showCompletion():CodeMirror.commands.autocomplete(e.editor),e.editor.focus()}},o={html:e(),css:e(),js:e(),console:e(),all:e()},a=e('<div id="strip"><div class="inner-strip"></div></div>');n.map(function(t){var n=e("<button>"),s=t.value,l=t.value.replace(/\$0/,"");t.callback||(t.callback=function(){return s});n.on("click",function(){var e=r.focused;if(e.editor){var n=e.editor.getCursor(),o=t.callback.call(i);if(null==o)return;var a=o.indexOf("$0");-1===a&&(a=0);var s=e.editor.cursorPosition().character+a;-1!==n&&(o=o.replace("$0","")),e.editor.replaceRange(o,n,n),e.editor.setCursor(s),e.editor.textarea.focus()}else"console"===e.id&&(e.setCursorTo(t.callback().replace("$0",""),!0),e.$el.click())}),n.html(escapeHTML(l)),a.find("div").append(n),t.panel&&("string"==typeof t.panel?o[t.panel]=o[t.panel].add(n):t.panel.forEach(function(e){o[e]=o[e].add(n)}),o.all=o.all.add(n))}),e("body").append(a);var s=function(e){return function(){o.all.hide(),o[e]&&o[e].show()}};$document.on("jsbinReady",function(){r.named.html.on("show",s("html")),r.named.css.on("show",s("css")),r.named.javascript.on("show",s("js")),r.named.console.on("show",s("console")),s("javascript"===r.focused.id?"js":r.focused.id)()})}}),e("skylark-jsbin-coder/editors/autocomplete",["skylark-jquery","../jsbin","../coder"],function(e,t,n){"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),"length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),"prototype apply call bind".split(" "),"break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" ");return n.editors.autocomplete={startTagComplete:function(e){if(e.somethingSelected())return;var t=e.getCursor(!1),n=e.getTokenAt(t),r=n;/^[\w$_]*$/.test(n.string)||(n=r={start:t.ch,end:t.ch,string:"",state:n.state,className:"."==n.string?"js-property":null});for(;"js-property"==r.className;){if("."!=(r=e.getTokenAt({line:t.line,ch:r.start})).string)return;if(r=e.getTokenAt({line:t.line,ch:r.start}),!i)var i=[];i.push(r)}return o="<></>",e.replaceRange(o,{line:t.line,ch:n.start},{line:t.line,ch:n.end}),e.focus(),e.setCursor({line:t.line,ch:n.end}),!0;var o}}}),e("skylark-jsbin-coder/editors/keycontrol",["skylark-jquery","../jsbin","../coder","./autocomplete","./panels"],function(e,t,n,r,i){var o=!1,a=t.objectValue("settings.keys",t)||{};function s(){t.settings.keys||(t.settings.keys={}),t.settings.keys.useAlt=this.checked,settings.save()}e("input.enablealt").attr("checked",!!a.useAlt).change(s),a.disabled?t.$body.addClass("nokeyboardshortcuts"):t.$body.keydown(u);var l={start:48},c=navigator.userAgent;-1!==c.indexOf(" Mac ")?e.browser.platform="mac":/windows|win32/.test(c)?e.browser.platform="win":/linux/.test(c)?e.browser.platform="linux":e.browser.platform="",a.disabled||t.$document.keydown(function(n){var r=a.useAlt?n.altKey:!n.altKey,o=a.closePanel?a.closePanel:48;if(n.ctrlKey&&"mac"!==e.browser.platform&&(n.metaKey=!0),n.metaKey&&79===n.which)e("a.homebtn").trigger("click","keyboard"),n.preventDefault();else if(n.metaKey&&n.shiftKey&&8===n.which)e("a.deletebin:first").trigger("click","keyboard"),n.preventDefault();else if(!t.embed&&n.metaKey&&83===n.which){if(!1===n.shiftKey)t.saveChecksum?(t.saveChecksum=!1,t.$document.trigger("snapshot")):e("a.save:first").click(),n.preventDefault();else if(!0===n.shiftKey){var s=e("#sharemenu");s.hasClass("open"),e("#sharemenu a").trigger("mousedown"),n.preventDefault()}}else n.which===o&&n.metaKey&&r&&i.focused?i.hide(i.focused.id):220===n.which&&(n.metaKey||n.ctrlKey)?(t.settings.hideheader=!t.settings.hideheader,t.$body[t.settings.hideheader?"addClass":"removeClass"]("hideheader")):76===n.which&&n.ctrlKey&&i.panels.console.visible&&(n.shiftKey?jsconsole.reset():jsconsole.clear())});function u(n){n=function(e){var t={type:e.type,which:e.which,metaKey:e.metaKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,orig:e};null!==e.which||null===e.charCode&&null===e.keyCode||(t.which=null!==e.charCode?e.charCode:e.keyCode);!e.metaKey&&e.ctrlKey&&(t.metaKey=e.ctrlKey);0===e.which&&!0===e.ctrlKey&&!0===e.shiftKey&&"keydown"===e.type&&(t.which=191);var n=e.stop;return t.stop=function(){t.stopping=!0,n&&n.call(e)},t}(n);var c={};i.focused&&i.focused.editor?c=i.focused.editor:i.focused&&(c=i.focused);var u={css:1,javascript:1,html:1}[c.id],d=!1,m=a.useAlt?n.altKey:!n.altKey;if("keydown"===n.type){if(u&&n.metaKey&&13===n.which&&(i.named.console.visible&&!i.named.live.visible?(d=!0,e("#runconsole").trigger("click","keyboard")):(i.named.live.visible,e("#runwithalerts").trigger("click","keyboard"),d=!0),d?n.stop():sendReload()),void 0!==l[n.which]&&n.metaKey&&m)if(i.focused.id===l[n.which])i.hide(l[n.which]),n.stop();else if(i.show(l[n.which]),n.stop(),!(a.useAlt||t.settings.keys&&t.settings.keys.seenWarning)){var f="mac"===e.browser.platform?"cmd":"ctrl";t.settings.keys||(t.settings.keys={}),t.settings.keys.seenWarning=!0,t.$document.trigger("tip",{type:"notification",content:'<label><input type="checkbox" class="enablealt"> <strong>Turn this off</strong>. Reserve '+f+"+[n] for switching browser tabs and use "+f+"+<u>alt</u>+[n] to switch JS Bin panels. You can access this any time in <strong>Help&rarr;Keyboard</strong></label>"}),e("#tip").delegate("input.enablealt","click",function(){s.call(this),window.location.reload()})}if(191===n.which&&n.metaKey&&n.shiftKey)opendropdown(e("#help").prev()[0]),n.stop();else if(27===n.which&&o)t.$body.removeClass("keyboardHelp"),o=!1,n.stop();else if(27===n.which&&i.focused&&u);else if(190===n.which&&m&&n.metaKey&&"html"===c.id){if(c.somethingSelected())return;var p=c.getCursor(!1),h=c.getTokenAt(p);/^[\w$_]*$/.test(h.string)||(h={start:p.ch,end:p.ch,string:"",state:h.state,className:"."===h.string?"js-property":null}),c.replaceRange("</"+h.state.htmlState.context.tagName+">",{line:p.line,ch:h.end},{line:p.line,ch:h.end}),n.stop()}else if(188===n.which&&n.ctrlKey&&n.shiftKey&&u)return n.stop(),r.startTagComplete(c)}if(n.stopping)return!1}return n.editors.keycontrol=u}),e("skylark-jsbin-coder/editors/libraries",["skylark-jquery","skylark-jsbin-base/storage","../jsbin","../coder"],function(e,t,n,r){var i=[{url:"https://code.jquery.com/jquery-git.js",label:"jQuery WIP (via git)",group:"jQuery"},{url:"https://code.jquery.com/jquery-3.1.0.js",label:"jQuery 3.1.0",group:"jQuery"},{url:"https://code.jquery.com/jquery-3.0.0.js",label:"jQuery 3.0.0",group:"jQuery"},{url:"https://code.jquery.com/jquery-2.2.4.js",label:"jQuery 2.2.4",group:"jQuery"},{url:"https://code.jquery.com/jquery-2.1.4.js",label:"jQuery 2.1.4",group:"jQuery"},{url:"https://code.jquery.com/jquery-2.0.3.js",label:"jQuery 2.0.3",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.12.4.js",label:"jQuery 1.12.4",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.11.3.js",label:"jQuery 1.11.3",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.10.2.js",label:"jQuery 1.10.2",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.9.1.js",label:"jQuery 1.9.1",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.8.3.js",label:"jQuery 1.8.3",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.7.2.js",label:"jQuery 1.7.2",group:"jQuery"},{url:"https://code.jquery.com/jquery-1.6.4.js",label:"jQuery 1.6.4",group:"jQuery"},{url:["https://code.jquery.com/ui/jquery-ui-git.css","https://code.jquery.com/jquery-git.js","https://code.jquery.com/ui/jquery-ui-git.js"],label:"jQuery UI WIP (via git)",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-3.1.0.js","https://code.jquery.com/ui/1.12.1/jquery-ui.js"],label:"jQuery UI 1.12.1",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-1.12.4.js","https://code.jquery.com/ui/1.11.4/jquery-ui.js"],label:"jQuery UI 1.11.4",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-1.11.3.js","https://code.jquery.com/ui/1.10.4/jquery-ui.js"],label:"jQuery UI 1.10.4",group:"jQuery UI"},{url:["https://code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css","https://code.jquery.com/jquery-1.8.3.js","https://code.jquery.com/ui/1.9.2/jquery-ui.js"],label:"jQuery UI 1.9.2",group:"jQuery UI"},{url:["https://code.jquery.com/mobile/git/jquery.mobile-git.css","https://code.jquery.com/jquery-1.11.3.js","https://code.jquery.com/mobile/git/jquery.mobile-git.js"],label:"jQuery Mobile WIP (via git)",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.css","https://code.jquery.com/jquery-1.11.3.js","https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.js"],label:"jQuery Mobile 1.4.2",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.css","https://code.jquery.com/jquery-1.9.1.js","https://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.js"],label:"jQuery Mobile 1.3.2",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.css","https://code.jquery.com/jquery-1.8.3.js","https://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.js"],label:"jQuery Mobile 1.2.1",group:"jQuery Mobile"},{url:["https://code.jquery.com/mobile/1.1.2/jquery.mobile-1.1.2.css","https://code.jquery.com/jquery-1.6.4.js","https://code.jquery.com/mobile/1.1.2/jquery.mobile-1.1.2.js"],label:"jQuery Mobile 1.1.2",group:"jQuery Mobile"},{url:["https://code.jquery.com/jquery.min.js","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"],label:"Bootstrap Latest",group:"Bootstrap"},{url:["https://code.jquery.com/jquery.min.js","https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css","https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"],label:"Bootstrap 2.3.2",group:"Bootstrap"},{url:"https://ajax.googleapis.com/ajax/libs/prototype/1/prototype.js",label:"Prototype latest",group:"Prototype"},{url:"https://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js",label:"Prototype 1.7.1",group:"Prototype"},{url:"https://ajax.googleapis.com/ajax/libs/prototype/1.6.1.0/prototype.js",label:"Prototype 1.6.1.0",group:"Prototype"},{url:["https://ajax.googleapis.com/ajax/libs/prototype/1/prototype.js","https://ajax.googleapis.com/ajax/libs/scriptaculous/1/scriptaculous.js"],label:"script.aculo.us latest",group:"Prototype"},{url:["https://ajax.googleapis.com/ajax/libs/prototype/1/prototype.js","https://ajax.googleapis.com/ajax/libs/scriptaculous/1.8.3/scriptaculous.js"],label:"script.aculo.us 1.8.3",group:"Prototype"},{url:"http://yui.yahooapis.com/3.10.0/build/yui/yui.js",label:"YUI 3.10.0",group:"YUI"},{url:"http://yui.yahooapis.com/2.9.0/build/yuiloader/yuiloader-min.js",label:"YUI 2.9.0",group:"YUI"},{url:"https://ajax.googleapis.com/ajax/libs/mootools/1.5.0/mootools-yui-compressed.js",label:"MooTools 1.5.0",group:"MooTools"},{url:"https://ajax.googleapis.com/ajax/libs/mootools/1.5.0/mootools-nocompat-yui-compressed.js",label:"MooTools 1.5.0 (without 1.2+ compatibility layer)",group:"MooTools"},{url:"https://ajax.googleapis.com/ajax/libs/mootools/1.4.5/mootools-yui-compressed.js",label:"MooTools 1.4.5",group:"MooTools"},{url:"https://ajax.googleapis.com/ajax/libs/dojo/1/dojo/dojo.js",label:"Dojo latest",group:"Dojo"},{url:"https://ajax.googleapis.com/ajax/libs/dojo/1.8/dojo/dojo.js",label:"Dojo 1.8.4",group:"Dojo"},{url:"https://ajax.googleapis.com/ajax/libs/dojo/1.7/dojo/dojo.js",label:"Dojo 1.7.4",group:"Dojo"},{url:["https://ajax.googleapis.com/ajax/libs/dojo/1/dijit/themes/claro/claro.css","https://ajax.googleapis.com/ajax/libs/dojo/1/dojo/dojo.js"],label:"Dijit latest (Claro)",group:"Dojo"},{url:["https://ajax.googleapis.com/ajax/libs/dojo/1.8.4/dijit/themes/claro/claro.css","https://ajax.googleapis.com/ajax/libs/dojo/1.8.4/dojo/dojo.js"],label:"Dijit 1.8.4 (Claro)",group:"Dojo"},{url:["https://ajax.googleapis.com/ajax/libs/dojo/1.7.4/dijit/themes/claro/claro.css","https://ajax.googleapis.com/ajax/libs/dojo/1.7.4/dojo/dojo.xd.js"],label:"Dijit 1.7.4 (Claro)",group:"Dojo"},{url:["https://da7xgjtj801h2.cloudfront.net/2015.2.624/styles/kendo.common.min.css","https://da7xgjtj801h2.cloudfront.net/2015.2.624/styles/kendo.silver.min.css","https://code.jquery.com/jquery-2.1.4.min.js","https://da7xgjtj801h2.cloudfront.net/2015.2.624/js/kendo.ui.core.min.js"],label:"Kendo UI Core 2015.2.624",group:"Kendo UI"},{url:["https://da7xgjtj801h2.cloudfront.net/2014.3.1411/styles/kendo.common.min.css","https://da7xgjtj801h2.cloudfront.net/2014.3.1411/styles/kendo.default.min.css","https://code.jquery.com/jquery-1.9.1.min.js","https://da7xgjtj801h2.cloudfront.net/2014.3.1411/js/kendo.ui.core.min.js"],label:"Kendo UI Core 2014.3.1411",group:"Kendo UI"},{url:["https://code.jquery.com/qunit/qunit-git.css","https://code.jquery.com/qunit/qunit-git.js"],label:"QUnit",group:"Testing"},{url:["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.js"],label:"RequireJS",group:"AMD"},{url:"http://zeptojs.com/zepto.min.js",label:"Zepto latest",group:"Zepto"},{url:"https://cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.min.js",label:"Zepto 1.0",group:"Zepto"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js",label:"Angular 1.4.0 Stable",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.js",label:"Angular 1.4.0 Stable Uncompressed",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js",label:"Angular 1.3.15 Stable",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js",label:"Angular 1.3.15 Stable Uncompressed",group:"Angular"},{url:"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js",label:"Angular 1.2.26 Legacy",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular/master/angular.min.js",label:"Angular Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular/master/angular.js",label:"Angular Latest Uncompressed",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-animate/master/angular-animate.min.js",label:"Angular Animate Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-aria/master/angular-aria.min.js",label:"Angular Aria Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-messages/master/angular-messages.min.js",label:"Angular Messages Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-resource/master/angular-resource.min.js",label:"Angular Resource Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-route/master/angular-route.min.js",label:"Angular Route Latest",group:"Angular"},{url:"https://rawgit.com/angular/bower-angular-sanitize/master/angular-sanitize.min.js",label:"Angular Sanitize Latest",group:"Angular"},{url:["https://fb.me/react-15.1.0.js","https://fb.me/react-dom-15.1.0.js"],label:"React + React DOM 15.1.0",group:"React"},{url:["https://fb.me/react-with-addons-15.1.0.js","https://fb.me/react-dom-15.1.0.js"],label:"React with Add-Ons + React DOM 15.1.0",group:"React"},{url:["https://fb.me/react-0.14.7.js","https://fb.me/react-dom-0.14.7.js"],label:"React + React DOM 0.14.7",group:"React"},{url:["https://fb.me/react-with-addons-0.14.7.js","https://fb.me/react-dom-0.14.7.js"],label:"React with Add-Ons + React DOM 0.14.7",group:"React"},{url:"https://fb.me/react-0.13.3.js",label:"React 0.13.3",group:"React"},{url:"https://fb.me/react-with-addons-0.13.3.js",label:"React with Add-Ons 0.13.3",group:"React"},{url:"https://cdn.rawgit.com/zloirock/core-js/master/client/shim.min.js",label:"core-js",group:"shims"},{url:"https://cdnjs.cloudflare.com/ajax/libs/es5-shim/2.0.8/es5-shim.min.js",label:"ES5 shim 2.0.8",group:"shims"},{url:"https://cdnjs.cloudflare.com/ajax/libs/blissfuljs/1.0.2/bliss.min.js",label:"Bliss 1.0.2"},{url:"https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.16/vue.js",label:"Vue.js 1.0.16"},{url:"https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js",label:"Vue.js 2.0.3"},{url:"http://cdn.ractivejs.org/latest/ractive.js",label:"Ractive.js"},{url:["http://nightly.enyojs.com/latest/enyo-nightly/enyo.css","http://nightly.enyojs.com/latest/enyo-nightly/enyo.js","http://nightly.enyojs.com/latest/lib/layout/package.js","http://nightly.enyojs.com/latest/lib/onyx/package.js","http://nightly.enyojs.com/latest/lib/g11n/package.js","http://nightly.enyojs.com/latest/lib/canvas/package.js"],label:"Enyo latest",group:"Enyo"},{url:["http://enyojs.com/enyo-2.2.0/enyo.css","http://enyojs.com/enyo-2.2.0/enyo.js","http://enyojs.com/enyo-2.2.0/lib/layout/package.js","http://enyojs.com/enyo-2.2.0/lib/onyx/package.js","http://enyojs.com/enyo-2.2.0/lib/g11n/package.js","http://enyojs.com/enyo-2.2.0/lib/canvas/package.js"],label:"Enyo 2.2.0",group:"Enyo"},{url:"https://cdnjs.cloudflare.com/ajax/libs/bluebird/1.2.2/bluebird.js",label:"Bluebird 1.2.2",group:"Promises"},{url:"https://www.promisejs.org/polyfills/promise-4.0.0.js",label:"Promise 4.0.0",group:"Promises"},{url:"https://cdnjs.cloudflare.com/ajax/libs/q.js/1.0.1/q.js",label:"Q 1.0.1",group:"Promises"},{url:["https://rawgithub.com/ai/autoprefixer-rails/master/vendor/autoprefixer.js"],label:"Autoprefixer",snippet:'<style type="unprocessed" id="AutoprefixerIn">%css%</style>\n<style id="AutoprefixerOut"></style>\n<script>\nAutoprefixerSettings = ""; //Specify here the browsers you want to target or leave empty\ndocument.getElementById("AutoprefixerOut").innerHTML = autoprefixer(AutoprefixerSettings || null).process(document.getElementById("AutoprefixerIn").innerHTML).css;\n<\/script>'},{url:["https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js","https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"],label:"Backbone 1.1.2"},{url:["https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js","https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js","http://marionettejs.com/downloads/backbone.marionette.min.js"],label:"MarionetteJS latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js",label:"Bonsai 0.4.latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.9.2/coffee-script.min.js",label:"CoffeeScript"},{url:["https://code.jquery.com/jquery-1.11.1.min.js","//builds.emberjs.com/tags/v1.13.5/ember-template-compiler.js","//builds.emberjs.com/tags/v1.13.5/ember.debug.js"],label:"Ember.js 1.13.5",group:"Ember"},{url:"//builds.emberjs.com/tags/v1.13.6/ember-data.js",label:"Ember Data 1.13.6",group:"Ember"},{url:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css",label:"Normalize.css 3.0.2"},{url:["//extjs.cachefly.net/ext-3.1.0/resources/css/ext-all.css","https://cdnjs.cloudflare.com/ajax/libs/ext-core/3.1.0/ext-core.min.js"],label:"ext-core 3.1.0"},{url:["https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/normalize.min.css","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/modernizr.js","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/jquery.js","https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"],label:"Foundation 5.5.2"},{url:"https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.js",label:"Handlebars.js 1.0.0"},{url:"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js",label:"Knockout 3.3.0"},{url:"https://cdnjs.cloudflare.com/ajax/libs/less.js/1.3.3/less.min.js",label:"Less 1.3.3"},{url:"https://cdn.jsdelivr.net/lodash/4/lodash.min.js",label:"lodash 4.x",group:"Lodash"},{url:"https://cdn.jsdelivr.net/g/lodash@4(lodash.min.js+lodash.fp.min.js)",label:"lodash fp 4.x",group:"Lodash"},{url:"https://cdn.jsdelivr.net/lodash/3/lodash.min.js",label:"lodash 3.x",group:"Lodash"},{url:"http://modernizr.com/downloads/modernizr-latest.js",label:"Modernizr Development latest"},{url:["https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js","https://cdnjs.cloudflare.com/ajax/libs/detectizr/1.5.0/detectizr.min.js"],label:"Detectizr 1.5.0"},{url:"https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js",label:"Prefixfree 1.0.7"},{url:"https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.1/processing-api.min.js",label:"Processing 1.4.1"},{url:"https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js",label:"D3 4.2.3",group:"D3"},{url:"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js",label:"D3 3.5.6",group:"D3"},{url:"//code.highcharts.com/highcharts.js",label:"Highcharts latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js",label:"Rapha&euml;l 2.1.0"},{url:["//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js","//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css"],label:"Chartist.js latest"},{url:"https://cdnjs.cloudflare.com/ajax/libs/sammy.js/0.7.4/sammy.min.js",label:"Sammy 0.7.4"},{url:["http://cdn.sencha.io/touch/1.1.0/resources/css/sencha-touch.css","http://cdn.sencha.io/touch/1.1.0/sencha-touch.js"],label:"Sencha Touch"},{url:[n.static+"/js/vendor/traceur.js"],label:"Traceur"},{url:"//remy.github.io/twitterlib/twitterlib.min.js",label:"TwitterLib"},{url:"//jashkenas.github.io/underscore/underscore-min.js",label:"underscore"},{url:["https://code.jquery.com/jquery.min.js","//canjs.com/release/2.0.3/can.jquery.min.js"],label:"CanJS 2.0.3"},{url:["https://cdnjs.cloudflare.com/ajax/libs/three.js/r82/three.min.js"],label:"Three.js r82"},{url:["https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"],label:"HTML5 shiv"},{url:["https://cdnjs.cloudflare.com/ajax/libs/polymer/0.3.3/platform.js","https://cdnjs.cloudflare.com/ajax/libs/polymer/0.3.3/polymer.js"],label:"Polymer 0.3.3"},{url:["https://code.getmdl.io/1.2.1/material.indigo-pink.min.css","https://code.getmdl.io/1.2.1/material.min.js","https://fonts.googleapis.com/icon?family=Material+Icons"],label:"Material Design Lite 1.2.1"},{url:"//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css",label:"Font Awesome 4.0.3"},{url:"https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.12/paper.js",label:"Paper.js 0.9.12"},{url:{url:"https://openui5.hana.ondemand.com/resources/sap-ui-core.js",id:"sap-ui-bootstrap","data-sap-ui-theme":"sap_belize","data-sap-ui-libs":"sap.m"},label:"OpenUI5 CDN (belize Theme, mobile library)"},{url:"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.11.7/TweenMax.min.js",label:"GSAP 1.11.7"},{url:"https://cdnjs.cloudflare.com/ajax/libs/phaser/2.0.5/phaser.min.js",label:"Phaser 2.0.5"},{url:["//vjs.zencdn.net/5.11/video-js.css","//vjs.zencdn.net/5.11/video.js"],label:"Video.js 5.11.x"},{url:["https://aui-cdn.atlassian.com/aui-adg/5.7.0/js/aui.js","https://aui-cdn.atlassian.com/aui-adg/5.7.0/css/aui.css","https://aui-cdn.atlassian.com/aui-adg/5.7.0/js/aui-experimental.js","https://aui-cdn.atlassian.com/aui-adg/5.7.0/css/aui-experimental.css"],label:"AUI (Atlassian UI) 5.7.0"},{url:"https://cdn.firebase.com/js/client/2.0.2/firebase.js",label:"Firebase 2.0.2"},{url:["https://code.ionicframework.com/1.0.0-beta.13/js/ionic.bundle.min.js","https://code.ionicframework.com/1.0.0-beta.13/css/ionic.min.css"],label:"Ionic 1.0.0-beta-13"},{url:"//static.opentok.com/v2/js/opentok.min.js",label:"OpenTok v2.x (latest)"},{url:"https://cdn.jsdelivr.net/riot/2.6/riot+compiler.min.js",label:"Riot + Compiler (latest 2.6.x)"},{url:["https://unpkg.com/blaze/dist/blaze.min.css","https://unpkg.com/blaze/dist/blaze.colors.min.css"],label:"Blaze CSS (latest)"},{url:"https://unpkg.com/@reactivex/rxjs@5.0.3/dist/global/Rx.js",label:"RxJS 5.0.3",group:"RxJS"},{url:"https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.all.js",label:"rx.all 4.0.6",group:"RxJS"},{url:"https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.all.compat.js",label:"rx.all.compat 4.0.6",group:"RxJS"},{url:"https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.testing.js",label:"rx.testing 4.0.6",group:"RxJS"},{url:"https://unpkg.com/rx-dom@7.0.3/dist/rx.dom.js",label:"rx.dom 7.0.3 (requires 4.x)",group:"RxJS"},{url:"http://cdn.popcornjs.org/code/dist/popcorn.min.js",label:"Popcorn.js 1.5.6 (Core)",group:"Popcorn.js"},{url:"http://cdn.popcornjs.org/code/dist/popcorn-complete.min.js",label:"Popcorn.js 1.5.6 (Core + Extensions)",group:"Popcorn.js"},{url:"https://cdnjs.cloudflare.com/ajax/libs/immutable/3.7.3/immutable.min.js",label:"Immutable 3.7.3",group:"Data structures"},{url:"https://cdnjs.cloudflare.com/ajax/libs/mori/0.3.2/mori.js",label:"mori 0.3.2",group:"Data structures"},{url:"https://cdnjs.cloudflare.com/ajax/libs/ramda/0.22.1/ramda.min.js",label:"Ramda 0.22.1"},{url:["https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css","https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.js"],label:"Semantic UI 2.2.2"},{url:"https://cdn.jsdelivr.net/pouchdb/latest/pouchdb.min.js",label:"PouchDB (latest)",group:"PouchDB"},{url:"https://cdn.jsdelivr.net/momentjs/2.14.1/moment-with-locales.min.js",label:"Moment 2.14.1",group:"Moment.js"},{url:["https://cdn.jsdelivr.net/momentjs/2.14.1/moment-with-locales.min.js","https://cdn.jsdelivr.net/momentjs/2.14.1/locales.min.js"],label:"Moment 2.14.1 (with locales)",group:"Moment.js"},{url:"//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js",label:"Velocity JS 1.2.3",group:"Velocity"},{url:"//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js",label:"Velocity UI Pack 1.2.3",group:"Velocity"}];window.libraries=i,i.userSpecified=JSON.parse(t.localStorage.getItem("libraries")||"[]");for(var o=0;o<i.userSpecified.length;o++)i.push(i.userSpecified[o]);return i.add=function(n){n.scripts?n.scripts.forEach(function(e){e.group=n.text,e.label=e.text,i.userSpecified.push(e),i.push(e)}):(n.group="Custom",i.userSpecified.push(n),i.push(n));try{t.localStorage.setItem("libraries",JSON.stringify(this.userSpecified))}catch(e){}e("#library").trigger("init")},i.clear=function(){i.userSpecified=[],t.localStorage.removeItem("libraries");for(var n=i.length,r=0;r<n;r++)"Custom"===i[r].group&&(i.splice(r,1),n--);e("#library").trigger("init")},r.editors.libraries=i}),e("skylark-jsbin-coder/editors/library",["skylark-jquery","../jsbin","../coder","./panels","./libraries","../chrome/analytics"],function(e,t,n,r,i,o){var a=e("#library, #alt-library"),s={};function l(e,t,n){var r=new RegExp(t+"=('|\").+."+n+"\\1");return function(t){var n=t.match(r);return e+"("+n[0]+")"}}a.bind("init",function(){var e=0,t=0,n={},r=[],o={},l="",c="";for(s={},a.empty(),e=0;e<i.length;e++)n=i[e],l=n.group||"Other",c=l.toLowerCase().replace(/[^a-z0-9]/gi,""),-1===r.indexOf(c)?(o={label:l,libraries:[],key:c},s[c]=o,r.push(c)):o=s[c],o.libraries.push(n);var u=['<option value="none">None</option>'];for(e=0;e<r.length;e++)for(o=s[r[e]],u.push('<option value="" data-group="'+o.label+'" class="heading">-------------</option>'),t=0;t<o.libraries.length;t++)n=o.libraries[t],u.push('<option value="'+o.key+":"+t+'">'+n.label+"</option>");a.html(u.join(""))}).trigger("init"),a.bind("change",function(){if(this.value){var t=this.value.split(":"),n=s[t[0]],i=n.libraries[t[1]];o.library("select",n.libraries[t[1]].label),function(t){e.isArray(t)||(t=[t]);var n,i,o,a=0,s=t.length,l="",c=r.named.html.getCode(),p={line:r.named.html.editor.currentLine(),character:r.named.html.editor.getCursor().ch,add:0},h=[],g="",v={},b={rel:"stylesheet",type:"text/css"};for(a=0;a<s;a++){for(var y in l=t[a],e.isPlainObject(l)?(o=l,l=l.url,delete o.url):o={},g=l.split("/").pop(),o=e.extend({},f(g)?b:v,o),i="",o)i+=" "+y+'="'+o[y]+'"';g&&c.indexOf(g+'"')&&(c=f(g)?c.replace(new RegExp('<link.*href=".*?/'+g+'".*?/>\n?'),""):c.replace(new RegExp('<script.*src=".*?/'+g+'".*?><\/script>\n?'),""),p.add--),n=f(l)?'<link href="'+l+'"'+i+" />":'<script src="'+l+'"'+i+"><\/script>",m()&&(n=f(l)?d(n):u(n)),h.push(n),p.add++}if(m()){var x=(c.match(/html.*\n(\s*)\S?/i)||[,])[1];c=c.trim()+"\n"+x+h.join("\n"+x).trim()}else if(-1!==c.indexOf("<head")){var k=c.split("\n");k.splice(p.line,0,h.join("\n")),c=k.join("\n")}else c=h.join("\n")+c;r.named.html.setCode(c),r.named.html.editor.setCursor({line:p.line+p.add,ch:p.character})}(i.url),i.snippet&&function(e){var t=r.named.html.getCode(),n={line:r.named.html.editor.currentLine(),character:r.named.html.editor.getCursor().ch,add:0};t=-1!==t.indexOf("</head")?t.replace(/<\/head>/i,e+"\n</head>"):e+"\n"+t;r.named.html.setCode(t),r.named.html.editor.setCursor({line:n.line+n.add,ch:n.character})}(i.snippet)}}).on("click",function(){o.library("open")});var c,u=l("script","src","js"),d=(c=l("link","href","css"),function(e){var t=c(e);return t.split('" ').join('",')});function m(){return"jade"===t.state.processors.html}function f(e){return e.length-(e.lastIndexOf(".css")+4)==0}}),e("skylark-jsbin-coder/editors/tern",["skylark-jquery","../jsbin","../coder","./codemirror"],function(e,t,n,r){"use strict"}),e("skylark-jsbin-coder/editors/addons",["skylark-jquery","../jsbin","../coder","./codemirror","./panels","./tern"],function(e,t,n,r,i){"use strict";if(!t.embed&&!t.mobile){var o=t.state.processors;t.settings.addons||(t.settings.addons={closebrackets:!0,highlight:!1,vim:!1,emacs:!1,trailingspace:!1,fold:!1,sublime:!1,tern:!1,activeline:!0,matchbrackets:!1});var a="open"in document.createElement("details"),s={},l={};["js","html","coffeescript","css"].forEach(function(e){var n=e+"hint",r=!1;"js"===e&&(r=!0),s[n]=void 0!==t.settings[n]?t.settings[n]:r}),(l=e.extend({},{console:!0,line:!1,under:!1,gutter:!1},t.settings.hintShow)).tooltip=l.gutter;var c=e.extend({},t.settings.addons,s),u={closebrackets:{url:[],test:h("autoCloseBrackets"),done:function(e){p(e,"autoCloseBrackets",!0)}},highlight:{url:[],test:h("highlightSelectionMatches"),done:function(e){p(e,"highlightSelectionMatches",!0)}},vim:{url:[],test:h("vimMode"),done:function(e){p(e,"vimMode",!0),p(e,"showCursorWhenSelecting",!0)}},emacs:{url:[],test:function(){return r.keyMap.emacs},done:function(e){p(e,"keyMap","emacs")}},matchtags:{url:[],test:function(){return r.scanForClosingTag&&r.optionHandlers.matchTags},done:function(e){p(e,"matchTags",{bothTags:!0}),e.addKeyMap({"Ctrl-J":"toMatchingTag"})}},trailingspace:{url:[],test:h("showTrailingSpace"),done:function(e){p(e,"showTrailingSpace",!0)}},fold:{url:[],test:function(){return r.helpers.fold&&r.optionHandlers.foldGutter&&r.optionHandlers.gutters},done:function(e){d.addClass("code-fold"),e.addKeyMap({"Ctrl-Q":function(e){e.foldCode(e.getCursor())}}),p(e,"foldGutter",!0);var t=e.getOption("gutters"),n=t.slice();n.push("CodeMirror-foldgutter"),p(e,"gutters",n)}},sublime:{url:[],test:function(){return r.keyMap.sublime},done:function(t){p(t,"keyMap","sublime");var n="mac"===e.browser.platform?"Cmd":"Ctrl";delete r.keyMap.sublime[n+"-L"],delete r.keyMap.sublime[n+"-T"],delete r.keyMap.sublime[n+"-W"],delete r.keyMap.sublime[n+"-J"],delete r.keyMap.sublime[n+"-R"],delete r.keyMap.sublime[n+"-Enter"],delete r.keyMap.sublime[n+"-Up"],delete r.keyMap.sublime[n+"-Down"],r.keyMap.sublime["Shift-Tab"]="indentAuto",t.removeKeyMap("noEmmet")}},tern:{url:[],test:function(){return void 0!==window.ternBasicDefs&&r.showHint&&r.TernServer&&r.startTern},done:function(){r.startTern()}},activeline:{url:[],test:function(){return void 0!==r.defaults.styleActiveLine},done:function(e){p(e,"styleActiveLine",!0)}},matchbrackets:{url:[],test:function(){return void 0!==r.defaults.matchBrackets},done:function(e){p(e,"matchBrackets",!0)}},csshint:{url:[],test:function(){return g("css")&&"undefined"!=typeof CSSLint},done:function(e){"css"===e.getOption("mode")&&(void 0!==o.css&&"css"!==o.css||hintingDone(e))}},jshint:{url:[],test:function(){return g("javascript")&&"undefined"!=typeof JSHINT},done:function(e){"javascript"===e.getOption("mode")&&(void 0!==o.javascript&&"javascript"!==o.javascript||hintingDone(e,{eqnull:!0}))}},htmlhint:{url:[],test:function(){return g("htmlmixed")&&"undefined"!=typeof HTMLHint},done:function(e){"htmlmixed"===e.getOption("mode")&&(void 0!==o.html&&"html"!==o.html||hintingDone(e))}},coffeescripthint:{url:[],test:function(){return g("coffeescript")&&"undefined"!=typeof coffeelint},done:function(e){"coffeescript"===e.getOption("mode")&&"coffeescript"===t.state.processors.javascript&&hintingDone(e)}}},d=e("body");window.hintingDone=function(n,r){var i=n.getOption("mode");"javascript"===i&&(i="js"),"htmlmixed"===i&&(i="html");var o=e.extend({},l);if(o.consoleParent=n.getWrapperElement().parentNode.parentNode,p(n,"lintOpt",o),o.gutter){var s=n.getOption("gutters");if(-1===s.indexOf("CodeMirror-lint-markers")){var c=s.slice();c.push("CodeMirror-lint-markers"),p(n,"gutters",c)}var u=n.getOption("lineNumbers");p(n,"lineNumbers",!u),p(n,"lineNumbers",u)}p(n,"lint",{delay:800,options:e.extend({},r,t.settings[i+"hintOptions"])}),o.console&&n.consolelint&&($document.trigger("sizeeditors"),e(n.consolelint.head).on("click",function(){a||e(this).nextAll().toggle(),setTimeout(function(){$document.trigger("sizeeditors")},10)}))};var m=Object.keys(c);m.forEach(v),window.reloadAddons=function(e){e?e.forEach(v):m.forEach(v)}}function f(n){if(0!==n.indexOf("http")&&(n=t.static+n),".js"===n.slice(-3))return e.ajax({url:n+"?"+t.version,dataType:"script",cache:!0});if(".css"===n.slice(-4)){var r=e.Deferred();return setTimeout(function(){d.append('<link rel="stylesheet" href="'+n+"?"+t.version+'">'),r.resolve()},0),r}}function p(e,t,n){e.setOption(t,n)}function h(e){return function(){return void 0!==r.optionHandlers[e]}}function g(e){return void 0!==r.defaults.lint&&r.helpers.lint&&r.helpers.lint[e]&&r.optionHandlers.lint}function v(t){var n=u[t];n&&c[t]&&("string"==typeof n.url&&(n.url=[n.url]),e.when.call(e,n.url.map(f)).done(function(){n.done&&function(t){var n=e.Deferred(),r=null;if(t())n.resolve();else{var i=(new Date).getTime(),o=new Date;r=setInterval(function(){o=new Date,t()?(clearInterval(r),n.resolve()):o.getTime()-i>1e4&&(clearInterval(r),n.reject())},100)}return n}(n.test).then(function(){i.allEditors(function(e){e.editor&&n.done(e.editor)})})}))}}),e("skylark-jsbin-coder/updateTitle",["skylark-jquery","./jsbin"],function(e,t){function n(r){"use strict";void 0===r&&(r=t.panels.panels.html.getCode());var i=r.match(n.re);null!==i&&i[1]!==documentTitle&&(n.lastState=t.state.latest,documentTitle=e("<div>").html(i[1].trim()).text(),documentTitle?document.title=documentTitle+" - JS Bin":document.title="JS Bin",!t.state.latest&&t.state.revision&&(document.title="(#"+t.state.revision+") "+document.title))}return n.re=/<title>(.*)<\/title>/i,n.lastState=null,t.coder.updateTitle=n}),e("skylark-jsbin-coder/editors/snapshot",["skylark-jquery","../jsbin","../coder","../updateTitle"],function(e,t,n,r){return n.editors.snapshot={watchForSnapshots:function(){"use strict";e(document).on("saved",function(){localStorage.latest=t.state.code+"/"+t.state.revision}),window.addEventListener("storage",function(e){if("latest"===e.key){var n=localStorage.latest.split("/");n[0]===t.state.code&&(t.state.latest=!1,t.saveChecksum=!1,t.state.checksum=!1,r(),window.history.replaceState(null,null,t.getURL()+"/edit"))}})}}}),e("skylark-jsbin-coder/editors/beautify",["skylark-jquery","../jsbin","../coder","./panels"],function(e,t,n,r){"use strict";var i=t.settings||{},o=i.keys||{};if(!t.embed&&!o.disabled){var a="mac"===e.browser.platform?"metaKey":"ctrlKey";return e(document).on("keydown",function(e){e[a]&&e.shiftKey&&76==e.which&&s()}),n.editors.beautify=s}function s(){var e=r.focused,n={html:t.static+"/js/vendor/beautify/beautify-html.js",css:t.static+"/js/vendor/beautify/beautify-css.js",js:t.static+"/js/vendor/beautify/beautify.js"};"html"===t.state.processors[e.id]?window.html_beautify?c():l(n.html,c):"css"===t.state.processors[e.id]?window.css_beautify?u():l(n.css,u):"javascript"===t.state.processors[e.id]&&(window.js_beautify?d():l(n.js,d))}function l(t,n){e.getScript(t).done(n)}function c(){m(r.focused,window.html_beautify)}function u(){m(r.focused,window.css_beautify)}function d(){m(r.focused,window.js_beautify)}function m(e,t){e.editor.setCode(t(e.editor.getCode(),{indent_size:i.editor&&i.editor.indentUnit||2}))}}),e("skylark-jsbin-coder/render/upgradeConsolePanel",["skylark-jsbin-console","skylark-jquery","../jsbin","../coder","../editors/panels"],function(e,t,n,r,i){return r.render.upgradeConsolePanel=function(r){r.setCursorTo=e.setCursorTo,r.$el.click(function(n){t(n.target).closest("#output").length||e.focus()}),r.reset=function(){e.reset()},r.settings.render=function(e){renderLivePreview(e||!1)},r.settings.show=function(){e.clear(),setTimeout(function(){i.named.console.ready&&!n.embed&&e.focus()},0)},r.settings.hide=function(){i.named.live.visible},n.$document.one("jsbinReady",function(){var e=function(){t("#runconsole")[this.visible?"hide":"show"]()};i.named.live.on("show",e).on("hide",e),i.named.live.visible&&t("#runconsole").hide()})}}),e("skylark-jsbin-coder/init",["skylark-jsbin-console","skylark-jsbin-renderer","./jsbin","./coder","./editors/panels","./editors/snapshot","./render/upgradeConsolePanel"],function(e,t,n,r,i,o,a){return r.init=function(){(function(){"use strict";try{if("localStorage"in window&&null!==window.localStorage)return!0}catch(e){return!1}})()&&window.addEventListener&&o.watchForSnapshots();var r=null;n.$document.bind("codeChange.live",function e(t,o){clearTimeout(r);var a,s,l=i.named.live;i.ready&&(!1===n.settings.includejs&&"javascript"===o.panelId||l.visible&&(!n.lameEditor&&i.focused&&"javascript"===i.focused.id?(a=i.focused.editor,s=a.getLine(a.getCursor().line),!0===ignoreDuringLive.test(s)?r=setTimeout(function(){e(t,o)},1e3):i.renderLivePreview()):i.renderLivePreview()))});e.init(document.getElementById("output")),a(i.named.console);var s=$("#live");$("#showlive")[0];t.init(s)}}),e("skylark-jsbin-coder/main",["./coder","./editors/mobileCodeMirror","./editors/mobile-command-maps","./editors/mobile-keyboard","./editors/keycontrol","./editors/panel","./editors/panels","./editors/libraries","./editors/library","./editors/addons","./editors/snapshot","./editors/beautify","./init"],function(e){return e}),e("skylark-jsbin-coder",["skylark-jsbin-coder/main"],function(e){return e})}(n),!r){var a=require("skylark-langx-ns");i?module.exports=a:t.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-jsbin-coder.js.map
