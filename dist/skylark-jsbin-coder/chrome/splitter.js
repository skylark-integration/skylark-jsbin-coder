/**
 * skylark-jsbin-coder - A version of jsbin-editor  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-coder/
 * @license MIT
 */
define(["skylark-jquery","skylark-jsbin-base/storage","../jsbin"],function(e,t,o){e.fn.splitter=function(){var i=e(document),s=e('<div class="block"></div>'),r=e("body"),n=JSON.parse(t.localStorage.getItem("splitterSettings")||"[]");return this.each(function(){var l=e(this),p=(e(this),e.fn.splitter.guid++),c=l.parent(),a="x",d="x"===a?l.prevAll(":visible:first"):l.nextAll(":visible:first"),u=e('<div class="resize"></div>'),g=!1,f=(c.width(),c.offset()),m=(f.left,f.top),h={x:{currentPos:c.offset().left,multiplier:1,cssProp:"left",otherCssProp:"right",size:c.width(),sizeProp:"width",moveProp:"pageX",init:{top:0,bottom:0,width:o.mobile?44:8,"margin-left":o.mobile?"-22px":"-4px",height:"100%",left:"auto",right:"auto",opacity:0,position:"absolute",cursor:"ew-resize","border-left":"1px solid rgba(218, 218, 218, 0.5)","z-index":99999}},y:{currentPos:c.offset().top,multiplier:-1,size:c.height(),cssProp:"bottom",otherCssProp:"top",sizeProp:"height",moveProp:"pageY",init:{top:"auto",cursor:"ns-resize",bottom:"auto",height:8,width:"100%",left:0,right:0,opacity:0,position:"absolute",border:0,"z-index":99999}}},b=n[p]||{},v={down:{x:null,y:null},delta:{x:null,y:null},track:!1,timer:null};function P(e){"y"===a&&(e-=m);var o=e-h[a].currentPos,s=100/h[a].size*o,r=(e-b[a])*h[a].multiplier,c=d[h[a].sizeProp](),g=l[h[a].sizeProp]();if("y"===a&&(s=100-s),c<100&&r<0);else if(g<100&&r>0);else{l.css(h[a].cssProp,s+"%"),d.css(h[a].otherCssProp,100-s+"%");var f={};f[h[a].cssProp]=s+"%",u.css(f),b[a]=e,n[p]=b,t.localStorage.setItem("splitterSettings",JSON.stringify(n)),P.timer&&clearTimeout(P.timer),P.timer=setTimeout(function(){i.trigger("sizeeditors")},120)}}function x(){d="x"===a?u.prevAll(":visible:first"):u.nextAll(":visible:first")}u.bind("mousedown",function(e){v.down.x=e.pageX,v.down.y=e.pageY,v.delta={x:null,y:null},v.target=.25*u["x"==a?"height":"width"]()}),i.bind("mousemove",function(e){if(g){v.delta.x=v.down.x-e.pageX,v.delta.y=v.down.y-e.pageY,clearTimeout(v.timer),v.timer=setTimeout(function(){v.down.x=e.pageX,v.down.y=e.pageY},250);var t="x"==a?"y":"x";Math.abs(v.delta[t])>v.target&&(u.trigger("change",t,e[h[t].moveProp]),v.down.x=e.pageX,v.down.y=e.pageY)}}),i.bind("mouseup touchend",function(){g&&(g=!1,s.remove(),r.removeClass("dragging"))}).bind("mousemove touchmove",function(e){g&&P(e[h[a].moveProp]||e.originalEvent.touches[0][h[a].moveProp])}),s.bind("mousemove touchmove",function(e){g&&P(e[h[a].moveProp]||e.originalEvent.touches[0][h[a].moveProp])}),u.bind("mousedown touchstart",function(e){g=!0,r.append(s).addClass("dragging"),h[a].size=c[h[a].sizeProp](),h[a].currentPos=0,x(),e.preventDefault()}),u.bind("init",function(e,t){u.css(h[a].init),h[a].size=c[h[a].sizeProp](),x(),m=c.offset().top,s.css("cursor","x"==a?"ew-resize":"ns-resize"),"y"==a?(l.css("border-right",0),d.css("border-left",0),d.css("border-top","2px solid #ccc")):l.css("border-top",0),l.is(":hidden")?u.hide():(d.length?l.css("border-"+h[a].cssProp,"1px solid #ccc"):l.css("border-"+h[a].cssProp,"0"),P(void 0!==t?t:l.offset()[h[a].cssProp]))}),d.css("width","auto"),d.css("height","auto"),l.data("splitter",u),l.before(u)})},e.fn.splitter.guid=0});
//# sourceMappingURL=../sourcemaps/chrome/splitter.js.map
